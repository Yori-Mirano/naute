(self.webpackChunknaute=self.webpackChunknaute||[]).push([[179],{2011:(vt,de,Y)=>{"use strict";Y.d(de,{hO:()=>R,xv:()=>H,Dh:()=>U,GT:()=>Z,cc:()=>x,on:()=>D,pX:()=>$});var m=Y(5e3),S=Y(127),T=Y(5813);vt=Y.hmd(vt);const F=["ngOnDestroy"],$=(re,pe,fe,me={})=>new Proxy(re,{get:(te,ye)=>fe.runOutsideAngular(()=>{var xe;if(re[ye])return(null===(xe=null==me?void 0:me.spy)||void 0===xe?void 0:xe.get)&&me.spy.get(ye,re[ye]),re[ye];if(F.indexOf(ye)>-1)return()=>{};const ae=pe.toPromise().then(oe=>{const k=oe&&oe[ye];return"function"==typeof k?k.bind(oe):k&&k.then?k.then(he=>fe.run(()=>he)):fe.run(()=>k)});return new Proxy(()=>{},{get:(oe,k)=>ae[k],apply:(oe,k,he)=>ae.then(Ce=>{var ie;const ue=Ce&&Ce(...he);return(null===(ie=null==me?void 0:me.spy)||void 0===ie?void 0:ie.apply)&&me.spy.apply(ye,he,ue),ue})})})}),Z=(re,pe)=>{pe.forEach(fe=>{Object.getOwnPropertyNames(fe.prototype||fe).forEach(me=>{Object.defineProperty(re.prototype,me,Object.getOwnPropertyDescriptor(fe.prototype||fe,me))})})};class P{constructor(pe){return pe}}const U=new m.OlP("angularfire2.app.options"),H=new m.OlP("angularfire2.app.name");function D(re,pe,fe){const te="object"==typeof fe&&fe||{};te.name=te.name||"string"==typeof fe&&fe||"[DEFAULT]";const xe=S.Z.apps.filter(ae=>ae&&ae.name===te.name)[0]||pe.runOutsideAngular(()=>S.Z.initializeApp(re,te));try{JSON.stringify(re)!==JSON.stringify(xe.options)&&I("error",`${xe.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ae){}return new P(xe)}const I=(re,...pe)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[re](...pe)},j={provide:P,useFactory:D,deps:[U,m.R0b,[new m.FiY,H]]};let R=(()=>{class re{constructor(fe){S.Z.registerVersion("angularfire",T.q4.full,"core"),S.Z.registerVersion("angularfire",T.q4.full,"app-compat"),S.Z.registerVersion("angular",m.q4F.full,fe.toString())}static initializeApp(fe,me){return{ngModule:re,providers:[{provide:U,useValue:fe},{provide:H,useValue:me}]}}}return re.\u0275fac=function(fe){return new(fe||re)(m.LFG(m.Lbi))},re.\u0275mod=m.oAB({type:re}),re.\u0275inj=m.cJS({providers:[j]}),re})();function x(re,pe,fe,me,te){const[,ye,xe]=globalThis.\u0275AngularfireInstanceCache.find(ae=>ae[0]===re)||[];if(ye)return function V(re,pe){try{return re.toString()===pe.toString()}catch(fe){return re===pe}}(te,xe)||(G("error",`${pe} was already initialized on the ${fe} Firebase App with different settings.${q?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:te,was:xe})),ye;{const ae=me();return globalThis.\u0275AngularfireInstanceCache.push([re,ae,te]),ae}}const q=!!vt.hot,G=(re,...pe)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[re](...pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(vt,de,Y)=>{"use strict";Y.d(de,{q4:()=>cl,iC:()=>Js,HU:()=>xu,vb:()=>hl,JM:()=>uc});var m=Y(5e3),S=Y(5867),T=Y(5861),F=Y(9681),$=Y(2090),Z=Y(4859),P=Y(1877),U=Y(2940);const H="@firebase/installations",D="0.5.5",j=`w:${D}`,R="FIS_v2",pe=new $.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fe(L){return L instanceof $.ZR&&L.code.includes("request-failed")}function me({projectId:L}){return`https://firebaseinstallations.googleapis.com/v1/projects/${L}/installations`}function te(L){return{token:L.token,requestStatus:2,expiresIn:Ce(L.expiresIn),creationTime:Date.now()}}function ye(L,K){return xe.apply(this,arguments)}function xe(){return(xe=(0,T.Z)(function*(L,K){const Se=(yield K.json()).error;return pe.create("request-failed",{requestName:L,serverCode:Se.code,serverMessage:Se.message,serverStatus:Se.status})})).apply(this,arguments)}function ae({apiKey:L}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L})}function oe(L,{refreshToken:K}){const ce=ae(L);return ce.append("Authorization",function ie(L){return`${R} ${L}`}(K)),ce}function k(L){return he.apply(this,arguments)}function he(){return(he=(0,T.Z)(function*(L){const K=yield L();return K.status>=500&&K.status<600?L():K})).apply(this,arguments)}function Ce(L){return Number(L.replace("s","000"))}function ue(L,K){return W.apply(this,arguments)}function W(){return(W=(0,T.Z)(function*(L,{fid:K}){const ce=me(L),Ze={method:"POST",headers:ae(L),body:JSON.stringify({fid:K,authVersion:R,appId:L.appId,sdkVersion:j})},mt=yield k(()=>fetch(ce,Ze));if(mt.ok){const Et=yield mt.json();return{fid:Et.fid||K,registrationStatus:2,refreshToken:Et.refreshToken,authToken:te(Et.authToken)}}throw yield ye("Create Installation",mt)})).apply(this,arguments)}function Re(L){return new Promise(K=>{setTimeout(K,L)})}const se=/^[cdef][\w-]{21}$/;function Q(){try{const L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;const ce=function B(L){return function Ie(L){return btoa(String.fromCharCode(...L)).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return se.test(ce)?ce:""}catch(L){return""}}function we(L){return`${L.appName}!${L.appId}`}const ke=new Map;function Oe(L,K){const ce=we(L);Je(ce,K),function Pt(L,K){const ce=function J(){return!Ct&&"BroadcastChannel"in self&&(Ct=new BroadcastChannel("[Firebase] FID Change"),Ct.onmessage=L=>{Je(L.data.key,L.data.fid)}),Ct}();ce&&ce.postMessage({key:L,fid:K}),function Ne(){0===ke.size&&Ct&&(Ct.close(),Ct=null)}()}(ce,K)}function Je(L,K){const ce=ke.get(L);if(ce)for(const Se of ce)Se(K)}let Ct=null;const be="firebase-installations-store";let Pe=null;function We(){return Pe||(Pe=(0,U.openDb)("firebase-installations-database",1,L=>{0===L.oldVersion&&L.createObjectStore(be)})),Pe}function tt(L,K){return ze.apply(this,arguments)}function ze(){return(ze=(0,T.Z)(function*(L,K){const ce=we(L),Ge=(yield We()).transaction(be,"readwrite"),Ze=Ge.objectStore(be),mt=yield Ze.get(ce);return yield Ze.put(K,ce),yield Ge.complete,(!mt||mt.fid!==K.fid)&&Oe(L,K.fid),K})).apply(this,arguments)}function dt(L){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,T.Z)(function*(L){const K=we(L),Se=(yield We()).transaction(be,"readwrite");yield Se.objectStore(be).delete(K),yield Se.complete})).apply(this,arguments)}function Ye(L,K){return nt.apply(this,arguments)}function nt(){return(nt=(0,T.Z)(function*(L,K){const ce=we(L),Ge=(yield We()).transaction(be,"readwrite"),Ze=Ge.objectStore(be),mt=yield Ze.get(ce),Et=K(mt);return void 0===Et?yield Ze.delete(ce):yield Ze.put(Et,ce),yield Ge.complete,Et&&(!mt||mt.fid!==Et.fid)&&Oe(L,Et.fid),Et})).apply(this,arguments)}function kt(L){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,T.Z)(function*(L){let K;const ce=yield Ye(L,Se=>{const Ge=sn(Se),Ze=Qt(L,Ge);return K=Ze.registrationPromise,Ze.installationEntry});return""===ce.fid?{installationEntry:yield K}:{installationEntry:ce,registrationPromise:K}})).apply(this,arguments)}function sn(L){return vn(L||{fid:Q(),registrationStatus:0})}function Qt(L,K){if(0===K.registrationStatus){if(!navigator.onLine)return{installationEntry:K,registrationPromise:Promise.reject(pe.create("app-offline"))};const ce={fid:K.fid,registrationStatus:1,registrationTime:Date.now()},Se=function Ot(L,K){return xt.apply(this,arguments)}(L,ce);return{installationEntry:ce,registrationPromise:Se}}return 1===K.registrationStatus?{installationEntry:K,registrationPromise:cn(L)}:{installationEntry:K}}function xt(){return(xt=(0,T.Z)(function*(L,K){try{return tt(L,yield ue(L,K))}catch(ce){throw fe(ce)&&409===ce.customData.serverCode?yield dt(L):yield tt(L,{fid:K.fid,registrationStatus:0}),ce}})).apply(this,arguments)}function cn(L){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,T.Z)(function*(L){let K=yield nn(L);for(;1===K.registrationStatus;)yield Re(100),K=yield nn(L);if(0===K.registrationStatus){const{installationEntry:ce,registrationPromise:Se}=yield kt(L);return Se||ce}return K})).apply(this,arguments)}function nn(L){return Ye(L,K=>{if(!K)throw pe.create("installation-not-found");return vn(K)})}function vn(L){return function yn(L){return 1===L.registrationStatus&&L.registrationTime+1e4<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function Dn(L,K){return Me.apply(this,arguments)}function Me(){return(Me=(0,T.Z)(function*({appConfig:L,platformLoggerProvider:K},ce){const Se=Le(L,ce),Ge=oe(L,ce),Ze=K.getImmediate({optional:!0});Ze&&Ge.append("x-firebase-client",Ze.getPlatformInfoString());const Et={method:"POST",headers:Ge,body:JSON.stringify({installation:{sdkVersion:j}})},Vt=yield k(()=>fetch(Se,Et));if(Vt.ok)return te(yield Vt.json());throw yield ye("Generate Auth Token",Vt)})).apply(this,arguments)}function Le(L,{fid:K}){return`${me(L)}/${K}/authTokens:generate`}function Be(L){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,T.Z)(function*(L,K=!1){let ce;const Se=yield Ye(L.appConfig,Ze=>{if(!Kn(Ze))throw pe.create("not-registered");const mt=Ze.authToken;if(!K&&ui(mt))return Ze;if(1===mt.requestStatus)return ce=Ke(L,K),Ze;{if(!navigator.onLine)throw pe.create("app-offline");const Et=pr(Ze);return ce=Nn(L,Et),Et}});return ce?yield ce:Se.authToken})).apply(this,arguments)}function Ke(L,K){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,T.Z)(function*(L,K){let ce=yield Kt(L.appConfig);for(;1===ce.authToken.requestStatus;)yield Re(100),ce=yield Kt(L.appConfig);const Se=ce.authToken;return 0===Se.requestStatus?Be(L,K):Se})).apply(this,arguments)}function Kt(L){return Ye(L,K=>{if(!Kn(K))throw pe.create("not-registered");return function Ci(L){return 1===L.requestStatus&&L.requestTime+1e4<Date.now()}(K.authToken)?Object.assign(Object.assign({},K),{authToken:{requestStatus:0}}):K})}function Nn(L,K){return zn.apply(this,arguments)}function zn(){return(zn=(0,T.Z)(function*(L,K){try{const ce=yield Dn(L,K),Se=Object.assign(Object.assign({},K),{authToken:ce});return yield tt(L.appConfig,Se),ce}catch(ce){if(!fe(ce)||401!==ce.customData.serverCode&&404!==ce.customData.serverCode){const Se=Object.assign(Object.assign({},K),{authToken:{requestStatus:0}});yield tt(L.appConfig,Se)}else yield dt(L.appConfig);throw ce}})).apply(this,arguments)}function Kn(L){return void 0!==L&&2===L.registrationStatus}function ui(L){return 2===L.requestStatus&&!function pn(L){const K=Date.now();return K<L.creationTime||L.creationTime+L.expiresIn<K+36e5}(L)}function pr(L){const K={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},L),{authToken:K})}function Sl(){return(Sl=(0,T.Z)(function*(L){const K=L,{installationEntry:ce,registrationPromise:Se}=yield kt(K.appConfig);return Se?Se.catch(console.error):Be(K).catch(console.error),ce.fid})).apply(this,arguments)}function ma(){return(ma=(0,T.Z)(function*(L,K=!1){const ce=L;return yield Mr(ce.appConfig),(yield Be(ce,K)).token})).apply(this,arguments)}function Mr(L){return ei.apply(this,arguments)}function ei(){return(ei=(0,T.Z)(function*(L){const{registrationPromise:K}=yield kt(L);K&&(yield K)})).apply(this,arguments)}function Go(L){return pe.create("missing-app-config-values",{valueName:L})}const Ai="installations",yt=L=>{const K=L.getProvider("app").getImmediate(),ce=function ir(L){if(!L||!L.options)throw Go("App Configuration");if(!L.name)throw Go("App Name");const K=["projectId","apiKey","appId"];for(const ce of K)if(!L.options[ce])throw Go(ce);return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}(K);return{app:K,appConfig:ce,platformLoggerProvider:(0,F._getProvider)(K,"platform-logger"),_delete:()=>Promise.resolve()}},An=L=>{const K=L.getProvider("app").getImmediate(),ce=(0,F._getProvider)(K,Ai).getImmediate();return{getId:()=>function ga(L){return Sl.apply(this,arguments)}(ce),getToken:Ge=>function au(L){return ma.apply(this,arguments)}(ce,Ge)}};(function ti(){(0,F._registerComponent)(new Z.wA(Ai,yt,"PUBLIC")),(0,F._registerComponent)(new Z.wA("installations-internal",An,"PRIVATE"))})(),(0,F.registerVersion)(H,D),(0,F.registerVersion)(H,D,"esm2017");const Rr="@firebase/remote-config",at=new $.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ec{constructor(K,ce,Se,Ge){this.client=K,this.storage=ce,this.storageCache=Se,this.logger=Ge}isCachedDataFresh(K,ce){if(!ce)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Se=Date.now()-ce,Ge=Se<=K;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Se}. Cache max age millis (minimumFetchIntervalMillis setting): ${K}. Is cache hit: ${Ge}.`),Ge}fetch(K){var ce=this;return(0,T.Z)(function*(){const[Se,Ge]=yield Promise.all([ce.storage.getLastSuccessfulFetchTimestampMillis(),ce.storage.getLastSuccessfulFetchResponse()]);if(Ge&&ce.isCachedDataFresh(K.cacheMaxAgeMillis,Se))return Ge;K.eTag=Ge&&Ge.eTag;const Ze=yield ce.client.fetch(K),mt=[ce.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ze.status&&mt.push(ce.storage.setLastSuccessfulFetchResponse(Ze)),yield Promise.all(mt),Ze})()}}function Ml(L=navigator){return L.languages&&L.languages[0]||L.language}class _r{constructor(K,ce,Se,Ge,Ze,mt){this.firebaseInstallations=K,this.sdkVersion=ce,this.namespace=Se,this.projectId=Ge,this.apiKey=Ze,this.appId=mt}fetch(K){var ce=this;return(0,T.Z)(function*(){const[Se,Ge]=yield Promise.all([ce.firebaseInstallations.getId(),ce.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ce.projectId}/namespaces/${ce.namespace}:fetch?key=${ce.apiKey}`,Et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":K.eTag||"*"},Vt={sdk_version:ce.sdkVersion,app_instance_id:Se,app_instance_id_token:Ge,app_id:ce.appId,language_code:Ml()},gn={method:"POST",headers:Et,body:JSON.stringify(Vt)},Mn=fetch(mt,gn),Lr=new Promise((Xs,Dr)=>{K.signal.addEventListener(()=>{const Ta=new Error("The operation was aborted.");Ta.name="AbortError",Dr(Ta)})});let Fr;try{yield Promise.race([Mn,Lr]),Fr=yield Mn}catch(Xs){let Dr="fetch-client-network";throw"AbortError"===Xs.name&&(Dr="fetch-timeout"),at.create(Dr,{originalErrorMessage:Xs.message})}let fn=Fr.status;const Ss=Fr.headers.get("ETag")||void 0;let vi,oi;if(200===Fr.status){let Xs;try{Xs=yield Fr.json()}catch(Dr){throw at.create("fetch-client-parse",{originalErrorMessage:Dr.message})}vi=Xs.entries,oi=Xs.state}if("INSTANCE_STATE_UNSPECIFIED"===oi?fn=500:"NO_CHANGE"===oi?fn=304:("NO_TEMPLATE"===oi||"EMPTY_CONFIG"===oi)&&(vi={}),304!==fn&&200!==fn)throw at.create("fetch-status",{httpStatus:fn});return{status:fn,eTag:Ss,config:vi}})()}}class Ur{constructor(K,ce){this.client=K,this.storage=ce}fetch(K){var ce=this;return(0,T.Z)(function*(){const Se=(yield ce.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ce.attemptFetch(K,Se)})()}attemptFetch(K,{throttleEndTimeMillis:ce,backoffCount:Se}){var Ge=this;return(0,T.Z)(function*(){yield function Wc(L,K){return new Promise((ce,Se)=>{const Ge=Math.max(K-Date.now(),0),Ze=setTimeout(ce,Ge);L.addEventListener(()=>{clearTimeout(Ze),Se(at.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}(K.signal,ce);try{const Ze=yield Ge.client.fetch(K);return yield Ge.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function Jd(L){if(!(L instanceof $.ZR&&L.customData))return!1;const K=Number(L.customData.httpStatus);return 429===K||500===K||503===K||504===K}(Ze))throw Ze;const mt={throttleEndTimeMillis:Date.now()+(0,$.$s)(Se),backoffCount:Se+1};return yield Ge.storage.setThrottleMetadata(mt),Ge.attemptFetch(K,mt)}})()}}class tc{constructor(K,ce,Se,Ge,Ze){this.app=K,this._client=ce,this._storageCache=Se,this._storage=Ge,this._logger=Ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yo(L,K){const ce=L.target.error||void 0;return at.create(K,{originalErrorMessage:ce&&ce.message})}const qa="app_namespace_store";class cu{constructor(K,ce,Se,Ge=function Xd(){return new Promise((L,K)=>{try{const ce=indexedDB.open("firebase_remote_config",1);ce.onerror=Se=>{K(yo(Se,"storage-open"))},ce.onsuccess=Se=>{L(Se.target.result)},ce.onupgradeneeded=Se=>{0===Se.oldVersion&&Se.target.result.createObjectStore(qa,{keyPath:"compositeKey"})}}catch(ce){K(at.create("storage-open",{originalErrorMessage:ce}))}})}()){this.appId=K,this.appName=ce,this.namespace=Se,this.openDbPromise=Ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(K){return this.set("last_fetch_status",K)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(K){return this.set("last_successful_fetch_timestamp_millis",K)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(K){return this.set("last_successful_fetch_response",K)}getActiveConfig(){return this.get("active_config")}setActiveConfig(K){return this.set("active_config",K)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(K){return this.set("active_config_etag",K)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(K){return this.set("throttle_metadata",K)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(K){var ce=this;return(0,T.Z)(function*(){const Se=yield ce.openDbPromise;return new Promise((Ge,Ze)=>{const Et=Se.transaction([qa],"readonly").objectStore(qa),Vt=ce.createCompositeKey(K);try{const gn=Et.get(Vt);gn.onerror=Mn=>{Ze(yo(Mn,"storage-get"))},gn.onsuccess=Mn=>{const Lr=Mn.target.result;Ge(Lr?Lr.value:void 0)}}catch(gn){Ze(at.create("storage-get",{originalErrorMessage:gn&&gn.message}))}})})()}set(K,ce){var Se=this;return(0,T.Z)(function*(){const Ge=yield Se.openDbPromise;return new Promise((Ze,mt)=>{const Vt=Ge.transaction([qa],"readwrite").objectStore(qa),gn=Se.createCompositeKey(K);try{const Mn=Vt.put({compositeKey:gn,value:ce});Mn.onerror=Lr=>{mt(yo(Lr,"storage-set"))},Mn.onsuccess=()=>{Ze()}}catch(Mn){mt(at.create("storage-set",{originalErrorMessage:Mn&&Mn.message}))}})})()}delete(K){var ce=this;return(0,T.Z)(function*(){const Se=yield ce.openDbPromise;return new Promise((Ge,Ze)=>{const Et=Se.transaction([qa],"readwrite").objectStore(qa),Vt=ce.createCompositeKey(K);try{const gn=Et.delete(Vt);gn.onerror=Mn=>{Ze(yo(Mn,"storage-delete"))},gn.onsuccess=()=>{Ge()}}catch(gn){Ze(at.create("storage-delete",{originalErrorMessage:gn&&gn.message}))}})})()}createCompositeKey(K){return[this.appId,this.appName,this.namespace,K].join()}}class ya{constructor(K){this.storage=K}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var K=this;return(0,T.Z)(function*(){const ce=K.storage.getLastFetchStatus(),Se=K.storage.getLastSuccessfulFetchTimestampMillis(),Ge=K.storage.getActiveConfig(),Ze=yield ce;Ze&&(K.lastFetchStatus=Ze);const mt=yield Se;mt&&(K.lastSuccessfulFetchTimestampMillis=mt);const Et=yield Ge;Et&&(K.activeConfig=Et)})()}setLastFetchStatus(K){return this.lastFetchStatus=K,this.storage.setLastFetchStatus(K)}setLastSuccessfulFetchTimestampMillis(K){return this.lastSuccessfulFetchTimestampMillis=K,this.storage.setLastSuccessfulFetchTimestampMillis(K)}setActiveConfig(K){return this.activeConfig=K,this.storage.setActiveConfig(K)}}function Zc(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,T.Z)(function*(){if(!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch(L){return!1}})).apply(this,arguments)}!function Kh(){(0,F._registerComponent)(new Z.wA("remote-config",function L(K,{instanceIdentifier:ce}){const Se=K.getProvider("app").getImmediate(),Ge=K.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw at.create("registration-window");if(!(0,$.hl)())throw at.create("indexed-db-unavailable");const{projectId:Ze,apiKey:mt,appId:Et}=Se.options;if(!Ze)throw at.create("registration-project-id");if(!mt)throw at.create("registration-api-key");if(!Et)throw at.create("registration-app-id");const Vt=new cu(Et,Se.name,ce=ce||"firebase"),gn=new ya(Vt),Mn=new P.Yd(Rr);Mn.logLevel=P.in.ERROR;const Lr=new _r(Ge,F.SDK_VERSION,ce,Ze,mt,Et),Fr=new Ur(Lr,Vt),fn=new ec(Fr,Vt,gn,Mn),Ss=new tc(Se,fn,gn,Vt,Mn);return function kn(L){const K=(0,$.m9)(L);K._initializePromise||(K._initializePromise=K._storageCache.loadFromStorage().then(()=>{K._isInitializationComplete=!0}))}(Ss),Ss},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(Rr,"0.3.4"),(0,F.registerVersion)(Rr,"0.3.4","esm2017")}();const Hs="/firebase-messaging-sw.js",Ui="/firebase-cloud-messaging-push-scope",Zo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ka="google.c.a.c_id",nc="google.c.a.c_l",js="google.c.a.ts",_a="google.c.a.e";var bs=(()=>{return(L=bs||(bs={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",bs;var L})();function Vi(L){const K=new Uint8Array(L);return btoa(String.fromCharCode(...K)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bo(L){const ce=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Se=atob(ce),Ge=new Uint8Array(Se.length);for(let Ze=0;Ze<Se.length;++Ze)Ge[Ze]=Se.charCodeAt(Ze);return Ge}const Vr="fcm_token_details_db",Ol="fcm_token_object_Store";function du(L){return wo.apply(this,arguments)}function wo(){return wo=(0,T.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ze=>Ze.name).includes(Vr))return null;let K=null;return(yield(0,U.openDb)(Vr,5,function(){var Se=(0,T.Z)(function*(Ge){var Ze;if(Ge.oldVersion<2||!Ge.objectStoreNames.contains(Ol))return;const mt=Ge.transaction.objectStore(Ol),Et=yield mt.index("fcmSenderId").get(L);if(yield mt.clear(),Et)if(2===Ge.oldVersion){const Vt=Et;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;K={token:Vt.fcmToken,createTime:null!==(Ze=Vt.createTime)&&void 0!==Ze?Ze:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:Vi(Vt.vapidKey)}}}else if(3===Ge.oldVersion){const Vt=Et;K={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Vi(Vt.auth),p256dh:Vi(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Vi(Vt.vapidKey)}}}else if(4===Ge.oldVersion){const Vt=Et;K={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Vi(Vt.auth),p256dh:Vi(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Vi(Vt.vapidKey)}}}});return function(Ge){return Se.apply(this,arguments)}}())).close(),yield(0,U.deleteDb)(Vr),yield(0,U.deleteDb)("fcm_vapid_details_db"),yield(0,U.deleteDb)("undefined"),hu(K)?K:null}),wo.apply(this,arguments)}function hu(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:K}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof K.auth&&K.auth.length>0&&"string"==typeof K.p256dh&&K.p256dh.length>0&&"string"==typeof K.endpoint&&K.endpoint.length>0&&"string"==typeof K.swScope&&K.swScope.length>0&&"string"==typeof K.vapidKey&&K.vapidKey.length>0}const Eo="firebase-messaging-store";let pu=null;function Hn(){return pu||(pu=(0,U.openDb)("firebase-messaging-database",1,L=>{0===L.oldVersion&&L.createObjectStore(Eo)})),pu}function Rl(L){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,T.Z)(function*(L){const K=Nr(L),Se=yield(yield Hn()).transaction(Eo).objectStore(Eo).get(K);if(Se)return Se;{const Ge=yield du(L.appConfig.senderId);if(Ge)return yield Bn(L,Ge),Ge}})).apply(this,arguments)}function Bn(L,K){return gu.apply(this,arguments)}function gu(){return(gu=(0,T.Z)(function*(L,K){const ce=Nr(L),Ge=(yield Hn()).transaction(Eo,"readwrite");return yield Ge.objectStore(Eo).put(K,ce),yield Ge.complete,K})).apply(this,arguments)}function Za(L){return ba.apply(this,arguments)}function ba(){return(ba=(0,T.Z)(function*(L){const K=Nr(L),Se=(yield Hn()).transaction(Eo,"readwrite");yield Se.objectStore(Eo).delete(K),yield Se.complete})).apply(this,arguments)}function Nr({appConfig:L}){return L.appId}const Gn=new $.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Co(L,K){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,T.Z)(function*(L,K){const ce=yield es(L),Se=Qa(K),Ge={method:"POST",headers:ce,body:JSON.stringify(Se)};let Ze;try{Ze=yield(yield fetch(Do(L.appConfig),Ge)).json()}catch(mt){throw Gn.create("token-subscribe-failed",{errorInfo:mt})}if(Ze.error)throw Gn.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw Gn.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function Ya(L,K){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,T.Z)(function*(L,K){const ce=yield es(L),Se=Qa(K.subscriptionOptions),Ge={method:"PATCH",headers:ce,body:JSON.stringify(Se)};let Ze;try{Ze=yield(yield fetch(`${Do(L.appConfig)}/${K.token}`,Ge)).json()}catch(mt){throw Gn.create("token-update-failed",{errorInfo:mt})}if(Ze.error)throw Gn.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw Gn.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function ur(L,K){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,T.Z)(function*(L,K){const Se={method:"DELETE",headers:yield es(L)};try{const Ze=yield(yield fetch(`${Do(L.appConfig)}/${K}`,Se)).json();if(Ze.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(Ge){throw Gn.create("token-unsubscribe-failed",{errorInfo:Ge})}})).apply(this,arguments)}function Do({projectId:L}){return`https://fcmregistrations.googleapis.com/v1/projects/${L}/registrations`}function es(L){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,T.Z)(function*({appConfig:L,installations:K}){const ce=yield K.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${ce}`})})).apply(this,arguments)}function Qa({p256dh:L,auth:K,endpoint:ce,vapidKey:Se}){const Ge={web:{endpoint:ce,auth:K,p256dh:L}};return Se!==Zo&&(Ge.web.applicationPubKey=Se),Ge}const Nl=6048e5;function mu(L){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,T.Z)(function*(L){const K=yield Pn(L.swRegistration,L.vapidKey),ce={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:K.endpoint,auth:Vi(K.getKey("auth")),p256dh:Vi(K.getKey("p256dh"))},Se=yield Rl(L.firebaseDependencies);if(Se){if(Ea(Se.subscriptionOptions,ce))return Date.now()>=Se.createTime+Nl?Qc(L,{token:Se.token,createTime:Date.now(),subscriptionOptions:ce}):Se.token;try{yield ur(L.firebaseDependencies,Se.token)}catch(Ge){console.warn(Ge)}return mn(L.firebaseDependencies,ce)}return mn(L.firebaseDependencies,ce)})).apply(this,arguments)}function ic(L){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,T.Z)(function*(L){const K=yield Rl(L.firebaseDependencies);K&&(yield ur(L.firebaseDependencies,K.token),yield Za(L.firebaseDependencies));const ce=yield L.swRegistration.pushManager.getSubscription();return!ce||ce.unsubscribe()})).apply(this,arguments)}function Qc(L,K){return ft.apply(this,arguments)}function ft(){return(ft=(0,T.Z)(function*(L,K){try{const ce=yield Ya(L.firebaseDependencies,K),Se=Object.assign(Object.assign({},K),{token:ce,createTime:Date.now()});return yield Bn(L.firebaseDependencies,Se),ce}catch(ce){throw yield ic(L),ce}})).apply(this,arguments)}function mn(L,K){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,T.Z)(function*(L,K){const Se={token:yield Co(L,K),createTime:Date.now(),subscriptionOptions:K};return yield Bn(L,Se),Se.token})).apply(this,arguments)}function Pn(L,K){return zs.apply(this,arguments)}function zs(){return(zs=(0,T.Z)(function*(L,K){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bo(K)})})).apply(this,arguments)}function Ea(L,K){return K.vapidKey===L.vapidKey&&K.endpoint===L.endpoint&&K.auth===L.auth&&K.p256dh===L.p256dh}function di(L){const K={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function ws(L,K){if(!K.notification)return;L.notification={};const ce=K.notification.title;ce&&(L.notification.title=ce);const Se=K.notification.body;Se&&(L.notification.body=Se);const Ge=K.notification.image;Ge&&(L.notification.image=Ge)}(K,L),function Io(L,K){!K.data||(L.data=K.data)}(K,L),function vu(L,K){if(!K.fcmOptions)return;L.fcmOptions={};const ce=K.fcmOptions.link;ce&&(L.fcmOptions.link=ce);const Se=K.fcmOptions.analytics_label;Se&&(L.fcmOptions.analyticsLabel=Se)}(K,L),K}function Jc(L){return"object"==typeof L&&!!L&&Ka in L}function Xa(L,K){const ce=[];for(let Se=0;Se<L.length;Se++)ce.push(L.charAt(Se)),Se<K.length&&ce.push(K.charAt(Se));return ce.join("")}function br(L){return Gn.create("missing-app-config-values",{valueName:L})}Xa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ji{constructor(K,ce,Se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ge=function el(L){if(!L||!L.options)throw br("App Configuration Object");if(!L.name)throw br("App Name");const K=["projectId","apiKey","appId","messagingSenderId"],{options:ce}=L;for(const Se of K)if(!ce[Se])throw br(Se);return{appName:L.name,projectId:ce.projectId,apiKey:ce.apiKey,appId:ce.appId,senderId:ce.messagingSenderId}}(K);this.firebaseDependencies={app:K,appConfig:Ge,installations:ce,analyticsProvider:Se}}_delete(){return Promise.resolve()}}function Qo(L){return wr.apply(this,arguments)}function wr(){return(wr=(0,T.Z)(function*(L){try{L.swRegistration=yield navigator.serviceWorker.register(Hs,{scope:Ui}),L.swRegistration.update().catch(()=>{})}catch(K){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:K.message})}})).apply(this,arguments)}function Gs(L,K){return tl.apply(this,arguments)}function tl(){return(tl=(0,T.Z)(function*(L,K){if(!K&&!L.swRegistration&&(yield Qo(L)),K||!L.swRegistration){if(!(K instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");L.swRegistration=K}})).apply(this,arguments)}function Xc(L,K){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,T.Z)(function*(L,K){K?L.vapidKey=K:L.vapidKey||(L.vapidKey=Zo)})).apply(this,arguments)}function Jo(){return(Jo=(0,T.Z)(function*(L,K){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield Xc(L,null==K?void 0:K.vapidKey),yield Gs(L,null==K?void 0:K.serviceWorkerRegistration),mu(L)})).apply(this,arguments)}function yu(L,K,ce){return To.apply(this,arguments)}function To(){return(To=(0,T.Z)(function*(L,K,ce){const Se=_u(K);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(Se,{message_id:ce[Ka],message_name:ce[nc],message_time:ce[js],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _u(L){switch(L){case bs.NOTIFICATION_CLICKED:return"notification_open";case bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nl(){return(nl=(0,T.Z)(function*(L,K){const ce=K.data;if(!ce.isFirebaseMessaging)return;L.onMessageHandler&&ce.messageType===bs.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(di(ce)):L.onMessageHandler.next(di(ce)));const Se=ce.data;Jc(Se)&&"1"===Se[_a]&&(yield yu(L,ce.messageType,Se))})).apply(this,arguments)}const $s="@firebase/messaging",Ws=L=>{const K=new ji(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ce=>function eh(L,K){return nl.apply(this,arguments)}(K,ce)),K},ts=L=>{const K=L.getProvider("messaging").getImmediate();return{getToken:Se=>function ed(L,K){return Jo.apply(this,arguments)}(K,Se)}};function Xo(){return ns.apply(this,arguments)}function ns(){return(ns=(0,T.Z)(function*(){try{yield(0,$.eu)()}catch(L){return!1}return"undefined"!=typeof window&&(0,$.hl)()&&(0,$.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function td(){(0,F._registerComponent)(new Z.wA("messaging",Ws,"PUBLIC")),(0,F._registerComponent)(new Z.wA("messaging-internal",ts,"PRIVATE")),(0,F.registerVersion)($s,"0.9.8"),(0,F.registerVersion)($s,"0.9.8","esm2017")}();const Ca="analytics",Fl="firebase_id",Bl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qs="https://www.googletagmanager.com/gtag/js",Xn=new P.Yd("@firebase/analytics");function hi(L){return Promise.all(L.map(K=>K.catch(ce=>ce)))}function ii(L,K){const ce=document.createElement("script");ce.src=`${qs}?l=${L}&id=${K}`,ce.async=!0,document.head.appendChild(ce)}function sc(L,K,ce,Se,Ge,Ze){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,T.Z)(function*(L,K,ce,Se,Ge,Ze){const mt=Se[Ge];try{if(mt)yield K[mt];else{const Vt=(yield hi(ce)).find(gn=>gn.measurementId===Ge);Vt&&(yield K[Vt.appId])}}catch(Et){Xn.error(Et)}L("config",Ge,Ze)})).apply(this,arguments)}function il(L,K,ce,Se,Ge){return ea.apply(this,arguments)}function ea(){return(ea=(0,T.Z)(function*(L,K,ce,Se,Ge){try{let Ze=[];if(Ge&&Ge.send_to){let mt=Ge.send_to;Array.isArray(mt)||(mt=[mt]);const Et=yield hi(ce);for(const Vt of mt){const gn=Et.find(Lr=>Lr.measurementId===Vt),Mn=gn&&K[gn.appId];if(!Mn){Ze=[];break}Ze.push(Mn)}}0===Ze.length&&(Ze=Object.values(K)),yield Promise.all(Ze),L("event",Se,Ge||{})}catch(Ze){Xn.error(Ze)}})).apply(this,arguments)}function er(){const L=window.document.getElementsByTagName("script");for(const K of Object.values(L))if(K.src&&K.src.includes(qs))return K;return null}const zr=new $.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gi=new class sl{constructor(K={},ce=1e3){this.throttleMetadata=K,this.intervalMillis=ce}getThrottleMetadata(K){return this.throttleMetadata[K]}setThrottleMetadata(K,ce){this.throttleMetadata[K]=ce}deleteThrottleMetadata(K){delete this.throttleMetadata[K]}};function Hl(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function Ln(L){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,T.Z)(function*(L){var K;const{appId:ce,apiKey:Se}=L,Ge={method:"GET",headers:Hl(Se)},Ze=Bl.replace("{app-id}",ce),mt=yield fetch(Ze,Ge);if(200!==mt.status&&304!==mt.status){let Et="";try{const Vt=yield mt.json();(null===(K=Vt.error)||void 0===K?void 0:K.message)&&(Et=Vt.error.message)}catch(Vt){}throw zr.create("config-fetch-failed",{httpStatus:mt.status,responseMessage:Et})}return mt.json()})).apply(this,arguments)}function sr(L){return on.apply(this,arguments)}function on(){return(on=(0,T.Z)(function*(L,K=Gi,ce){const{appId:Se,apiKey:Ge,measurementId:Ze}=L.options;if(!Se)throw zr.create("no-app-id");if(!Ge){if(Ze)return{measurementId:Ze,appId:Se};throw zr.create("no-api-key")}const mt=K.getThrottleMetadata(Se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Et=new ll;return setTimeout((0,T.Z)(function*(){Et.abort()}),void 0!==ce?ce:6e4),ta({appId:Se,apiKey:Ge,measurementId:Ze},mt,Et,K)})).apply(this,arguments)}function ta(L,K,ce){return sd.apply(this,arguments)}function sd(){return(sd=(0,T.Z)(function*(L,{throttleEndTimeMillis:K,backoffCount:ce},Se,Ge=Gi){const{appId:Ze,measurementId:mt}=L;try{yield ol(Se,K)}catch(Et){if(mt)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Et.message}]`),{appId:Ze,measurementId:mt};throw Et}try{const Et=yield Ln(L);return Ge.deleteThrottleMetadata(Ze),Et}catch(Et){if(!al(Et)){if(Ge.deleteThrottleMetadata(Ze),mt)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Et.message}]`),{appId:Ze,measurementId:mt};throw Et}const Vt=503===Number(Et.customData.httpStatus)?(0,$.$s)(ce,Ge.intervalMillis,30):(0,$.$s)(ce,Ge.intervalMillis),gn={throttleEndTimeMillis:Date.now()+Vt,backoffCount:ce+1};return Ge.setThrottleMetadata(Ze,gn),Xn.debug(`Calling attemptFetch again in ${Vt} millis`),ta(L,gn,Se,Ge)}})).apply(this,arguments)}function ol(L,K){return new Promise((ce,Se)=>{const Ge=Math.max(K-Date.now(),0),Ze=setTimeout(ce,Ge);L.addEventListener(()=>{clearTimeout(Ze),Se(zr.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}function al(L){if(!(L instanceof $.ZR&&L.customData))return!1;const K=Number(L.customData.httpStatus);return 429===K||500===K||503===K||504===K}class ll{constructor(){this.listeners=[]}addEventListener(K){this.listeners.push(K)}abort(){this.listeners.forEach(K=>K())}}function So(){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,T.Z)(function*(){if(!(0,$.hl)())return Xn.warn(zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,$.eu)()}catch(L){return Xn.warn(zr.create("indexeddb-unavailable",{errorInfo:L}).message),!1}return!0})).apply(this,arguments)}function xo(){return(xo=(0,T.Z)(function*(L,K,ce,Se,Ge,Ze,mt){var Et;const Vt=sr(L);Vt.then(fn=>{ce[fn.measurementId]=fn.appId,L.options.measurementId&&fn.measurementId!==L.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fn=>Xn.error(fn)),K.push(Vt);const gn=So().then(fn=>{if(fn)return Se.getId()}),[Mn,Lr]=yield Promise.all([Vt,gn]);er()||ii(Ze,Mn.measurementId),Ge("js",new Date);const Fr=null!==(Et=null==mt?void 0:mt.config)&&void 0!==Et?Et:{};return Fr.origin="firebase",Fr.update=!0,null!=Lr&&(Fr[Fl]=Lr),Ge("config",Mn.measurementId,Fr),Mn.measurementId})).apply(this,arguments)}class ko{constructor(K){this.app=K}_delete(){return delete fi[this.app.options.appId],Promise.resolve()}}let fi={},Mo=[];const Oo={};let Zs,dr,Si="dataLayer",As=!1;function na(L,K,ce){!function Ro(){const L=[];if((0,$.ru)()&&L.push("This is a browser extension environment."),(0,$.zI)()||L.push("Cookies are not available."),L.length>0){const K=L.map((Se,Ge)=>`(${Ge+1}) ${Se}`).join(" "),ce=zr.create("invalid-analytics-context",{errorInfo:K});Xn.warn(ce.message)}}();const Se=L.options.appId;if(!Se)throw zr.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw zr.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fi[Se])throw zr.create("already-exists",{id:Se});if(!As){!function zi(L){let K=[];Array.isArray(window[L])?K=window[L]:window[L]=K}(Si);const{wrappedGtag:Ze,gtagCore:mt}=function id(L,K,ce,Se,Ge){let Ze=function(...mt){window[Se].push(arguments)};return window[Ge]&&"function"==typeof window[Ge]&&(Ze=window[Ge]),window[Ge]=function rd(L,K,ce,Se){function Ze(){return(Ze=(0,T.Z)(function*(mt,Et,Vt){try{"event"===mt?yield il(L,K,ce,Et,Vt):"config"===mt?yield sc(L,K,ce,Se,Et,Vt):L("set",Et)}catch(gn){Xn.error(gn)}})).apply(this,arguments)}return function Ge(mt,Et,Vt){return Ze.apply(this,arguments)}}(Ze,L,K,ce),{gtagCore:Ze,wrappedGtag:window[Ge]}}(fi,Mo,Oo,Si,"gtag");dr=Ze,Zs=mt,As=!0}return fi[Se]=function Er(L,K,ce,Se,Ge,Ze,mt){return xo.apply(this,arguments)}(L,Mo,Oo,K,Zs,Si,ce),new ko(L)}function jl(){return(jl=(0,T.Z)(function*(L,K,ce,Se,Ge){if(Ge&&Ge.global)L("event",ce,Se);else{const Ze=yield K;L("event",ce,Object.assign(Object.assign({},Se),{send_to:Ze}))}})).apply(this,arguments)}function od(){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,T.Z)(function*(){if((0,$.ru)()||!(0,$.zI)()||!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch(L){return!1}})).apply(this,arguments)}const Cu="@firebase/analytics";!function Du(){(0,F._registerComponent)(new Z.wA(Ca,(K,{options:ce})=>na(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),ce),"PUBLIC")),(0,F._registerComponent)(new Z.wA("analytics-internal",function L(K){try{const ce=K.getProvider(Ca).getImmediate();return{logEvent:(Se,Ge,Ze)=>function lc(L,K,ce,Se){L=(0,$.m9)(L),function No(L,K,ce,Se,Ge){return jl.apply(this,arguments)}(dr,fi[L.app.options.appId],K,ce,Se).catch(Ge=>Xn.error(Ge))}(ce,Se,Ge,Ze)}}catch(ce){throw zr.create("interop-component-reg-failed",{reason:ce})}},"PRIVATE")),(0,F.registerVersion)(Cu,"0.7.5"),(0,F.registerVersion)(Cu,"0.7.5","esm2017")}();var rs=Y(4408),tr=Y(7565);const pi=new class ul extends tr.v{}(class ud extends rs.o{constructor(K,ce){super(K,ce),this.scheduler=K,this.work=ce}schedule(K,ce=0){return ce>0?super.schedule(K,ce):(this.delay=ce,this.state=K,this.scheduler.flush(this),this)}execute(K,ce){return ce>0||this.closed?super.execute(K,ce):this._execute(K,ce)}requestAsyncId(K,ce,Se=0){return null!=Se&&Se>0||null==Se&&this.delay>0?super.requestAsyncId(K,ce,Se):K.flush(this)}});var Au=Y(4986),$r=Y(8505),Cr=Y(9468),Iu=Y(5363);const cl=new m.GfV("7.2.1"),xi="__angularfire_symbol__analyticsIsSupportedValue",qn="__angularfire_symbol__analyticsIsSupported",_n="__angularfire_symbol__remoteConfigIsSupportedValue",gi="__angularfire_symbol__remoteConfigIsSupported",Lo="__angularfire_symbol__messagingIsSupportedValue",ra="__angularfire_symbol__messagingIsSupported";function uc(L,K,ce){if(K){if(1===K.length)return K[0];const Ze=K.filter(mt=>mt.app===ce);if(1===Ze.length)return Ze[0]}return ce.container.getProvider(L).getImmediate({optional:!0})}globalThis[qn]||(globalThis[qn]=od().then(L=>globalThis[xi]=L).catch(()=>globalThis[xi]=!1)),globalThis[ra]||(globalThis[ra]=Xo().then(L=>globalThis[Lo]=L).catch(()=>globalThis[Lo]=!1)),globalThis[gi]||(globalThis[gi]=Zc().then(L=>globalThis[_n]=L).catch(()=>globalThis[_n]=!1));const hl=(L,K)=>{const ce=K?[K]:(0,S.C6)(),Se=[];return ce.forEach(Ge=>{Ge.container.getProvider(L).instances.forEach(mt=>{Se.includes(mt)||Se.push(mt)})}),Se};function Ys(){}class Su{constructor(K,ce=pi){this.zone=K,this.delegate=ce}now(){return this.delegate.now()}schedule(K,ce,Se){const Ge=this.zone;return this.delegate.schedule(function(mt){Ge.runGuarded(()=>{K.apply(this,[mt])})},ce,Se)}}class Qs{constructor(K){this.zone=K,this.task=null}call(K,ce){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ys,{},Ys,Ys)),ce.pipe((0,$r.b)({next:Se,complete:Se,error:Se})).subscribe(K).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xu=(()=>{class L{constructor(ce){this.ngZone=ce,this.outsideAngular=ce.runOutsideAngular(()=>new Su(Zone.current)),this.insideAngular=ce.run(()=>new Su(Zone.current,Au.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(ce){return new(ce||L)(m.LFG(m.R0b))},L.\u0275prov=m.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function Ts(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function Js(L){return Ts(),function Bo(L){return function(ce){return(ce=ce.lift(new Qs(L.ngZone))).pipe((0,Cr.R)(L.outsideAngular),(0,Iu.Q)(L.insideAngular))}}(Ts())(L)}},2090:(vt,de,Y)=>{"use strict";Y.d(de,{BH:()=>R,LL:()=>W,ZR:()=>ue,zI:()=>he,US:()=>Z,tV:()=>H,$s:()=>nn,r3:()=>rt,Sg:()=>x,ne:()=>Pe,vZ:()=>Ct,ZB:()=>I,pd:()=>Te,m9:()=>Dn,z$:()=>V,jU:()=>re,ru:()=>pe,d:()=>me,xb:()=>Je,w1:()=>te,hl:()=>oe,uI:()=>q,UG:()=>G,b$:()=>fe,G6:()=>ae,Mn:()=>ye,xO:()=>Ne,zd:()=>je,eu:()=>k});const F=function(Me){const Le=[];let Be=0;for(let Xe=0;Xe<Me.length;Xe++){let Ke=Me.charCodeAt(Xe);Ke<128?Le[Be++]=Ke:Ke<2048?(Le[Be++]=Ke>>6|192,Le[Be++]=63&Ke|128):55296==(64512&Ke)&&Xe+1<Me.length&&56320==(64512&Me.charCodeAt(Xe+1))?(Ke=65536+((1023&Ke)<<10)+(1023&Me.charCodeAt(++Xe)),Le[Be++]=Ke>>18|240,Le[Be++]=Ke>>12&63|128,Le[Be++]=Ke>>6&63|128,Le[Be++]=63&Ke|128):(Le[Be++]=Ke>>12|224,Le[Be++]=Ke>>6&63|128,Le[Be++]=63&Ke|128)}return Le},Z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,Le){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=Le?this.byteToCharMapWebSafe_:this.byteToCharMap_,Xe=[];for(let Ke=0;Ke<Me.length;Ke+=3){const Ft=Me[Ke],Kt=Ke+1<Me.length,Nn=Kt?Me[Ke+1]:0,zn=Ke+2<Me.length,Kn=zn?Me[Ke+2]:0;let pr=(15&Nn)<<2|Kn>>6,Ci=63&Kn;zn||(Ci=64,Kt||(pr=64)),Xe.push(Be[Ft>>2],Be[(3&Ft)<<4|Nn>>4],Be[pr],Be[Ci])}return Xe.join("")},encodeString(Me,Le){return this.HAS_NATIVE_SUPPORT&&!Le?btoa(Me):this.encodeByteArray(F(Me),Le)},decodeString(Me,Le){return this.HAS_NATIVE_SUPPORT&&!Le?atob(Me):function(Me){const Le=[];let Be=0,Xe=0;for(;Be<Me.length;){const Ke=Me[Be++];if(Ke<128)Le[Xe++]=String.fromCharCode(Ke);else if(Ke>191&&Ke<224){const Ft=Me[Be++];Le[Xe++]=String.fromCharCode((31&Ke)<<6|63&Ft)}else if(Ke>239&&Ke<365){const zn=((7&Ke)<<18|(63&Me[Be++])<<12|(63&Me[Be++])<<6|63&Me[Be++])-65536;Le[Xe++]=String.fromCharCode(55296+(zn>>10)),Le[Xe++]=String.fromCharCode(56320+(1023&zn))}else{const Ft=Me[Be++],Kt=Me[Be++];Le[Xe++]=String.fromCharCode((15&Ke)<<12|(63&Ft)<<6|63&Kt)}}return Le.join("")}(this.decodeStringToByteArray(Me,Le))},decodeStringToByteArray(Me,Le){this.init_();const Be=Le?this.charToByteMapWebSafe_:this.charToByteMap_,Xe=[];for(let Ke=0;Ke<Me.length;){const Ft=Be[Me.charAt(Ke++)],Nn=Ke<Me.length?Be[Me.charAt(Ke)]:0;++Ke;const Kn=Ke<Me.length?Be[Me.charAt(Ke)]:64;++Ke;const pn=Ke<Me.length?Be[Me.charAt(Ke)]:64;if(++Ke,null==Ft||null==Nn||null==Kn||null==pn)throw Error();Xe.push(Ft<<2|Nn>>4),64!==Kn&&(Xe.push(Nn<<4&240|Kn>>2),64!==pn&&Xe.push(Kn<<6&192|pn))}return Xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}},U=function(Me){return function(Me){const Le=F(Me);return Z.encodeByteArray(Le,!0)}(Me).replace(/\./g,"")},H=function(Me){try{return Z.decodeString(Me,!0)}catch(Le){console.error("base64Decode failed: ",Le)}return null};function I(Me,Le){if(!(Le instanceof Object))return Le;switch(Le.constructor){case Date:return new Date(Le.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return Le}for(const Be in Le)!Le.hasOwnProperty(Be)||!j(Be)||(Me[Be]=I(Me[Be],Le[Be]));return Me}function j(Me){return"__proto__"!==Me}class R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Le,Be)=>{this.resolve=Le,this.reject=Be})}wrapCallback(Le){return(Be,Xe)=>{Be?this.reject(Be):this.resolve(Xe),"function"==typeof Le&&(this.promise.catch(()=>{}),1===Le.length?Le(Be):Le(Be,Xe))}}}function x(Me,Le){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Xe=Le||"demo-project",Ke=Me.iat||0,Ft=Me.sub||Me.user_id;if(!Ft)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Kt=Object.assign({iss:`https://securetoken.google.com/${Xe}`,aud:Xe,iat:Ke,exp:Ke+3600,auth_time:Ke,sub:Ft,user_id:Ft,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[U(JSON.stringify({alg:"none",type:"JWT"})),U(JSON.stringify(Kt)),""].join(".")}function V(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(V())}function G(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Me){return!1}}function re(){return"object"==typeof self&&self.self===self}function pe(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function me(){return V().indexOf("Electron/")>=0}function te(){const Me=V();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function ye(){return V().indexOf("MSAppHost/")>=0}function ae(){return!G()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){return"object"==typeof indexedDB}function k(){return new Promise((Me,Le)=>{try{let Be=!0;const Xe="validate-browser-context-for-indexeddb-analytics-module",Ke=self.indexedDB.open(Xe);Ke.onsuccess=()=>{Ke.result.close(),Be||self.indexedDB.deleteDatabase(Xe),Me(!0)},Ke.onupgradeneeded=()=>{Be=!1},Ke.onerror=()=>{var Ft;Le((null===(Ft=Ke.error)||void 0===Ft?void 0:Ft.message)||"")}}catch(Be){Le(Be)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ue extends Error{constructor(Le,Be,Xe){super(Be),this.code=Le,this.customData=Xe,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(Le,Be,Xe){this.service=Le,this.serviceName=Be,this.errors=Xe}create(Le,...Be){const Xe=Be[0]||{},Ke=`${this.service}/${Le}`,Ft=this.errors[Le],Kt=Ft?function Re(Me,Le){return Me.replace(Ie,(Be,Xe)=>{const Ke=Le[Xe];return null!=Ke?String(Ke):`<${Xe}?>`})}(Ft,Xe):"Error";return new ue(Ke,`${this.serviceName}: ${Kt} (${Ke}).`,Xe)}}const Ie=/\{\$([^}]+)}/g;function rt(Me,Le){return Object.prototype.hasOwnProperty.call(Me,Le)}function Je(Me){for(const Le in Me)if(Object.prototype.hasOwnProperty.call(Me,Le))return!1;return!0}function Ct(Me,Le){if(Me===Le)return!0;const Be=Object.keys(Me),Xe=Object.keys(Le);for(const Ke of Be){if(!Xe.includes(Ke))return!1;const Ft=Me[Ke],Kt=Le[Ke];if(J(Ft)&&J(Kt)){if(!Ct(Ft,Kt))return!1}else if(Ft!==Kt)return!1}for(const Ke of Xe)if(!Be.includes(Ke))return!1;return!0}function J(Me){return null!==Me&&"object"==typeof Me}function Ne(Me){const Le=[];for(const[Be,Xe]of Object.entries(Me))Array.isArray(Xe)?Xe.forEach(Ke=>{Le.push(encodeURIComponent(Be)+"="+encodeURIComponent(Ke))}):Le.push(encodeURIComponent(Be)+"="+encodeURIComponent(Xe));return Le.length?"&"+Le.join("&"):""}function je(Me){const Le={};return Me.replace(/^\?/,"").split("&").forEach(Xe=>{if(Xe){const[Ke,Ft]=Xe.split("=");Le[decodeURIComponent(Ke)]=decodeURIComponent(Ft)}}),Le}function Te(Me){const Le=Me.indexOf("?");if(!Le)return"";const Be=Me.indexOf("#",Le);return Me.substring(Le,Be>0?Be:void 0)}function Pe(Me,Le){const Be=new We(Me,Le);return Be.subscribe.bind(Be)}class We{constructor(Le,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{Le(this)}).catch(Xe=>{this.error(Xe)})}next(Le){this.forEachObserver(Be=>{Be.next(Le)})}error(Le){this.forEachObserver(Be=>{Be.error(Le)}),this.close(Le)}complete(){this.forEachObserver(Le=>{Le.complete()}),this.close()}subscribe(Le,Be,Xe){let Ke;if(void 0===Le&&void 0===Be&&void 0===Xe)throw new Error("Missing Observer.");Ke=function ze(Me,Le){if("object"!=typeof Me||null===Me)return!1;for(const Be of Le)if(Be in Me&&"function"==typeof Me[Be])return!0;return!1}(Le,["next","error","complete"])?Le:{next:Le,error:Be,complete:Xe},void 0===Ke.next&&(Ke.next=dt),void 0===Ke.error&&(Ke.error=dt),void 0===Ke.complete&&(Ke.complete=dt);const Ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ke.error(this.finalError):Ke.complete()}catch(Kt){}}),this.observers.push(Ke),Ft}unsubscribeOne(Le){void 0===this.observers||void 0===this.observers[Le]||(delete this.observers[Le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Le){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,Le)}sendOne(Le,Be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Le])try{Be(this.observers[Le])}catch(Xe){"undefined"!=typeof console&&console.error&&console.error(Xe)}})}close(Le){this.finalized||(this.finalized=!0,void 0!==Le&&(this.finalError=Le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dt(){}function nn(Me,Le=1e3,Be=2){const Xe=Le*Math.pow(Be,Me),Ke=Math.round(.5*Xe*(Math.random()-.5)*2);return Math.min(144e5,Xe+Ke)}function Dn(Me){return Me&&Me._delegate?Me._delegate:Me}},2911:(vt,de,Y)=>{"use strict";var m=Y(5e3);let S=null;function T(){return S}const P=new m.OlP("DocumentToken");let U=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return function H(){return(0,m.LFG)(I)}()},providedIn:"platform"}),n})();const D=new m.OlP("Location Initialized");let I=(()=>{class n extends U{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return T().getBaseHref(this._doc)}onPopState(t){const i=T().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=T().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,l){j()?this._history.pushState(t,i,l):this.location.hash=l}replaceState(t,i,l){j()?this._history.replaceState(t,i,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(P))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function R(){return new I((0,m.LFG)(P))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function x(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function V(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function q(n){return n&&"?"!==n[0]?"?"+n:n}let G=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return function re(n){const e=(0,m.LFG)(P).location;return new fe((0,m.LFG)(U),e&&e.origin||"")}()},providedIn:"root"}),n})();const pe=new m.OlP("appBaseHref");let fe=(()=>{class n extends G{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return x(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+q(this._platformLocation.search),l=this._platformLocation.hash;return l&&t?`${i}${l}`:i}pushState(t,i,l,f){const v=this.prepareExternalUrl(l+q(f));this._platformLocation.pushState(t,i,v)}replaceState(t,i,l,f){const v=this.prepareExternalUrl(l+q(f));this._platformLocation.replaceState(t,i,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,l;null===(l=(i=this._platformLocation).historyGo)||void 0===l||l.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(U),m.LFG(pe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),me=(()=>{class n extends G{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=x(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,l,f){let v=this.prepareExternalUrl(l+q(f));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.pushState(t,i,v)}replaceState(t,i,l,f){let v=this.prepareExternalUrl(l+q(f));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,l;null===(l=(i=this._platformLocation).historyGo)||void 0===l||l.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(U),m.LFG(pe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),te=(()=>{class n{constructor(t,i){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const l=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=V(ae(l)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+q(i))}normalize(t){return n.stripTrailingSlash(function xe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ae(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",l=null){this._platformStrategy.pushState(l,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+q(i)),l)}replaceState(t,i="",l=null){this._platformStrategy.replaceState(l,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+q(i)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,l;null===(l=(i=this._platformStrategy).historyGo)||void 0===l||l.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(l=>l(t,i))}subscribe(t,i,l){return this._subject.subscribe({next:t,error:i,complete:l})}}return n.normalizeQueryParams=q,n.joinWithSlash=x,n.stripTrailingSlash=V,n.\u0275fac=function(t){return new(t||n)(m.LFG(G),m.LFG(U))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function ye(){return new te((0,m.LFG)(G),(0,m.LFG)(U))}()},providedIn:"root"}),n})();function ae(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))(),Ce=(()=>((Ce=Ce||{})[Ce.Format=0]="Format",Ce[Ce.Standalone=1]="Standalone",Ce))(),ie=(()=>((ie=ie||{})[ie.Narrow=0]="Narrow",ie[ie.Abbreviated=1]="Abbreviated",ie[ie.Wide=2]="Wide",ie[ie.Short=3]="Short",ie))(),ue=(()=>((ue=ue||{})[ue.Short=0]="Short",ue[ue.Medium=1]="Medium",ue[ue.Long=2]="Long",ue[ue.Full=3]="Full",ue))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function Oe(n,e){return ze((0,m.cg1)(n)[m.wAp.DateFormat],e)}function rt(n,e){return ze((0,m.cg1)(n)[m.wAp.TimeFormat],e)}function ot(n,e){return ze((0,m.cg1)(n)[m.wAp.DateTimeFormat],e)}function Je(n,e){const t=(0,m.cg1)(n),i=t[m.wAp.NumberSymbols][e];if(void 0===i){if(e===W.CurrencyDecimal)return t[m.wAp.NumberSymbols][W.Decimal];if(e===W.CurrencyGroup)return t[m.wAp.NumberSymbols][W.Group]}return i}const Te=m.kL8;function be(n){if(!n[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ze(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function dt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const kt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rt={},sn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qt=(()=>((Qt=Qt||{})[Qt.Short=0]="Short",Qt[Qt.ShortGMT=1]="ShortGMT",Qt[Qt.Long=2]="Long",Qt[Qt.Extended=3]="Extended",Qt))(),Ot=(()=>((Ot=Ot||{})[Ot.FullYear=0]="FullYear",Ot[Ot.Month=1]="Month",Ot[Ot.Date=2]="Date",Ot[Ot.Hours=3]="Hours",Ot[Ot.Minutes=4]="Minutes",Ot[Ot.Seconds=5]="Seconds",Ot[Ot.FractionalSeconds=6]="FractionalSeconds",Ot[Ot.Day=7]="Day",Ot))(),xt=(()=>((xt=xt||{})[xt.DayPeriods=0]="DayPeriods",xt[xt.Days=1]="Days",xt[xt.Months=2]="Months",xt[xt.Eras=3]="Eras",xt))();function cn(n,e,t,i){let l=function au(n){if(Mr(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[l,f=1,v=1]=n.split("-").map(b=>+b);return Ut(l,f-1,v)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(kt))return function ma(n){const e=new Date(0);let t=0,i=0;const l=n[8]?e.setUTCFullYear:e.setFullYear,f=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),l.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const v=Number(n[4]||0)-t,b=Number(n[5]||0)-i,M=Number(n[6]||0),ee=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return f.call(e,v,b,M,ee),e}(i)}const e=new Date(n);if(!Mr(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=nn(t,e)||e;let b,v=[];for(;e;){if(b=sn.exec(e),!b){v.push(e);break}{v=v.concat(b.slice(1));const ve=v.pop();if(!ve)break;e=ve}}let M=l.getTimezoneOffset();i&&(M=Ci(i,M),l=function Sl(n,e,t){const i=t?-1:1,l=n.getTimezoneOffset();return function ga(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(Ci(e,l)-l))}(l,i,!0));let ee="";return v.forEach(ve=>{const _e=function pr(n){if(pn[n])return pn[n];let e;switch(n){case"G":case"GG":case"GGG":e=Be(xt.Eras,ie.Abbreviated);break;case"GGGG":e=Be(xt.Eras,ie.Wide);break;case"GGGGG":e=Be(xt.Eras,ie.Narrow);break;case"y":e=Me(Ot.FullYear,1,0,!1,!0);break;case"yy":e=Me(Ot.FullYear,2,0,!0,!0);break;case"yyy":e=Me(Ot.FullYear,3,0,!1,!0);break;case"yyyy":e=Me(Ot.FullYear,4,0,!1,!0);break;case"Y":e=ui(1);break;case"YY":e=ui(2,!0);break;case"YYY":e=ui(3);break;case"YYYY":e=ui(4);break;case"M":case"L":e=Me(Ot.Month,1,1);break;case"MM":case"LL":e=Me(Ot.Month,2,1);break;case"MMM":e=Be(xt.Months,ie.Abbreviated);break;case"MMMM":e=Be(xt.Months,ie.Wide);break;case"MMMMM":e=Be(xt.Months,ie.Narrow);break;case"LLL":e=Be(xt.Months,ie.Abbreviated,Ce.Standalone);break;case"LLLL":e=Be(xt.Months,ie.Wide,Ce.Standalone);break;case"LLLLL":e=Be(xt.Months,ie.Narrow,Ce.Standalone);break;case"w":e=Kn(1);break;case"ww":e=Kn(2);break;case"W":e=Kn(1,!0);break;case"d":e=Me(Ot.Date,1);break;case"dd":e=Me(Ot.Date,2);break;case"c":case"cc":e=Me(Ot.Day,1);break;case"ccc":e=Be(xt.Days,ie.Abbreviated,Ce.Standalone);break;case"cccc":e=Be(xt.Days,ie.Wide,Ce.Standalone);break;case"ccccc":e=Be(xt.Days,ie.Narrow,Ce.Standalone);break;case"cccccc":e=Be(xt.Days,ie.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":e=Be(xt.Days,ie.Abbreviated);break;case"EEEE":e=Be(xt.Days,ie.Wide);break;case"EEEEE":e=Be(xt.Days,ie.Narrow);break;case"EEEEEE":e=Be(xt.Days,ie.Short);break;case"a":case"aa":case"aaa":e=Be(xt.DayPeriods,ie.Abbreviated);break;case"aaaa":e=Be(xt.DayPeriods,ie.Wide);break;case"aaaaa":e=Be(xt.DayPeriods,ie.Narrow);break;case"b":case"bb":case"bbb":e=Be(xt.DayPeriods,ie.Abbreviated,Ce.Standalone,!0);break;case"bbbb":e=Be(xt.DayPeriods,ie.Wide,Ce.Standalone,!0);break;case"bbbbb":e=Be(xt.DayPeriods,ie.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(xt.DayPeriods,ie.Abbreviated,Ce.Format,!0);break;case"BBBB":e=Be(xt.DayPeriods,ie.Wide,Ce.Format,!0);break;case"BBBBB":e=Be(xt.DayPeriods,ie.Narrow,Ce.Format,!0);break;case"h":e=Me(Ot.Hours,1,-12);break;case"hh":e=Me(Ot.Hours,2,-12);break;case"H":e=Me(Ot.Hours,1);break;case"HH":e=Me(Ot.Hours,2);break;case"m":e=Me(Ot.Minutes,1);break;case"mm":e=Me(Ot.Minutes,2);break;case"s":e=Me(Ot.Seconds,1);break;case"ss":e=Me(Ot.Seconds,2);break;case"S":e=Me(Ot.FractionalSeconds,1);break;case"SS":e=Me(Ot.FractionalSeconds,2);break;case"SSS":e=Me(Ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ke(Qt.Short);break;case"ZZZZZ":e=Ke(Qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ke(Qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ke(Qt.Long);break;default:return null}return pn[n]=e,e}(ve);ee+=_e?_e(l,t,M):"''"===ve?"'":ve.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ee}function Ut(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function nn(n,e){const t=function Ie(n){return(0,m.cg1)(n)[m.wAp.LocaleId]}(n);if(Rt[t]=Rt[t]||{},Rt[t][e])return Rt[t][e];let i="";switch(e){case"shortDate":i=Oe(n,ue.Short);break;case"mediumDate":i=Oe(n,ue.Medium);break;case"longDate":i=Oe(n,ue.Long);break;case"fullDate":i=Oe(n,ue.Full);break;case"shortTime":i=rt(n,ue.Short);break;case"mediumTime":i=rt(n,ue.Medium);break;case"longTime":i=rt(n,ue.Long);break;case"fullTime":i=rt(n,ue.Full);break;case"short":const l=nn(n,"shortTime"),f=nn(n,"shortDate");i=vn(ot(n,ue.Short),[l,f]);break;case"medium":const v=nn(n,"mediumTime"),b=nn(n,"mediumDate");i=vn(ot(n,ue.Medium),[v,b]);break;case"long":const M=nn(n,"longTime"),ee=nn(n,"longDate");i=vn(ot(n,ue.Long),[M,ee]);break;case"full":const ve=nn(n,"fullTime"),_e=nn(n,"fullDate");i=vn(ot(n,ue.Full),[ve,_e])}return i&&(Rt[t][e]=i),i}function vn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function yn(n,e,t="-",i,l){let f="";(n<0||l&&n<=0)&&(l?n=1-n:(n=-n,f=t));let v=String(n);for(;v.length<e;)v="0"+v;return i&&(v=v.substr(v.length-e)),f+v}function Me(n,e,t=0,i=!1,l=!1){return function(f,v){let b=function Le(n,e){switch(n){case Ot.FullYear:return e.getFullYear();case Ot.Month:return e.getMonth();case Ot.Date:return e.getDate();case Ot.Hours:return e.getHours();case Ot.Minutes:return e.getMinutes();case Ot.Seconds:return e.getSeconds();case Ot.FractionalSeconds:return e.getMilliseconds();case Ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,f);if((t>0||b>-t)&&(b+=t),n===Ot.Hours)0===b&&-12===t&&(b=12);else if(n===Ot.FractionalSeconds)return function Dn(n,e){return yn(n,3).substr(0,e)}(b,e);const M=Je(v,W.MinusSign);return yn(b,e,M,i,l)}}function Be(n,e,t=Ce.Format,i=!1){return function(l,f){return function Xe(n,e,t,i,l,f){switch(t){case xt.Months:return function Q(n,e,t){const i=(0,m.cg1)(n),f=ze([i[m.wAp.MonthsFormat],i[m.wAp.MonthsStandalone]],e);return ze(f,t)}(e,l,i)[n.getMonth()];case xt.Days:return function Ee(n,e,t){const i=(0,m.cg1)(n),f=ze([i[m.wAp.DaysFormat],i[m.wAp.DaysStandalone]],e);return ze(f,t)}(e,l,i)[n.getDay()];case xt.DayPeriods:const v=n.getHours(),b=n.getMinutes();if(f){const ee=function Pe(n){const e=(0,m.cg1)(n);return be(e),(e[m.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?dt(i):[dt(i[0]),dt(i[1])])}(e),ve=function We(n,e,t){const i=(0,m.cg1)(n);be(i);const f=ze([i[m.wAp.ExtraData][0],i[m.wAp.ExtraData][1]],e)||[];return ze(f,t)||[]}(e,l,i),_e=ee.findIndex(He=>{if(Array.isArray(He)){const[qe,ct]=He,Mt=v>=qe.hours&&b>=qe.minutes,Gt=v<ct.hours||v===ct.hours&&b<ct.minutes;if(qe.hours<ct.hours){if(Mt&&Gt)return!0}else if(Mt||Gt)return!0}else if(He.hours===v&&He.minutes===b)return!0;return!1});if(-1!==_e)return ve[_e]}return function se(n,e,t){const i=(0,m.cg1)(n),f=ze([i[m.wAp.DayPeriodsFormat],i[m.wAp.DayPeriodsStandalone]],e);return ze(f,t)}(e,l,i)[v<12?0:1];case xt.Eras:return function B(n,e){return ze((0,m.cg1)(n)[m.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(l,f,n,e,t,i)}}function Ke(n){return function(e,t,i){const l=-1*i,f=Je(t,W.MinusSign),v=l>0?Math.floor(l/60):Math.ceil(l/60);switch(n){case Qt.Short:return(l>=0?"+":"")+yn(v,2,f)+yn(Math.abs(l%60),2,f);case Qt.ShortGMT:return"GMT"+(l>=0?"+":"")+yn(v,1,f);case Qt.Long:return"GMT"+(l>=0?"+":"")+yn(v,2,f)+":"+yn(Math.abs(l%60),2,f);case Qt.Extended:return 0===i?"Z":(l>=0?"+":"")+yn(v,2,f)+":"+yn(Math.abs(l%60),2,f);default:throw new Error(`Unknown zone width "${n}"`)}}}function zn(n){return Ut(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Kn(n,e=!1){return function(t,i){let l;if(e){const f=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,v=t.getDate();l=1+Math.floor((v+f)/7)}else{const f=zn(t),v=function Nn(n){const e=Ut(n,0,1).getDay();return Ut(n,0,1+(e<=4?4:11)-e)}(f.getFullYear()),b=f.getTime()-v.getTime();l=1+Math.round(b/6048e5)}return yn(l,n,Je(i,W.MinusSign))}}function ui(n,e=!1){return function(t,i){return yn(zn(t).getFullYear(),n,Je(i,W.MinusSign),e)}}const pn={};function Ci(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Mr(n){return n instanceof Date&&!isNaN(n.valueOf())}class wn{}let at=(()=>{class n extends wn{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(Te(i||this.locale)(t)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.soG))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class vo{constructor(e,t,i,l){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class n{constructor(t,i,l){this._viewContainer=t,this._template=i,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((l,f,v)=>{if(null==l.previousIndex)i.createEmbeddedView(this._template,new vo(l.item,this._ngForOf,-1,-1),null===v?void 0:v);else if(null==v)i.remove(null===f?void 0:f);else if(null!==f){const b=i.get(f);i.move(b,v),qt(b,l)}});for(let l=0,f=i.length;l<f;l++){const b=i.get(l).context;b.index=l,b.count=f,b.ngForOf=this._ngForOf}t.forEachIdentityChange(l=>{qt(i.get(l.currentIndex),l)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function qt(n,e){n.context.$implicit=e.item}let ni=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new kn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_s("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_s("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b),m.Y36(m.Rgc))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class kn{constructor(){this.$implicit=null,this.ngIf=null}}function _s(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,m.AaK)(e)}'.`)}function _r(n,e){return new m.vHH(2100,"")}class Wc{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Jd{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Ur=new Jd,Wh=new Wc;let uu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,m.QGY)(t))return Ur;if((0,m.F4k)(t))return Wh;throw _r()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.sBO,16))},n.\u0275pipe=m.Yjl({name:"async",type:n,pure:!1}),n})();const qh=new m.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Xd=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",l,f){var v;if(null==t||""===t||t!=t)return null;try{return cn(t,i,f||this.locale,null!==(v=null!=l?l:this.defaultTimezone)&&void 0!==v?v:void 0)}catch(b){throw _r()}}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.soG,16),m.Y36(qh,24))},n.\u0275pipe=m.Yjl({name:"date",type:n,pure:!0}),n})(),_a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[{provide:wn,useClass:at}]}),n})();function Jn(n){return"server"===n}let hu=(()=>{class n{}return n.\u0275prov=(0,m.Yz7)({token:n,providedIn:"root",factory:()=>new fu((0,m.LFG)(P),window)}),n})();class fu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Eo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let l=i.currentNode;for(;l;){const f=l.shadowRoot;if(f){const v=f.getElementById(e)||f.querySelector(`[name="${e}"]`);if(v)return v}l=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,l=t.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(i-f[0],l-f[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rc(this.window.history)||rc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function rc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Yo extends class Rl extends class Z{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function $(n){S||(S=n)}(new Yo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function gu(){return Bn=Bn||document.querySelector("base"),Bn?Bn.getAttribute("href"):null}();return null==t?null:function ba(n){Za=Za||document.createElement("a"),Za.setAttribute("href",n);const e=Za.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $o(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[l,f]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(l.trim()===e)return decodeURIComponent(f)}return null}(document.cookie,e)}}let Za,Bn=null;const Nr=new m.OlP("TRANSITION_ID"),Gn=[{provide:m.ip1,useFactory:function wa(n,e,t){return()=>{t.get(m.CZH).donePromise.then(()=>{const i=T(),l=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let f=0;f<l.length;f++)i.remove(l[f])})}},deps:[Nr,P,m.zs3],multi:!0}];class Co{static init(){(0,m.VLi)(new Co)}addToWindow(e){m.dqk.getAngularTestability=(i,l=!0)=>{const f=e.findTestabilityInTree(i,l);if(null==f)throw new Error("Could not find testability for element.");return f},m.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(i=>{const l=m.dqk.getAllAngularTestabilities();let f=l.length,v=!1;const b=function(M){v=v||M,f--,0==f&&i(v)};l.forEach(function(M){M.whenStable(b)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const l=e.getTestability(t);return null!=l?l:i?T().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Hr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya=new m.OlP("EventManagerPlugins");let Ii=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(l=>l.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,l){return this._findPluginFor(i).addEventListener(t,i,l)}addGlobalEventListener(t,i,l){return this._findPluginFor(i).addGlobalEventListener(t,i,l)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const l=this._plugins;for(let f=0;f<l.length;f++){const v=l[f];if(v.supports(t))return this._eventNameToPlugin.set(t,v),v}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Ya),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class ur{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const l=T().getGlobalEventTarget(this._doc,e);if(!l)throw new Error(`Unsupported event target ${l} for event ${t}`);return this.addEventListener(l,t,i)}}let Hi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),i.add(l))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Do=(()=>{class n extends Hi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,l){t.forEach(f=>{const v=this._doc.createElement("style");v.textContent=f,l.push(i.appendChild(v))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(es),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,l)=>{this._addStylesToHost(t,l,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(es))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(P))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function es(n){T().remove(n)}const Yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qa=/%COMP%/g;function ft(n,e,t){for(let i=0;i<e.length;i++){let l=e[i];Array.isArray(l)?ft(n,l,t):(l=l.replace(Qa,n),t.push(l))}return t}function mn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pn=(()=>{class n{constructor(t,i,l){this.eventManager=t,this.sharedStylesHost=i,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new zs(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case m.ifc.Emulated:{let l=this.rendererByCompId.get(i.id);return l||(l=new ws(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,l)),l.applyToHost(t),l}case 1:case m.ifc.ShadowDom:return new Io(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const l=ft(i.id,i.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Ii),m.LFG(Do),m.LFG(m.AFp))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class zs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Yt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,l){if(l){t=l+":"+t;const f=Yt[l];f?e.setAttributeNS(f,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const l=Yt[i];l?e.removeAttributeNS(l,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,l){l&(m.JOm.DashCase|m.JOm.Important)?e.style.setProperty(t,i,l&m.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&m.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mn(i)):this.eventManager.addEventListener(e,t,mn(i))}}class ws extends zs{constructor(e,t,i,l){super(e),this.component=i;const f=ft(l+"-"+i.id,i.styles,[]);t.addStyles(f),this.contentAttr=function Pl(n){return"_ngcontent-%COMP%".replace(Qa,n)}(l+"-"+i.id),this.hostAttr=function Qc(n){return"_nghost-%COMP%".replace(Qa,n)}(l+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Io extends zs{constructor(e,t,i,l){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=ft(l.id,l.styles,[]);for(let v=0;v<f.length;v++){const b=document.createElement("style");b.textContent=f[v],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let vu=(()=>{class n extends ur{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,l){return t.addEventListener(i,l,!1),()=>this.removeEventListener(t,i,l)}removeEventListener(t,i,l){return t.removeEventListener(i,l)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(P))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Jc=["alt","control","meta","shift"],el={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},br={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ji={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qo=(()=>{class n extends ur{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,l){const f=n.parseEventName(i),v=n.eventCallback(f.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>T().onAndCancel(t,f.domEventName,v))}static parseEventName(t){const i=t.toLowerCase().split("."),l=i.shift();if(0===i.length||"keydown"!==l&&"keyup"!==l)return null;const f=n._normalizeKey(i.pop());let v="";if(Jc.forEach(M=>{const ee=i.indexOf(M);ee>-1&&(i.splice(ee,1),v+=M+".")}),v+=f,0!=i.length||0===f.length)return null;const b={};return b.domEventName=l,b.fullKey=v,b}static getEventFullKey(t){let i="",l=function wr(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&br.hasOwnProperty(e)&&(e=br[e]))}return el[e]||e}(t);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Jc.forEach(f=>{f!=l&&ji[f](t)&&(i+=f+".")}),i+=l,i}static eventCallback(t,i,l){return f=>{n.getEventFullKey(f)===t&&l.runGuarded(()=>i(f))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(P))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const ed=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function Gs(){Yo.makeCurrent(),Co.init()},multi:!0},{provide:P,useFactory:function Xc(){return(0,m.RDi)(document),document},deps:[]}]),Jo=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function tl(){return new m.qLn},deps:[]},{provide:Ya,useClass:vu,multi:!0,deps:[P,m.R0b,m.Lbi]},{provide:Ya,useClass:Qo,multi:!0,deps:[P]},{provide:Pn,useClass:Pn,deps:[Ii,Do,m.AFp]},{provide:m.FYo,useExisting:Pn},{provide:Hi,useExisting:Do},{provide:Do,useClass:Do,deps:[P]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:Ii,useClass:Ii,deps:[Ya,m.R0b]},{provide:class Hn{},useClass:Hr,deps:[]}];let yu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:m.AFp,useValue:t.appId},{provide:Nr,useExisting:m.AFp},Gn]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(n,12))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:Jo,imports:[_a,m.hGG]}),n})();"undefined"!=typeof window&&window;var er=Y(8996),jr=Y(8306);const{isArray:zr}=Array,{getPrototypeOf:Ks,prototype:Vl,keys:sl}=Object;function Gi(n){if(1===n.length){const e=n[0];if(zr(e))return{args:e,keys:null};if(function Hl(n){return n&&"object"==typeof n&&Ks(n)===Vl}(e)){const t=sl(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Ln=Y(8421),Ds=Y(7669),sr=Y(5403),on=Y(4004);const{isArray:ta}=Array;function ol(n){return(0,on.U)(e=>function sd(n,e){return ta(e)?n(...e):n(e)}(n,e))}function al(n,e){return n.reduce((t,i,l)=>(t[i]=e[l],t),{})}let So=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.Qsj),m.Y36(m.SBq))},n.\u0275dir=m.lG2({type:n}),n})(),Ti=(()=>{class n extends So{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=m.n5z(n)))(i||n)}}(),n.\u0275dir=m.lG2({type:n,features:[m.qOj]}),n})();const Er=new m.OlP("NgValueAccessor"),fi={provide:Er,useExisting:(0,m.Gpc)(()=>Si),multi:!0},Oo=new m.OlP("CompositionEventMode");let Si=(()=>{class n extends So{constructor(t,i,l){super(t,i),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mo(){const n=T()?T().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Oo,8))},n.\u0275dir=m.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&m.NdJ("input",function(f){return i._handleInput(f.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(f){return i._compositionEnd(f.target.value)})},features:[m._Bn([fi]),m.qOj]}),n})();const dr=new m.OlP("NgValidators"),As=new m.OlP("NgAsyncValidators");function Un(n){return null!=n}function gr(n){const e=(0,m.QGY)(n)?(0,er.D)(n):n;return(0,m.CqO)(e),e}function hr(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Is(n,e){return e.map(t=>t(n))}function Ia(n){return n.map(e=>function od(n){return!n.validate}(e)?e:t=>e.validate(t))}function ad(n){return null!=n?function or(n){if(!n)return null;const e=n.filter(Un);return 0==e.length?null:function(t){return hr(Is(t,e))}}(Ia(n)):null}function ac(n){return null!=n?function Zh(n){if(!n)return null;const e=n.filter(Un);return 0==e.length?null:function(t){return function ll(...n){const e=(0,Ds.jO)(n),{args:t,keys:i}=Gi(n),l=new jr.y(f=>{const{length:v}=t;if(!v)return void f.complete();const b=new Array(v);let M=v,ee=v;for(let ve=0;ve<v;ve++){let _e=!1;(0,Ln.Xf)(t[ve]).subscribe((0,sr.x)(f,He=>{_e||(_e=!0,ee--),b[ve]=He},()=>M--,void 0,()=>{(!M||!_e)&&(ee||f.next(i?al(i,b):b),f.complete())}))}});return e?l.pipe(ol(e)):l}(Is(t,e).map(gr)).pipe((0,on.U)(hr))}}(Ia(n)):null}function lc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Du(n){return n?Array.isArray(n)?n:[n]:[]}function rs(n,e){return Array.isArray(n)?n.includes(e):n===e}function ud(n,e){const t=Du(e);return Du(n).forEach(l=>{rs(t,l)||t.push(l)}),t}function tr(n,e){return Du(e).filter(t=>!rs(n,t))}class ul{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ad(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ac(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class pi extends ul{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gr extends ul{get formDirective(){return null}get path(){return null}}let Iu=(()=>{class n extends class Au{constructor(e){this._cd=e}is(e){var t,i,l;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(l=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===l?void 0:l[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(pi,2))},n.\u0275dir=m.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&m.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[m.qOj]}),n})();function Fo(n,e){(function Js(n,e){const t=function Cu(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(lc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function ld(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(lc(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const l=()=>n.updateValueAndValidity();ia(e._rawValidators,l),ia(e._rawAsyncValidators,l)})(n,e),e.valueAccessor.writeValue(n.value),function ku(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&L(n,e)})}(n,e),function K(n,e){const t=(i,l)=>{e.valueAccessor.writeValue(i),l&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function nh(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&L(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function dd(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ia(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function L(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Mn(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const fn="VALID",Ss="INVALID",vi="PENDING",oi="DISABLED";function Dr(n){return(sa(n)?n.validators:n)||null}function Ta(n){return Array.isArray(n)?ad(n):n||null}function cc(n,e){return(sa(e)?e.asyncValidators:n)||null}function Mu(n){return Array.isArray(n)?ac(n):n||null}function sa(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const hd=n=>n instanceof $l;function oa(n){return(n=>n instanceof pd)(n)?n.value:n.getRawValue()}function aa(n,e){const t=hd(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new m.vHH(1e3,"");if(!i[e])throw new m.vHH(1001,"")}function Yh(n,e){hd(n),n._forEachChild((i,l)=>{if(void 0===e[l])throw new m.vHH(1002,"")})}class pl{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ta(this._rawValidators),this._composedAsyncValidatorFn=Mu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fn}get invalid(){return this.status===Ss}get pending(){return this.status==vi}get disabled(){return this.status===oi}get enabled(){return this.status!==oi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ta(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Mu(e)}addValidators(e){this.setValidators(ud(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ud(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tr(e,this._rawAsyncValidators))}hasValidator(e){return rs(this._rawValidators,e)}hasAsyncValidator(e){return rs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vi,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=oi,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fn,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fn||this.status===vi)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oi:fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vi,this._hasOwnPendingAsyncValidator=!0;const t=gr(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Xs(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(l=>{i=hd(i)?i.controls.hasOwnProperty(l)?i.controls[l]:null:(n=>n instanceof vp)(i)&&i.at(l)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?oi:this.errors?Ss:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vi)?vi:this._anyControlsHaveStatus(Ss)?Ss:fn}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sa(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pd extends pl{constructor(e=null,t,i){super(Dr(t),cc(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sa(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Mn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Mn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class $l extends pl{constructor(e,t,i){super(Dr(t),cc(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Yh(this,e),Object.keys(e).forEach(i=>{aa(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,l)=>{i.reset(e[l],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=oa(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((l,f)=>{i=t(i,l,f)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class vp extends pl{constructor(e,t,i){super(Dr(t),cc(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Yh(this,e),e.forEach((i,l)=>{aa(this,l),this.at(l).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,l)=>{this.at(l)&&this.at(l).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,l)=>{i.reset(e[l],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>oa(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ih={provide:pi,useExisting:(0,m.Gpc)(()=>md)},gd=(()=>Promise.resolve(null))();let md=(()=>{class n extends pi{constructor(t,i,l,f,v){super(),this._changeDetectorRef=v,this.control=new pd,this._registered=!1,this.update=new m.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(l),this.valueAccessor=function gn(n,e){if(!e)return null;let t,i,l;return Array.isArray(e),e.forEach(f=>{f.constructor===Si?t=f:function Et(n){return Object.getPrototypeOf(n.constructor)===Ti}(f)?i=f:l=f}),l||i||t||null}(0,f)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function mt(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){gd.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,l=""===i||i&&"false"!==i;gd.then(()=>{var f;l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),null===(f=this._changeDetectorRef)||void 0===f||f.markForCheck()})}_getPath(t){return this._parent?function Ts(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Gr,9),m.Y36(dr,10),m.Y36(As,10),m.Y36(Er,10),m.Y36(m.sBO,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([ih]),m.qOj,m.TTD]}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})(),sf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[vd]]}),n})(),Jg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[sf]}),n})();function en(...n){const e=(0,Ds.yG)(n);return(0,er.D)(n,e)}var Uo=Y(7579);class In extends Uo.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var no=Y(4671),Fu=Y(9672);function Dd(n,e,t){n?(0,Fu.f)(t,n,e):e()}const Jl=(0,Y(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var yl=Y(8189);function is(...n){return function Bu(){return(0,yl.J)(1)}()((0,er.D)(n,(0,Ds.yG)(n)))}function Dc(n){return new jr.y(e=>{(0,Ln.Xf)(n()).subscribe(e)})}var _i=Y(515),Ad=Y(727),ss=Y(4482);function Ac(){return(0,ss.e)((n,e)=>{let t=null;n._refCount++;const i=(0,sr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const l=n._connection,f=t;t=null,l&&(!f||l===f)&&l.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class of extends jr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ss.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ad.w0;const t=this.getSubject();e.add(this.source.subscribe((0,sr.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ad.w0.EMPTY)}return e}refCount(){return Ac()(this)}}function bi(n,e){return(0,ss.e)((t,i)=>{let l=null,f=0,v=!1;const b=()=>v&&!l&&i.complete();t.subscribe((0,sr.x)(i,M=>{null==l||l.unsubscribe();let ee=0;const ve=f++;(0,Ln.Xf)(n(M,ve)).subscribe(l=(0,sr.x)(i,_e=>i.next(e?e(M,_e,ve,ee++):_e),()=>{l=null,b()}))},()=>{v=!0,b()}))})}var vr=Y(5698);function Ra(...n){const e=(0,Ds.yG)(n);return(0,ss.e)((t,i)=>{(e?is(n,t,e):is(n,t)).subscribe(i)})}function Id(n,e,t,i,l){return(f,v)=>{let b=t,M=e,ee=0;f.subscribe((0,sr.x)(v,ve=>{const _e=ee++;M=b?n(M,ve,_e):(b=!0,ve),i&&v.next(M)},l&&(()=>{b&&v.next(M),v.complete()})))}}function Tn(n,e){return(0,ss.e)(Id(n,e,arguments.length>=2,!0))}function Wr(n,e){return(0,ss.e)((t,i)=>{let l=0;t.subscribe((0,sr.x)(i,f=>n.call(e,f,l++)&&i.next(f)))})}function ro(n){return(0,ss.e)((e,t)=>{let f,i=null,l=!1;i=e.subscribe((0,sr.x)(t,void 0,void 0,v=>{f=(0,Ln.Xf)(n(v,ro(n)(e))),i?(i.unsubscribe(),i=null,f.subscribe(t)):l=!0})),l&&(i.unsubscribe(),i=null,f.subscribe(t))})}var ar=Y(5577),la=Y(576);function _l(n,e){return(0,la.m)(e)?(0,ar.z)(n,e,1):(0,ar.z)(n,1)}function Ic(n){return n<=0?()=>_i.E:(0,ss.e)((e,t)=>{let i=[];e.subscribe((0,sr.x)(t,l=>{i.push(l),n<i.length&&i.shift()},()=>{for(const l of i)t.next(l);t.complete()},void 0,()=>{i=null}))})}function fr(n=af){return(0,ss.e)((e,t)=>{let i=!1;e.subscribe((0,sr.x)(t,l=>{i=!0,t.next(l)},()=>i?t.complete():t.error(n())))})}function af(){return new Jl}function lf(n){return(0,ss.e)((e,t)=>{let i=!1;e.subscribe((0,sr.x)(t,l=>{i=!0,t.next(l)},()=>{i||t.next(n),t.complete()}))})}function w(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Wr((l,f)=>n(l,f,i)):no.y,(0,vr.q)(1),t?lf(e):fr(()=>new Jl))}var r=Y(8505);class c{constructor(e,t){this.id=e,this.url=t}}class d extends c{constructor(e,t,i="imperative",l=null){super(e,t),this.navigationTrigger=i,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class p extends c{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _ extends c{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class C extends c{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class O extends c{constructor(e,t,i,l){super(e,t),this.urlAfterRedirects=i,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z extends c{constructor(e,t,i,l){super(e,t),this.urlAfterRedirects=i,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X extends c{constructor(e,t,i,l,f){super(e,t),this.urlAfterRedirects=i,this.state=l,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ge extends c{constructor(e,t,i,l){super(e,t),this.urlAfterRedirects=i,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends c{constructor(e,t,i,l){super(e,t),this.urlAfterRedirects=i,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ue{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qe{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _t{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class St{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class At{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const st="primary";class Lt{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ht(n){return new Lt(n)}const jt="ngNavigationCancelingError";function ln(n){const e=Error("NavigationCancelingError: "+n);return e[jt]=!0,e}function qr(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const l={};for(let f=0;f<i.length;f++){const v=i[f],b=n[f];if(v.startsWith(":"))l[v.substring(1)]=b;else if(v!==b.path)return null}return{consumed:n.slice(0,i.length),posParams:l}}function Ar(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let l;for(let f=0;f<t.length;f++)if(l=t[f],!os(n[l],e[l]))return!1;return!0}function os(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((l,f)=>i[f]===l)}return n===e}function Ir(n){return Array.prototype.concat.apply([],n)}function Oi(n){return n.length>0?n[n.length-1]:null}function En(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function $n(n){return(0,m.CqO)(n)?n:(0,m.QGY)(n)?(0,er.D)(Promise.resolve(n)):en(n)}const as={exact:function ua(n,e,t){if(!Vu(n.segments,e.segments)||!Na(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!ua(n.children[i],e.children[i],t))return!1;return!0},subset:Tc},Uu={exact:function Ni(n,e){return Ar(n,e)},subset:function wi(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>os(n[t],e[t]))},ignored:()=>!0};function ks(n,e,t){return as[t.paths](n.root,e.root,t.matrixParams)&&Uu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Tc(n,e,t){return bl(n,e,e.segments,t)}function bl(n,e,t,i){if(n.segments.length>t.length){const l=n.segments.slice(0,t.length);return!(!Vu(l,t)||e.hasChildren()||!Na(l,t,i))}if(n.segments.length===t.length){if(!Vu(n.segments,t)||!Na(n.segments,t,i))return!1;for(const l in e.children)if(!n.children[l]||!Tc(n.children[l],e.children[l],i))return!1;return!0}{const l=t.slice(0,n.segments.length),f=t.slice(n.segments.length);return!!(Vu(n.segments,l)&&Na(n.segments,l,i)&&n.children[st])&&bl(n.children[st],e,f,i)}}function Na(n,e,t){return e.every((i,l)=>Uu[t](n[l].parameters,i.parameters))}class io{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ht(this.queryParams)),this._queryParamMap}toString(){return N0.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,En(t,(i,l)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cf(this)}}class ca{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ht(this.parameters)),this._parameterMap}toString(){return ey(this)}}function Vu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class Jv{}class em{parse(e){const t=new F0(e);return new io(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Sc(e.root,!0)}`,i=function L0(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(l=>`${Ap(t)}=${Ap(l)}`).join("&"):`${Ap(t)}=${Ap(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function lC(n){return encodeURI(n)}(e.fragment)}`:""}`}}const N0=new em;function cf(n){return n.segments.map(e=>ey(e)).join("/")}function Sc(n,e){if(!n.hasChildren())return cf(n);if(e){const t=n.children[st]?Sc(n.children[st],!1):"",i=[];return En(n.children,(l,f)=>{f!==st&&i.push(`${f}:${Sc(l,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Xg(n,e){let t=[];return En(n.children,(i,l)=>{l===st&&(t=t.concat(e(i,l)))}),En(n.children,(i,l)=>{l!==st&&(t=t.concat(e(i,l)))}),t}(n,(i,l)=>l===st?[Sc(n.children[st],!1)]:[`${l}:${Sc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[st]?`${cf(n)}/${t[0]}`:`${cf(n)}/(${t.join("//")})`}}function P0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ap(n){return P0(n).replace(/%3B/gi,";")}function Xv(n){return P0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ip(n){return decodeURIComponent(n)}function tm(n){return Ip(n.replace(/\+/g,"%20"))}function ey(n){return`${Xv(n.path)}${function dT(n){return Object.keys(n).map(e=>`;${Xv(e)}=${Xv(n[e])}`).join("")}(n.parameters)}`}const uC=/^[^\/()?;=#]+/;function Tp(n){const e=n.match(uC);return e?e[0]:""}const cC=/^[^=?&#]+/,Xl=/^[^&#]+/;class F0{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[st]=new tn(e,t)),i}parseSegment(){const e=Tp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ca(Ip(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Tp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=Tp(this.remaining);l&&(i=l,this.capture(i))}e[Ip(t)]=Ip(i)}parseQueryParam(e){const t=function dC(n){const e=n.match(cC);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const v=function hC(n){const e=n.match(Xl);return e?e[0]:""}(this.remaining);v&&(i=v,this.capture(i))}const l=tm(t),f=tm(i);if(e.hasOwnProperty(l)){let v=e[l];Array.isArray(v)||(v=[v],e[l]=v),v.push(f)}else e[l]=f}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Tp(this.remaining),l=this.remaining[i.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let f;i.indexOf(":")>-1?(f=i.substr(0,i.indexOf(":")),this.capture(f),this.capture(":")):e&&(f=st);const v=this.parseChildren();t[f]=1===Object.keys(v).length?v[st]:new tn([],v),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class B0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ty(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ty(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ny(e,this._root);return t.length<2?[]:t[t.length-2].children.map(l=>l.value).filter(l=>l!==e)}pathFromRoot(e){return ny(e,this._root).map(t=>t.value)}}function ty(n,e){if(n===e.value)return e;for(const t of e.children){const i=ty(n,t);if(i)return i}return null}function ny(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ny(n,t);if(i.length)return i.unshift(e),i}return[]}class xc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class U0 extends B0{constructor(e,t){super(e),this.snapshot=t,Pa(this,e)}toString(){return this.snapshot.toString()}}function V0(n,e){const t=function fC(n,e){const v=new Sp([],{},{},"",{},st,e,null,n.root,-1,{});return new xp("",new xc(v,[]))}(n,e),i=new In([new ca("",{})]),l=new In({}),f=new In({}),v=new In({}),b=new In(""),M=new an(i,l,v,b,f,st,e,t.root);return M.snapshot=t.root,new U0(new xc(M,[]),t)}class an{constructor(e,t,i,l,f,v,b,M){this.url=e,this.params=t,this.queryParams=i,this.fragment=l,this.data=f,this.outlet=v,this.component=b,this._futureSnapshot=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,on.U)(e=>Ht(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,on.U)(e=>Ht(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ry(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const l=t[i],f=t[i-1];if(l.routeConfig&&""===l.routeConfig.path)i--;else{if(f.component)break;i--}}return function H0(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Sp{constructor(e,t,i,l,f,v,b,M,ee,ve,_e){this.url=e,this.params=t,this.queryParams=i,this.fragment=l,this.data=f,this.outlet=v,this.component=b,this.routeConfig=M,this._urlSegment=ee,this._lastPathIndex=ve,this._resolve=_e}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ht(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ht(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xp extends B0{constructor(e,t){super(t),this.url=e,Pa(this,t)}toString(){return iy(this._root)}}function Pa(n,e){e.value._routerState=n,e.children.forEach(t=>Pa(n,t))}function iy(n){const e=n.children.length>0?` { ${n.children.map(iy).join(", ")} } `:"";return`${n.value}${e}`}function sy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ar(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ar(e.params,t.params)||n.params.next(t.params),function yr(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ar(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ar(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function kp(n,e){const t=Ar(n.params,e.params)&&function uf(n,e){return Vu(n,e)&&n.every((t,i)=>Ar(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||kp(n.parent,e.parent))}function ph(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const l=function j0(n,e,t){return e.children.map(i=>{for(const l of t.children)if(n.shouldReuseRoute(i.value,l.value.snapshot))return ph(n,i,l);return ph(n,i)})}(n,e,t);return new xc(i,l)}{if(n.shouldAttach(e.value)){const f=n.retrieve(e.value);if(null!==f){const v=f.route;return v.value._futureSnapshot=e.value,v.children=e.children.map(b=>ph(n,b)),v}}const i=function oy(n){return new an(new In(n.url),new In(n.params),new In(n.queryParams),new In(n.fragment),new In(n.data),n.outlet,n.component,n)}(e.value),l=e.children.map(f=>ph(n,f));return new xc(i,l)}}function Mp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nm(n){return"object"==typeof n&&null!=n&&n.outlets}function df(n,e,t,i,l){let f={};return i&&En(i,(v,b)=>{f[b]=Array.isArray(v)?v.map(M=>`${M}`):`${v}`}),new io(t.root===n?e:Op(t.root,n,e),f,l)}function Op(n,e,t){const i={};return En(n.children,(l,f)=>{i[f]=l===e?t:Op(l,e,t)}),new tn(n.segments,i)}class rm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Mp(i[0]))throw new Error("Root segment cannot have matrix parameters");const l=i.find(nm);if(l&&l!==Oi(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rp{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function z0(n,e,t){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return im(n,e,t);const i=function G0(n,e,t){let i=0,l=e;const f={match:!1,pathIndex:0,commandIndex:0};for(;l<n.segments.length;){if(i>=t.length)return f;const v=n.segments[l],b=t[i];if(nm(b))break;const M=`${b}`,ee=i<t.length-1?t[i+1]:null;if(l>0&&void 0===M)break;if(M&&ee&&"object"==typeof ee&&void 0===ee.outlets){if(!ly(M,ee,v))return f;i+=2}else{if(!ly(M,{},v))return f;i++}l++}return{match:!0,pathIndex:l,commandIndex:i}}(n,e,t),l=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const f=new tn(n.segments.slice(0,i.pathIndex),{});return f.children[st]=new tn(n.segments.slice(i.pathIndex),n.children),im(f,0,l)}return i.match&&0===l.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?$0(n,e,t):i.match?im(n,0,l):$0(n,e,t)}function im(n,e,t){if(0===t.length)return new tn(n.segments,{});{const i=function gC(n){return nm(n[0])?n[0].outlets:{[st]:n}}(t),l={};return En(i,(f,v)=>{"string"==typeof f&&(f=[f]),null!==f&&(l[v]=z0(n.children[v],e,f))}),En(n.children,(f,v)=>{void 0===i[v]&&(l[v]=f)}),new tn(n.segments,l)}}function $0(n,e,t){const i=n.segments.slice(0,e);let l=0;for(;l<t.length;){const f=t[l];if(nm(f)){const M=mC(f.outlets);return new tn(i,M)}if(0===l&&Mp(t[0])){i.push(new ca(n.segments[e].path,vC(t[0]))),l++;continue}const v=nm(f)?f.outlets[st]:`${f}`,b=l<t.length-1?t[l+1]:null;v&&b&&Mp(b)?(i.push(new ca(v,vC(b))),l+=2):(i.push(new ca(v,{})),l++)}return new tn(i,{})}function mC(n){const e={};return En(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=$0(new tn([],{}),0,t))}),e}function vC(n){const e={};return En(n,(t,i)=>e[i]=`${t}`),e}function ly(n,e,t){return n==t.path&&Ar(e,t.parameters)}class yC{constructor(e,t,i,l){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=l}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),sy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const l=fh(t);e.children.forEach(f=>{const v=f.value.outlet;this.deactivateRoutes(f,l[v],i),delete l[v]}),En(l,(f,v)=>{this.deactivateRouteAndItsChildren(f,i)})}deactivateRoutes(e,t,i){const l=e.value,f=t?t.value:null;if(l===f)if(l.component){const v=i.getContext(l.outlet);v&&this.deactivateChildRoutes(e,t,v.children)}else this.deactivateChildRoutes(e,t,i);else f&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),l=i&&e.value.component?i.children:t,f=fh(e);for(const v of Object.keys(f))this.deactivateRouteAndItsChildren(f[v],l);if(i&&i.outlet){const v=i.outlet.detach(),b=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:v,route:e,contexts:b})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),l=i&&e.value.component?i.children:t,f=fh(e);for(const v of Object.keys(f))this.deactivateRouteAndItsChildren(f[v],l);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const l=fh(t);e.children.forEach(f=>{this.activateRoutes(f,l[f.value.outlet],i),this.forwardEvent(new St(f.value.snapshot))}),e.children.length&&this.forwardEvent(new lt(e.value.snapshot))}activateRoutes(e,t,i){const l=e.value,f=t?t.value:null;if(sy(l),l===f)if(l.component){const v=i.getOrCreateContext(l.outlet);this.activateChildRoutes(e,t,v.children)}else this.activateChildRoutes(e,t,i);else if(l.component){const v=i.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const b=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),v.children.onOutletReAttached(b.contexts),v.attachRef=b.componentRef,v.route=b.route.value,v.outlet&&v.outlet.attach(b.componentRef,b.route.value),sy(b.route.value),this.activateChildRoutes(e,null,v.children)}else{const b=function uy(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(l.snapshot),M=b?b.module.componentFactoryResolver:null;v.attachRef=null,v.route=l,v.resolver=M,v.outlet&&v.outlet.activateWith(l,M),this.activateChildRoutes(e,null,v.children)}}else this.activateChildRoutes(e,null,i)}}class q0{constructor(e,t){this.routes=e,this.module=t}}function gh(n){return"function"==typeof n}function hf(n){return n instanceof io}const sm=Symbol("INITIAL_VALUE");function om(){return bi(n=>function xs(...n){const e=(0,Ds.yG)(n),t=(0,Ds.jO)(n),{args:i,keys:l}=Gi(n);if(0===i.length)return(0,er.D)([],e);const f=new jr.y(function Cc(n,e,t=no.y){return i=>{Dd(e,()=>{const{length:l}=n,f=new Array(l);let v=l,b=l;for(let M=0;M<l;M++)Dd(e,()=>{const ee=(0,er.D)(n[M],e);let ve=!1;ee.subscribe((0,sr.x)(i,_e=>{f[M]=_e,ve||(ve=!0,b--),b||i.next(t(f.slice()))},()=>{--v||i.complete()}))},i)},i)}}(i,e,l?v=>al(l,v):no.y));return t?f.pipe(ol(t)):f}(n.map(e=>e.pipe((0,vr.q)(1),Ra(sm)))).pipe(Tn((e,t)=>{let i=!1;return t.reduce((l,f,v)=>l!==sm?l:(f===sm&&(i=!0),i||!1!==f&&v!==t.length-1&&!hf(f)?l:f),e)},sm),Wr(e=>e!==sm),(0,on.U)(e=>hf(e)?e:!0===e),(0,vr.q)(1)))}class Td{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mh,this.attachRef=null}}class mh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Td,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let K0=(()=>{class n{constructor(t,i,l,f,v){this.parentContexts=t,this.location=i,this.resolver=l,this.changeDetector=v,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=f||st,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const v=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),b=this.parentContexts.getOrCreateContext(this.name).children,M=new Z0(t,b,this.location.injector);this.activated=this.location.createComponent(v,this.location.length,M),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(mh),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},n.\u0275dir=m.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Z0{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===an?this.route:e===mh?this.childContexts:this.parent.get(e,t)}}let am=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&m._UZ(0,"router-outlet")},directives:[K0],encapsulation:2}),n})();function cy(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];dy(i,_C(e,i))}}function dy(n,e){n.children&&cy(n.children,e)}function _C(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Hu(n){const e=n.children&&n.children.map(Hu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==st&&(t.component=am),t}function La(n){return n.outlet||st}function Y0(n,e){const t=n.filter(i=>La(i)===e);return t.push(...n.filter(i=>La(i)!==e)),t}const lm={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function um(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},lm):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(e.matcher||qr)(t,n,e);if(!f)return Object.assign({},lm);const v={};En(f.posParams,(M,ee)=>{v[ee]=M.path});const b=f.consumed.length>0?Object.assign(Object.assign({},v),f.consumed[f.consumed.length-1].parameters):v;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:b,positionalParamSegments:null!==(i=f.posParams)&&void 0!==i?i:{}}}function Np(n,e,t,i,l="corrected"){if(t.length>0&&function Pp(n,e,t){return t.some(i=>pf(n,e,i)&&La(i)!==st)}(n,t,i)){const v=new tn(e,function wC(n,e,t,i){const l={};l[st]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const f of t)if(""===f.path&&La(f)!==st){const v=new tn([],{});v._sourceSegment=n,v._segmentIndexShift=e.length,l[La(f)]=v}return l}(n,e,i,new tn(t,n.children)));return v._sourceSegment=n,v._segmentIndexShift=e.length,{segmentGroup:v,slicedSegments:[]}}if(0===t.length&&function ff(n,e,t){return t.some(i=>pf(n,e,i))}(n,t,i)){const v=new tn(n.segments,function bC(n,e,t,i,l,f){const v={};for(const b of i)if(pf(n,t,b)&&!l[La(b)]){const M=new tn([],{});M._sourceSegment=n,M._segmentIndexShift="legacy"===f?n.segments.length:e.length,v[La(b)]=M}return Object.assign(Object.assign({},l),v)}(n,e,t,i,n.children,l));return v._sourceSegment=n,v._segmentIndexShift=e.length,{segmentGroup:v,slicedSegments:t}}const f=new tn(n.segments,n.children);return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}function pf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vh(n,e,t,i){return!!(La(n)===i||i!==st&&pf(e,t,n))&&("**"===n.path||um(e,n,t).matched)}function gf(n,e,t){return 0===e.length&&!n.children[t]}class ju{constructor(e){this.segmentGroup=e||null}}class Q0{constructor(e){this.urlTree=e}}function Lp(n){return new jr.y(e=>e.error(new ju(n)))}function hy(n){return new jr.y(e=>e.error(new Q0(n)))}function fy(n){return new jr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class cm{constructor(e,t,i,l,f){this.configLoader=t,this.urlSerializer=i,this.urlTree=l,this.config=f,this.allowRedirects=!0,this.ngModule=e.get(m.h0i)}apply(){const e=Np(this.urlTree.root,[],[],this.config).segmentGroup,t=new tn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,st).pipe((0,on.U)(f=>this.createUrlTree(dm(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ro(f=>{if(f instanceof Q0)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof ju?this.noMatchError(f):f}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,st).pipe((0,on.U)(l=>this.createUrlTree(dm(l),e.queryParams,e.fragment))).pipe(ro(l=>{throw l instanceof ju?this.noMatchError(l):l}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const l=e.segments.length>0?new tn([],{[st]:e}):e;return new io(l,t,i)}expandSegmentGroup(e,t,i,l){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,on.U)(f=>new tn([],f))):this.expandSegment(e,i,t,i.segments,l,!0)}expandChildren(e,t,i){const l=[];for(const f of Object.keys(i.children))"primary"===f?l.unshift(f):l.push(f);return(0,er.D)(l).pipe(_l(f=>{const v=i.children[f],b=Y0(t,f);return this.expandSegmentGroup(e,b,v,f).pipe((0,on.U)(M=>({segment:M,outlet:f})))}),Tn((f,v)=>(f[v.outlet]=v.segment,f),{}),function Dp(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Wr((l,f)=>n(l,f,i)):no.y,Ic(1),t?lf(e):fr(()=>new Jl))}())}expandSegment(e,t,i,l,f,v){return(0,er.D)(i).pipe(_l(b=>this.expandSegmentAgainstRoute(e,t,i,b,l,f,v).pipe(ro(ee=>{if(ee instanceof ju)return en(null);throw ee}))),w(b=>!!b),ro((b,M)=>{if(b instanceof Jl||"EmptyError"===b.name){if(gf(t,l,f))return en(new tn([],{}));throw new ju(t)}throw b}))}expandSegmentAgainstRoute(e,t,i,l,f,v,b){return vh(l,t,f,v)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(e,t,l,f,v):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,l,f,v):Lp(t):Lp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,l,f,v){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,l,v):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,l,f,v)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,l){const f=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?hy(f):this.lineralizeSegments(i,f).pipe((0,ar.z)(v=>{const b=new tn(v,{});return this.expandSegment(e,b,t,v,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,l,f,v){const{matched:b,consumedSegments:M,lastChild:ee,positionalParamSegments:ve}=um(t,l,f);if(!b)return Lp(t);const _e=this.applyRedirectCommands(M,l.redirectTo,ve);return l.redirectTo.startsWith("/")?hy(_e):this.lineralizeSegments(l,_e).pipe((0,ar.z)(He=>this.expandSegment(e,t,i,He.concat(f.slice(ee)),v,!1)))}matchSegmentAgainstRoute(e,t,i,l,f){if("**"===i.path)return i.loadChildren?(i._loadedConfig?en(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,on.U)(He=>(i._loadedConfig=He,new tn(l,{})))):en(new tn(l,{}));const{matched:v,consumedSegments:b,lastChild:M}=um(t,i,l);if(!v)return Lp(t);const ee=l.slice(M);return this.getChildConfig(e,i,l).pipe((0,ar.z)(_e=>{const He=_e.module,qe=_e.routes,{segmentGroup:ct,slicedSegments:Mt}=Np(t,b,ee,qe),Gt=new tn(ct.segments,ct.children);if(0===Mt.length&&Gt.hasChildren())return this.expandChildren(He,qe,Gt).pipe((0,on.U)(Cn=>new tn(b,Cn)));if(0===qe.length&&0===Mt.length)return en(new tn(b,{}));const bn=La(i)===f;return this.expandSegment(He,Gt,qe,Mt,bn?st:f,!0).pipe((0,on.U)(rr=>new tn(b.concat(rr.segments),rr.children)))}))}getChildConfig(e,t,i){return t.children?en(new q0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?en(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,ar.z)(l=>l?this.configLoader.load(e.injector,t).pipe((0,on.U)(f=>(t._loadedConfig=f,f))):function py(n){return new jr.y(e=>e.error(ln(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):en(new q0([],e))}runCanLoadGuards(e,t,i){const l=t.canLoad;return l&&0!==l.length?en(l.map(v=>{const b=e.get(v);let M;if(function gT(n){return n&&gh(n.canLoad)}(b))M=b.canLoad(t,i);else{if(!gh(b))throw new Error("Invalid CanLoad guard");M=b(t,i)}return $n(M)})).pipe(om(),(0,r.b)(v=>{if(!hf(v))return;const b=ln(`Redirecting to "${this.urlSerializer.serialize(v)}"`);throw b.url=v,b}),(0,on.U)(v=>!0===v)):en(!0)}lineralizeSegments(e,t){let i=[],l=t.root;for(;;){if(i=i.concat(l.segments),0===l.numberOfChildren)return en(i);if(l.numberOfChildren>1||!l.children[st])return fy(e.redirectTo);l=l.children[st]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,l){const f=this.createSegmentGroup(e,t.root,i,l);return new io(f,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return En(e,(l,f)=>{if("string"==typeof l&&l.startsWith(":")){const b=l.substring(1);i[f]=t[b]}else i[f]=l}),i}createSegmentGroup(e,t,i,l){const f=this.createSegments(e,t.segments,i,l);let v={};return En(t.children,(b,M)=>{v[M]=this.createSegmentGroup(e,b,i,l)}),new tn(f,v)}createSegments(e,t,i,l){return t.map(f=>f.path.startsWith(":")?this.findPosParam(e,f,l):this.findOrReturn(f,i))}findPosParam(e,t,i){const l=i[t.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return l}findOrReturn(e,t){let i=0;for(const l of t){if(l.path===e.path)return t.splice(i),l;i++}return e}}function dm(n){const e={};for(const i of Object.keys(n.children)){const f=dm(n.children[i]);(f.segments.length>0||f.hasChildren())&&(e[i]=f)}return function EC(n){if(1===n.numberOfChildren&&n.children[st]){const e=n.children[st];return new tn(n.segments.concat(e.segments),e.children)}return n}(new tn(n.segments,e))}class gy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Fp{constructor(e,t){this.component=e,this.route=t}}function CC(n,e,t){const i=n._root;return Ms(i,e?e._root:null,t,[i.value])}function hm(n,e,t){const i=function DC(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Ms(n,e,t,i,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=fh(e);return n.children.forEach(v=>{(function AC(n,e,t,i,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=n.value,v=e?e.value:null,b=t?t.getContext(n.value.outlet):null;if(v&&f.routeConfig===v.routeConfig){const M=function IC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vu(n.url,e.url)||!Ar(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kp(n,e)||!Ar(n.queryParams,e.queryParams);default:return!kp(n,e)}}(v,f,f.routeConfig.runGuardsAndResolvers);M?l.canActivateChecks.push(new gy(i)):(f.data=v.data,f._resolvedData=v._resolvedData),Ms(n,e,f.component?b?b.children:null:t,i,l),M&&b&&b.outlet&&b.outlet.isActivated&&l.canDeactivateChecks.push(new Fp(b.outlet.component,v))}else v&&fm(e,b,l),l.canActivateChecks.push(new gy(i)),Ms(n,null,f.component?b?b.children:null:t,i,l)})(v,f[v.value.outlet],t,i.concat([v.value]),l),delete f[v.value.outlet]}),En(f,(v,b)=>fm(v,t.getContext(b),l)),l}function fm(n,e,t){const i=fh(n),l=n.value;En(i,(f,v)=>{fm(f,l.component?e?e.children.getContext(v):null:e,t)}),t.canDeactivateChecks.push(new Fp(l.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,l))}class kC{}function vy(n){return new jr.y(e=>e.error(n))}class nb{constructor(e,t,i,l,f,v){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=v}recognize(){const e=Np(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,st);if(null===t)return null;const i=new Sp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},st,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new xc(i,t),f=new xp(this.url,l);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(e){const t=e.value,i=ry(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const f of Object.keys(t.children)){const v=t.children[f],b=Y0(e,f),M=this.processSegmentGroup(b,v,f);if(null===M)return null;i.push(...M)}const l=yy(i);return function OC(n){n.sort((e,t)=>e.value.outlet===st?-1:t.value.outlet===st?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}processSegment(e,t,i,l){for(const f of e){const v=this.processSegmentAgainstRoute(f,t,i,l);if(null!==v)return v}return gf(t,i,l)?[]:null}processSegmentAgainstRoute(e,t,i,l){if(e.redirectTo||!vh(e,t,i,l))return null;let f,v=[],b=[];if("**"===e.path){const qe=i.length>0?Oi(i).parameters:{};f=new Sp(i,qe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ib(e),La(e),e.component,e,eu(t),pm(t)+i.length,sb(e))}else{const qe=um(t,e,i);if(!qe.matched)return null;v=qe.consumedSegments,b=i.slice(qe.lastChild),f=new Sp(v,qe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ib(e),La(e),e.component,e,eu(t),pm(t)+v.length,sb(e))}const M=function RC(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:ee,slicedSegments:ve}=Np(t,v,b,M.filter(qe=>void 0===qe.redirectTo),this.relativeLinkResolution);if(0===ve.length&&ee.hasChildren()){const qe=this.processChildren(M,ee);return null===qe?null:[new xc(f,qe)]}if(0===M.length&&0===ve.length)return[new xc(f,[])];const _e=La(e)===l,He=this.processSegment(M,ee,ve,_e?st:l);return null===He?null:[new xc(f,He)]}}function rb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function yy(n){const e=[],t=new Set;for(const i of n){if(!rb(i)){e.push(i);continue}const l=e.find(f=>i.value.routeConfig===f.value.routeConfig);void 0!==l?(l.children.push(...i.children),t.add(l)):e.push(i)}for(const i of t){const l=yy(i.children);e.push(new xc(i.value,l))}return e.filter(i=>!t.has(i))}function eu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pm(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function ib(n){return n.data||{}}function sb(n){return n.resolve||{}}function ab(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function by(n){return bi(e=>{const t=n(e);return t?(0,er.D)(t).pipe((0,on.U)(()=>e)):en(e)})}class wy extends class gm{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ey=new m.OlP("ROUTES");class mm{constructor(e,t,i,l){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=l}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const l=this.loadModuleFactory(t.loadChildren).pipe((0,on.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(t);const v=f.create(e);return new q0(Ir(v.injector.get(Ey,void 0,m.XFs.Self|m.XFs.Optional)).map(Hu),v)}),ro(f=>{throw t._loader$=void 0,f}));return t._loader$=new of(l,()=>new Uo.x).pipe(Ac()),t._loader$}loadModuleFactory(e){return $n(e()).pipe((0,ar.z)(t=>t instanceof m.YKP?en(t):(0,er.D)(this.compiler.compileModuleAsync(t))))}}class lb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function FC(n){throw n}function BC(n,e,t){return e.parse("/")}function vm(n,e){return en(null)}const DT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let da=(()=>{class n{constructor(t,i,l,f,v,b,M){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=l,this.location=f,this.config=M,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Uo.x,this.errorHandler=FC,this.malformedUriErrorHandler=BC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vm,afterPreactivation:vm},this.urlHandlingStrategy=new lb,this.routeReuseStrategy=new wy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=v.get(m.h0i),this.console=v.get(m.c2e);const _e=v.get(m.R0b);this.isNgZoneEnabled=_e instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(M),this.currentUrlTree=function Tr(){return new io(new tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mm(v,b,He=>this.triggerEvent(new Ve(He)),He=>this.triggerEvent(new Ue(He))),this.routerState=V0(this.currentUrlTree,this.rootComponentType),this.transitions=new In({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Wr(l=>0!==l.id),(0,on.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),bi(l=>{let f=!1,v=!1;return en(l).pipe((0,r.b)(b=>{this.currentNavigation={id:b.id,initialUrl:b.currentRawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bi(b=>{const M=this.browserUrlTree.toString(),ee=!this.navigated||b.extractedUrl.toString()!==M||M!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ee)&&this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl))return Bp(b.source)&&(this.browserUrlTree=b.extractedUrl),en(b).pipe(bi(_e=>{const He=this.transitions.getValue();return i.next(new d(_e.id,this.serializeUrl(_e.extractedUrl),_e.source,_e.restoredState)),He!==this.transitions.getValue()?_i.E:Promise.resolve(_e)}),function _T(n,e,t,i){return bi(l=>function J0(n,e,t,i,l){return new cm(n,e,t,i,l).apply()}(n,e,t,l.extractedUrl,i).pipe((0,on.U)(f=>Object.assign(Object.assign({},l),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,r.b)(_e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:_e.urlAfterRedirects})}),function CT(n,e,t,i,l){return(0,ar.z)(f=>function MC(n,e,t,i,l="emptyOnly",f="legacy"){try{const v=new nb(n,e,t,i,l,f).recognize();return null===v?vy(new kC):en(v)}catch(v){return vy(v)}}(n,e,f.urlAfterRedirects,t(f.urlAfterRedirects),i,l).pipe((0,on.U)(v=>Object.assign(Object.assign({},f),{targetSnapshot:v}))))}(this.rootComponentType,this.config,_e=>this.serializeUrl(_e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,r.b)(_e=>{if("eager"===this.urlUpdateStrategy){if(!_e.extras.skipLocationChange){const qe=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl);this.setBrowserUrl(qe,_e)}this.browserUrlTree=_e.urlAfterRedirects}const He=new O(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);i.next(He)}));if(ee&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:He,extractedUrl:qe,source:ct,restoredState:Mt,extras:Gt}=b,bn=new d(He,this.serializeUrl(qe),ct,Mt);i.next(bn);const Wn=V0(qe,this.rootComponentType).snapshot;return en(Object.assign(Object.assign({},b),{targetSnapshot:Wn,urlAfterRedirects:qe,extras:Object.assign(Object.assign({},Gt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=b.rawUrl,b.resolve(null),_i.E}),by(b=>{const{targetSnapshot:M,id:ee,extractedUrl:ve,rawUrl:_e,extras:{skipLocationChange:He,replaceUrl:qe}}=b;return this.hooks.beforePreactivation(M,{navigationId:ee,appliedUrlTree:ve,rawUrlTree:_e,skipLocationChange:!!He,replaceUrl:!!qe})}),(0,r.b)(b=>{const M=new z(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(M)}),(0,on.U)(b=>Object.assign(Object.assign({},b),{guards:CC(b.targetSnapshot,b.currentSnapshot,this.rootContexts)})),function bT(n,e){return(0,ar.z)(t=>{const{targetSnapshot:i,currentSnapshot:l,guards:{canActivateChecks:f,canDeactivateChecks:v}}=t;return 0===v.length&&0===f.length?en(Object.assign(Object.assign({},t),{guardsResult:!0})):function eb(n,e,t,i){return(0,er.D)(n).pipe((0,ar.z)(l=>function xC(n,e,t,i,l){const f=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return f&&0!==f.length?en(f.map(b=>{const M=hm(b,e,l);let ee;if(function yT(n){return n&&gh(n.canDeactivate)}(M))ee=$n(M.canDeactivate(n,e,t,i));else{if(!gh(M))throw new Error("Invalid CanDeactivate guard");ee=$n(M(n,e,t,i))}return ee.pipe(w())})).pipe(om()):en(!0)}(l.component,l.route,t,e,i)),w(l=>!0!==l,!0))}(v,i,l,n).pipe((0,ar.z)(b=>b&&function pT(n){return"boolean"==typeof n}(b)?function wT(n,e,t,i){return(0,er.D)(e).pipe(_l(l=>is(function my(n,e){return null!==n&&e&&e(new Qe(n)),en(!0)}(l.route.parent,i),function TC(n,e){return null!==n&&e&&e(new _t(n)),en(!0)}(l.route,i),function SC(n,e,t){const i=e[e.length-1],f=e.slice(0,e.length-1).reverse().map(v=>function X0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(v)).filter(v=>null!==v).map(v=>Dc(()=>en(v.guards.map(M=>{const ee=hm(M,v.node,t);let ve;if(function vT(n){return n&&gh(n.canActivateChild)}(ee))ve=$n(ee.canActivateChild(i,n));else{if(!gh(ee))throw new Error("Invalid CanActivateChild guard");ve=$n(ee(i,n))}return ve.pipe(w())})).pipe(om())));return en(f).pipe(om())}(n,l.path,t),function tb(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return en(!0);const l=i.map(f=>Dc(()=>{const v=hm(f,e,t);let b;if(function mT(n){return n&&gh(n.canActivate)}(v))b=$n(v.canActivate(e,n));else{if(!gh(v))throw new Error("Invalid CanActivate guard");b=$n(v(e,n))}return b.pipe(w())}));return en(l).pipe(om())}(n,l.route,t))),w(l=>!0!==l,!0))}(i,f,n,e):en(b)),(0,on.U)(b=>Object.assign(Object.assign({},t),{guardsResult:b})))})}(this.ngModule.injector,b=>this.triggerEvent(b)),(0,r.b)(b=>{if(hf(b.guardsResult)){const ee=ln(`Redirecting to "${this.serializeUrl(b.guardsResult)}"`);throw ee.url=b.guardsResult,ee}const M=new X(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.triggerEvent(M)}),Wr(b=>!!b.guardsResult||(this.restoreHistory(b),this.cancelNavigationTransition(b,""),!1)),by(b=>{if(b.guards.canActivateChecks.length)return en(b).pipe((0,r.b)(M=>{const ee=new ge(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(ee)}),bi(M=>{let ee=!1;return en(M).pipe(function ob(n,e){return(0,ar.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:l}}=t;if(!l.length)return en(t);let f=0;return(0,er.D)(l).pipe(_l(v=>function NC(n,e,t,i){return function PC(n,e,t,i){const l=ab(n);if(0===l.length)return en({});const f={};return(0,er.D)(l).pipe((0,ar.z)(v=>function _y(n,e,t,i){const l=hm(n,e,i);return $n(l.resolve?l.resolve(e,t):l(e,t))}(n[v],e,t,i).pipe((0,r.b)(b=>{f[v]=b}))),Ic(1),(0,ar.z)(()=>ab(f).length===l.length?en(f):_i.E))}(n._resolve,n,e,i).pipe((0,on.U)(f=>(n._resolvedData=f,n.data=Object.assign(Object.assign({},n.data),ry(n,t).resolve),null)))}(v.route,i,n,e)),(0,r.b)(()=>f++),Ic(1),(0,ar.z)(v=>f===l.length?en(t):_i.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,r.b)({next:()=>ee=!0,complete:()=>{ee||(this.restoreHistory(M),this.cancelNavigationTransition(M,"At least one route resolver didn't emit any value."))}}))}),(0,r.b)(M=>{const ee=new De(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(ee)}))}),by(b=>{const{targetSnapshot:M,id:ee,extractedUrl:ve,rawUrl:_e,extras:{skipLocationChange:He,replaceUrl:qe}}=b;return this.hooks.afterPreactivation(M,{navigationId:ee,appliedUrlTree:ve,rawUrlTree:_e,skipLocationChange:!!He,replaceUrl:!!qe})}),(0,on.U)(b=>{const M=function kc(n,e,t){const i=ph(n,e._root,t?t._root:void 0);return new U0(i,e)}(this.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return Object.assign(Object.assign({},b),{targetRouterState:M})}),(0,r.b)(b=>{this.currentUrlTree=b.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,b),this.browserUrlTree=b.urlAfterRedirects)}),((n,e,t)=>(0,on.U)(i=>(new yC(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,b=>this.triggerEvent(b)),(0,r.b)({next(){f=!0},complete(){f=!0}}),function s(n){return(0,ss.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var b;f||v||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null===(b=this.currentNavigation)||void 0===b?void 0:b.id)===l.id&&(this.currentNavigation=null)}),ro(b=>{if(v=!0,function Vn(n){return n&&n[jt]}(b)){const M=hf(b.url);M||(this.navigated=!0,this.restoreHistory(l,!0));const ee=new _(l.id,this.serializeUrl(l.extractedUrl),b.message);i.next(ee),M?setTimeout(()=>{const ve=this.urlHandlingStrategy.merge(b.url,this.rawUrlTree),_e={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bp(l.source)};this.scheduleNavigation(ve,"imperative",null,_e,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const M=new C(l.id,this.serializeUrl(l.extractedUrl),b);i.next(M);try{l.resolve(this.errorHandler(b))}catch(ee){l.reject(ee)}}return _i.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var l;const f={replaceUrl:!0},v=(null===(l=t.state)||void 0===l?void 0:l.navigationId)?t.state:null;if(v){const M=Object.assign({},v);delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(f.state=M)}const b=this.parseUrl(t.url);this.scheduleNavigation(b,i,v,f)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){cy(t),this.config=t.map(Hu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:l,queryParams:f,fragment:v,queryParamsHandling:b,preserveFragment:M}=i,ee=l||this.routerState.root,ve=M?this.currentUrlTree.fragment:v;let _e=null;switch(b){case"merge":_e=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":_e=this.currentUrlTree.queryParams;break;default:_e=f||null}return null!==_e&&(_e=this.removeEmptyProps(_e)),function hT(n,e,t,i,l){if(0===t.length)return df(e.root,e.root,e,i,l);const f=function ay(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rm(!0,0,n);let e=0,t=!1;const i=n.reduce((l,f,v)=>{if("object"==typeof f&&null!=f){if(f.outlets){const b={};return En(f.outlets,(M,ee)=>{b[ee]="string"==typeof M?M.split("/"):M}),[...l,{outlets:b}]}if(f.segmentPath)return[...l,f.segmentPath]}return"string"!=typeof f?[...l,f]:0===v?(f.split("/").forEach((b,M)=>{0==M&&"."===b||(0==M&&""===b?t=!0:".."===b?e++:""!=b&&l.push(b))}),l):[...l,f]},[]);return new rm(t,e,i)}(t);if(f.toRoot())return df(e.root,new tn([],{}),e,i,l);const v=function fT(n,e,t){if(n.isAbsolute)return new Rp(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const f=t.snapshot._urlSegment;return new Rp(f,f===e.root,0)}const i=Mp(n.commands[0])?0:1;return function pC(n,e,t){let i=n,l=e,f=t;for(;f>l;){if(f-=l,i=i.parent,!i)throw new Error("Invalid number of '../'");l=i.segments.length}return new Rp(i,!1,l-f)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(f,e,n),b=v.processChildren?im(v.segmentGroup,v.index,f.commands):z0(v.segmentGroup,v.index,f.commands);return df(v.segmentGroup,b,e,i,l)}(ee,this.currentUrlTree,t,_e,null!=ve?ve:null)}navigateByUrl(t,i={skipLocationChange:!1}){const l=hf(t)?t:this.parseUrl(t),f=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function ub(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(l){i=this.malformedUriErrorHandler(l,this.urlSerializer,t)}return i}isActive(t,i){let l;if(l=!0===i?Object.assign({},DT):!1===i?Object.assign({},UC):i,hf(t))return ks(this.currentUrlTree,t,l);const f=this.parseUrl(t);return ks(this.currentUrlTree,f,l)}removeEmptyProps(t){return Object.keys(t).reduce((i,l)=>{const f=t[l];return null!=f&&(i[l]=f),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new p(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,l,f,v){var b,M,ee;if(this.disposed)return Promise.resolve(!1);const ve=this.transitions.value,_e=Bp(i)&&ve&&!Bp(ve.source),He=ve.rawUrl.toString()===t.toString(),qe=ve.id===(null===(b=this.currentNavigation)||void 0===b?void 0:b.id);if(_e&&He&&qe)return Promise.resolve(!0);let Mt,Gt,bn;v?(Mt=v.resolve,Gt=v.reject,bn=v.promise):bn=new Promise((Cn,kr)=>{Mt=Cn,Gt=kr});const Wn=++this.navigationId;let rr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),rr=l&&l.\u0275routerPageId?l.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(M=this.browserPageId)&&void 0!==M?M:0:(null!==(ee=this.browserPageId)&&void 0!==ee?ee:0)+1):rr=0,this.setTransition({id:Wn,targetPageId:rr,source:i,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:f,resolve:Mt,reject:Gt,promise:bn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bn.catch(Cn=>Promise.reject(Cn))}setBrowserUrl(t,i){const l=this.urlSerializer.serialize(t),f=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(l)||i.extras.replaceUrl?this.location.replaceState(l,"",f):this.location.go(l,"",f)}restoreHistory(t,i=!1){var l,f;if("computed"===this.canceledNavigationResolution){const v=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===v?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===v&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(v)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const l=new _(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){m.$Z()},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function Bp(n){return"imperative"!==n}class cb{}class wm{preload(e,t){return en(null)}}let Dy=(()=>{class n{constructor(t,i,l,f){this.router=t,this.injector=l,this.preloadingStrategy=f,this.loader=new mm(l,i,M=>t.triggerEvent(new Ve(M)),M=>t.triggerEvent(new Ue(M)))}setUpPreloading(){this.subscription=this.router.events.pipe(Wr(t=>t instanceof p),_l(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(m.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const l=[];for(const f of i)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const v=f._loadedConfig;l.push(this.processRoutes(v.module,v.routes))}else f.loadChildren&&!f.canLoad?l.push(this.preloadConfig(t,f)):f.children&&l.push(this.processRoutes(t,f.children));return(0,er.D)(l).pipe((0,yl.J)(),(0,on.U)(f=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?en(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,ar.z)(f=>(i._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(da),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(cb))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Up=(()=>{class n{constructor(t,i,l={}){this.router=t,this.viewportScroller=i,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof d?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof p&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof At&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new At(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){m.$Z()},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const yh=new m.OlP("ROUTER_CONFIGURATION"),Cm=new m.OlP("ROUTER_FORROOT_GUARD"),db=[te,{provide:Jv,useClass:em},{provide:da,useFactory:function pb(n,e,t,i,l,f,v={},b,M){const ee=new da(null,n,e,t,i,l,Ir(f));return b&&(ee.urlHandlingStrategy=b),M&&(ee.routeReuseStrategy=M),function mf(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(v,ee),v.enableTracing&&ee.events.subscribe(ve=>{var _e,He;null===(_e=console.group)||void 0===_e||_e.call(console,`Router Event: ${ve.constructor.name}`),console.log(ve.toString()),console.log(ve),null===(He=console.groupEnd)||void 0===He||He.call(console)}),ee},deps:[Jv,mh,te,m.zs3,m.Sil,Ey,yh,[class Cy{},new m.FiY],[class LC{},new m.FiY]]},mh,{provide:an,useFactory:function gb(n){return n.routerState.root},deps:[da]},Dy,wm,class AT{preload(e,t){return t().pipe(ro(()=>en(null)))}},{provide:yh,useValue:{enableTracing:!1}}];function hb(){return new m.PXZ("Router",da)}let Ay=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[db,fb(t),{provide:Cm,useFactory:jC,deps:[[da,new m.FiY,new m.tp0]]},{provide:yh,useValue:i||{}},{provide:G,useFactory:Iy,deps:[U,[new m.tBr(pe),new m.FiY],yh]},{provide:Up,useFactory:HC,deps:[da,hu,yh]},{provide:cb,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:wm},{provide:m.PXZ,multi:!0,useFactory:hb},[Ty,{provide:m.ip1,multi:!0,useFactory:zC,deps:[Ty]},{provide:mb,useFactory:vf,deps:[Ty]},{provide:m.tb,multi:!0,useExisting:mb}]]}}static forChild(t){return{ngModule:n,providers:[fb(t)]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Cm,8),m.LFG(da,8))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();function HC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Up(n,e,t)}function Iy(n,e,t={}){return t.useHash?new me(n,e):new fe(n,e)}function jC(n){return"guarded"}function fb(n){return[{provide:m.deG,multi:!0,useValue:n},{provide:Ey,multi:!0,useValue:n}]}let Ty=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Uo.x}appInitializer(){return this.injector.get(D,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const l=new Promise(b=>i=b),f=this.injector.get(da),v=this.injector.get(yh);return"disabled"===v.initialNavigation?(f.setUpLocationChangeListener(),i(!0)):"enabled"===v.initialNavigation||"enabledBlocking"===v.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?en(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),f.initialNavigation()):i(!0),l})}bootstrapListener(t){const i=this.injector.get(yh),l=this.injector.get(Dy),f=this.injector.get(Up),v=this.injector.get(da),b=this.injector.get(m.z2F);t===b.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&v.initialNavigation(),l.setUpPreloading(),f.init(),v.resetRootComponentType(b.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.zs3))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function zC(n){return n.appInitializer.bind(n)}function vf(n){return n.bootstrapListener.bind(n)}const mb=new m.OlP("Router Initializer"),$C=[];let wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[Ay.forRoot($C)],Ay]}),n})();var Sy=Y(7025);let Dm=(()=>{class n{constructor(){this.localStorageKey="notes",this.notes=[],this.notes$=new In([]),this.step=10,this.index={start:0,end:0},this.isBegin$=new In(!1),this.isEnd$=new In(!1),this.loadFromLocalStorage()}loadFromLocalStorage(){if(this.localStorageKey){const t=window.localStorage.getItem(this.localStorageKey);t&&(this.notes=JSON.parse(t))}}saveFromLocalStorage(){this.localStorageKey&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(this.notes))}generate(t){const i="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";for(let l=this.notes.length,f=l+t;l<f;l++){const v=this.pad(Math.floor(12*Math.random())+1),b=this.pad(Math.floor(30*Math.random())+1),M=this.pad(Math.floor(24*Math.random())),ee=this.pad(Math.floor(60*Math.random()));this.notes.push({id:`${l}`,createdAt:Date.parse(`2022-${v}-${b}T${M}:${ee}`),content:"",cache:{title:"",tags:[]}})}this.notes.sort((l,f)=>l.createdAt>f.createdAt?1:-1),this.notes.forEach((l,f)=>{const v=`# Lorem ipsum ${f+1}`;let b=v;for(let M=0,ee=5*Math.random();M<ee;M++)b+="\n\n",b+=i.slice(0,Math.floor(11+Math.random()*i.length))+".";l.content=b,l.cache.title=v})}pad(t){return t<10?`0${t}`:`${t}`}create(){const t={id:`${this.notes.length}`,createdAt:Date.now(),content:"",cache:{title:"",tags:[]}};return this.persist(t)}persist(t){return new Promise(i=>{console.log("Persist note !",t);const l=this.notes.indexOf(t);l>=0?this.notes[l]=t:this.notes.push(t),this.saveFromLocalStorage(),i()})}getNotes(t=0){return this.loadLast(t||this.step),this.notes$.asObservable()}loadFirst(t=0){this.index.start=0,this.index.end=t||this.step,this.refresh()}loadLast(t=0){this.index.start=this.notes.length-(t||this.step),this.index.end=this.notes.length,this.refresh()}loadNext(t=0){return this.index.end=Math.min(this.notes.length,this.index.end+(t||this.step)),this.refresh()}loadPrevious(t=0){return this.index.start=Math.max(0,this.index.start-(t||this.step)),this.refresh()}unloadNext(t=0){return this.index.end=Math.max(this.index.start,this.index.end-(t||this.step)),this.refresh()}unloadPrevious(t=0){return this.index.start=Math.min(this.index.end,this.index.start+(t||this.step)),this.refresh()}refresh(){return new Promise(t=>{this.isBegin$.next(0==this.index.start),this.isEnd$.next(this.index.end==this.notes.length);const i=this.notes.slice(this.index.start,this.index.end);this.notes$.next(i),t(i)})}delete(t){const i=t.id;this.notes.splice(this.notes.indexOf(t),1),this.saveFromLocalStorage(),this.refresh().then(()=>console.log(`Note ${i} deleted`))}getAllNotes(){return Promise.resolve(this.notes)}isBegin(){return this.isBegin$}isEnd(){return this.isEnd$}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vb=["textarea"];function yb(n,e){if(1&n&&(m.TgZ(0,"li",11),m._uU(1),m.qZA()),2&n){const t=e.$implicit;m.xp6(1),m.hij(" ",t," ")}}let xy=(()=>{class n{constructor(t){this.noteService=t,this.autosaveDelay=1e3}ngOnInit(){requestAnimationFrame(()=>{this.editor=Sy.fromTextArea(this.textarea.nativeElement,{lineNumbers:!1,viewportMargin:1/0,viewportScrollMarginTop:100,viewportScrollMarginBottom:150,extraKeys:{Esc:()=>this.triggerEditorBlur(),"Ctrl-S":()=>{navigator.platform.match("Mac")||this.save()},"Cmd-S":()=>this.save()}}),this.editor.on("change",()=>this.onChange()),this.editor.on("blur",()=>this.onBlur()),this.editor.on("focus",()=>requestAnimationFrame(()=>this.editor.refresh()))})}ngOnChanges(t){this.editor&&this.isExternalUpdate(t.note.currentValue)&&this.editor.setValue(t.note.currentValue.content)}isExternalUpdate(t){return this.savedAt!==t.updatedAt}focus(){requestAnimationFrame(()=>{this.editor.focus()})}triggerEditorBlur(){var t;null===(t=this.textarea.nativeElement.parentNode.querySelector(".CodeMirror textarea"))||void 0===t||t.blur()}onBlur(){""===this.editor.getValue()?this.delete():this.save()}onChange(){this.autosave()}cacheTitle(){const t=this.note.content.match(/^# (?<title>.*)(?:\n|$)/);t&&t.groups&&(null==t?void 0:t.groups.title)&&(this.note.cache.title=null==t?void 0:t.groups.title)}cacheTags(){const t=[...this.note.content.matchAll(/#(\w+)/g)];t&&(this.note.cache.tags=t.map(i=>i[1]))}autosave(){this.clearAutosaveTimeout(),this.autosaveTimeout=setTimeout(()=>this.save(),this.autosaveDelay)}clearAutosaveTimeout(){clearTimeout(this.autosaveTimeout)}save(){const t=this.note.content;this.editor.getValue()!==t&&(console.log("saved"),clearTimeout(this.autosaveTimeout),this.note.content=this.editor.getValue(),this.note.updatedAt=this.savedAt=Date.now(),this.cacheTitle(),this.cacheTags(),this.noteService.persist(this.note))}delete(){this.clearAutosaveTimeout(),this.noteService.delete(this.note)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Dm))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-note"]],viewQuery:function(t,i){if(1&t&&m.Gf(vb,5),2&t){let l;m.iGM(l=m.CRH())&&(i.textarea=l.first)}},inputs:{note:"note"},features:[m.TTD],decls:15,vars:6,consts:[[1,"note"],[1,"note__header"],[1,"note__time"],[1,"note__body"],["rows","1",3,"ngModel","ngModelChange"],["textarea",""],[2,"margin","1rem 0","display","flex","gap",".5rem","list-style-type","none","padding","0"],["style","background: black; color: white; border-radius: 1rem; padding: .25rem .5rem; font-size: .8rem;",4,"ngFor","ngForOf"],[1,"note__footer"],[1,"note__button"],[1,"note__button",3,"click"],[2,"background","black","color","white","border-radius","1rem","padding",".25rem .5rem","font-size",".8rem"]],template:function(t,i){1&t&&(m.TgZ(0,"div",0)(1,"header",1)(2,"time",2),m._uU(3),m.ALo(4,"date"),m.qZA()(),m.TgZ(5,"div",3)(6,"textarea",4,5),m.NdJ("ngModelChange",function(f){return i.note.content=f}),m.qZA()(),m.TgZ(8,"ul",6),m.YNc(9,yb,2,1,"li",7),m.qZA(),m.TgZ(10,"footer",8)(11,"button",9),m._uU(12,"Cr\xe9er une note associ\xe9e"),m.qZA(),m.TgZ(13,"button",10),m.NdJ("click",function(){return i.delete()}),m._uU(14,"Supprimer"),m.qZA()()()),2&t&&(m.xp6(3),m.Oqu(m.xi3(4,3,i.note.createdAt,"EEEE d MMMM YYYY \xe0 H:mm")),m.xp6(3),m.Q6J("ngModel",i.note.content),m.xp6(3),m.Q6J("ngForOf",i.note.cache.tags))},directives:[Si,Iu,md,lr],pipes:[Xd],styles:["textarea[_ngcontent-%COMP%]{border:none;font:inherit;color:inherit;resize:none}"]}),n})();var Am=Y(3099),WC=Y(1144);const qC=["addListener","removeListener"],KC=["addEventListener","removeEventListener"],_b=["on","off"];function bb(n,e,t,i){if((0,la.m)(t)&&(i=t,t=void 0),i)return bb(n,e,t).pipe(ol(i));const[l,f]=function TT(n){return(0,la.m)(n.addEventListener)&&(0,la.m)(n.removeEventListener)}(n)?KC.map(v=>b=>n[v](e,b,t)):function ZC(n){return(0,la.m)(n.addListener)&&(0,la.m)(n.removeListener)}(n)?qC.map(ky(n,e)):function YC(n){return(0,la.m)(n.on)&&(0,la.m)(n.off)}(n)?_b.map(ky(n,e)):[];if(!l&&(0,WC.z)(n))return(0,ar.z)(v=>bb(v,e,t))((0,Ln.Xf)(n));if(!l)throw new TypeError("Invalid event target");return new jr.y(v=>{const b=(...M)=>v.next(1<M.length?M:M[0]);return l(b),()=>f(b)})}function ky(n,e){return t=>i=>n[t](e,i)}function QC(n,e=no.y){return n=null!=n?n:My,(0,ss.e)((t,i)=>{let l,f=!0;t.subscribe((0,sr.x)(i,v=>{const b=e(v);(f||!n(l,b))&&(f=!1,l=b,i.next(v))}))})}function My(n,e){return n===e}const Fa=new m.OlP("An abstraction over global window object",{factory:()=>{const{defaultView:n}=(0,m.f3M)(P);if(!n)throw new Error("Window is not available");return n}}),Im=(new m.OlP("Shared Observable based on `window.requestAnimationFrame`",{factory:()=>{const{requestAnimationFrame:n,cancelAnimationFrame:e}=(0,m.f3M)(Fa);return new jr.y(i=>{let l=NaN;const f=v=>{i.next(v),l=n(f)};return l=n(f),()=>{e(l)}}).pipe((0,Am.B)())}}),new m.OlP("An abstraction over window.caches object",{factory:()=>(0,m.f3M)(Fa).caches}),new m.OlP("An abstraction over window.crypto object",{factory:()=>(0,m.f3M)(Fa).crypto}),new m.OlP("An abstraction over window.CSS object",{factory:()=>(0,m.f3M)(Fa).CSS||{escape:n=>n,supports:()=>!1}}),new m.OlP("An abstraction over window.history object",{factory:()=>(0,m.f3M)(Fa).history}),new m.OlP("An abstraction over window.localStorage object",{factory:()=>(0,m.f3M)(Fa).localStorage}),new m.OlP("An abstraction over window.location object",{factory:()=>(0,m.f3M)(Fa).location}),new m.OlP("An abstraction over window.navigator object",{factory:()=>(0,m.f3M)(Fa).navigator})),Cb=(new m.OlP("An abstraction over window.navigator.mediaDevices object",{factory:()=>(0,m.f3M)(Im).mediaDevices}),new m.OlP("An abstraction over window.navigator.connection object",{factory:()=>(0,m.f3M)(Im).connection||null}),new m.OlP("Shared Observable based on `document visibility changed`",{factory:()=>{const n=(0,m.f3M)(P);return bb(n,"visibilitychange").pipe(Ra(0),(0,on.U)(()=>"hidden"!==n.visibilityState),QC(),(0,Am.B)())}}),new m.OlP("An abstraction over window.performance object",{factory:()=>(0,m.f3M)(Fa).performance}),new m.OlP("An abstraction over window.sessionStorage object",{factory:()=>(0,m.f3M)(Fa).sessionStorage}),new m.OlP("An abstraction over SpeechRecognition class",{factory:()=>{const n=(0,m.f3M)(Fa);return n.speechRecognition||n.webkitSpeechRecognition||null}}),new m.OlP("An abstraction over window.speechSynthesis object",{factory:()=>(0,m.f3M)(Fa).speechSynthesis}),new m.OlP("An abstraction over window.navigator.userAgent object",{factory:()=>(0,m.f3M)(Im).userAgent}),new m.OlP("Root element for IntersectionObserver")),Db="0px 0px 0px 0px";function rD(n){return n||Db}function yf(n){return n?n.split(",").map(parseFloat):0}new m.OlP("rootMargin for IntersectionObserver",{providedIn:"root",factory:()=>Db}),new m.OlP("threshold for IntersectionObserver",{providedIn:"root",factory:()=>0});let Ib=(()=>{class n extends IntersectionObserver{constructor(t,i,l){super(f=>{this.callbacks.forEach((v,b)=>{const M=f.filter(({target:ee})=>ee===b);return M.length&&v(M,this)})},{root:t&&t.nativeElement,rootMargin:rD(i),threshold:yf(l)}),this.callbacks=new Map}observe(t,i=(()=>{})){super.observe(t),this.callbacks.set(t,i)}unobserve(t){super.unobserve(t),this.callbacks.delete(t)}ngOnDestroy(){this.disconnect()}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Cb,8),m.$8M("waIntersectionRootMargin"),m.$8M("waIntersectionThreshold"))},n.\u0275dir=m.lG2({type:n,selectors:[["","waIntersectionObserver",""]],exportAs:["IntersectionObserver"],features:[m.qOj]}),n})(),_f=(()=>{class n extends jr.y{constructor({nativeElement:t},i){return super(l=>(i.observe(t,f=>{l.next(f)}),()=>{i.unobserve(t)})),this.pipe((0,Am.B)())}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.SBq),m.LFG(Ib))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),iD=(()=>{class n{constructor(t){this.waIntersectionObservee=t}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(_f))},n.\u0275dir=m.lG2({type:n,selectors:[["","waIntersectionObservee",""]],outputs:{waIntersectionObservee:"waIntersectionObservee"},features:[m._Bn([_f])]}),n})(),Ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();new m.OlP("Intersection Observer API support",{providedIn:"root",factory:()=>!!(0,m.f3M)(Fa).IntersectionObserver});const so=["list"],_h=["scrollPositionAnchor"];function Sm(n,e){if(1&n&&m._UZ(0,"div",11),2&n){const t=m.oxw();m.ekj("loader--off",!t.isLoadingPrevious)}}function El(n,e){if(1&n&&(m.TgZ(0,"li",12),m._UZ(1,"app-note",13,14),m.qZA()),2&n){const t=e.$implicit;m.xp6(1),m.Q6J("note",t)}}function Ny(n,e){if(1&n&&m._UZ(0,"div",15),2&n){const t=m.oxw();m.ekj("loader--off",!t.isLoadingNext)}}let bf=(()=>{class n{constructor(t,i){this.noteService=t,this.changeDetectorRef=i,this.isLoadingPrevious=!1,this.isLoadingNext=!1,this.autoloadLimitMax=30}ngOnInit(){this.getNotes(),this.notes$.pipe((0,vr.q)(2)).subscribe(()=>{requestAnimationFrame(()=>window.scrollTo(0,document.body.scrollHeight))}),this.isBegin$=this.noteService.isBegin(),this.isEnd$=this.noteService.isEnd()}getNotes(){this.notes$=this.noteService.getNotes(this.getInViewportNoteCount())}getInViewportNoteCount(){const t=window.innerHeight/110;return this.autoloadLimitMax=4*t,t}loadPreviousNotes(){this.isLoadingPrevious=!0,this.noteService.loadPrevious(this.getInViewportNoteCount()).then(t=>{this.isLoadingPrevious=!1,0===window.scrollY&&window.scrollBy(0,1),this.ajustScrollPosition(),t.length>this.autoloadLimitMax&&this.unloadNextNotes()})}loadNextNotes(){this.isLoadingNext=!0,this.noteService.loadNext(this.getInViewportNoteCount()).then(t=>{this.isLoadingNext=!1,t.length>this.autoloadLimitMax&&this.unloadPreviousNotes()})}unloadPreviousNotes(){this.noteService.unloadPrevious(this.getInViewportNoteCount()).then(()=>{this.ajustScrollPosition()})}unloadNextNotes(){this.noteService.unloadNext(this.getInViewportNoteCount())}ajustScrollPosition(){const t=document.body.scrollHeight,i=window.scrollY;this.changeDetectorRef.detectChanges();const l=window.scrollY;if(i&&l&&i===l){const v=document.body.scrollHeight-t;window.scrollBy(0,v),console.log("Scrolling by",v,"px")}}trackNoteById(t,i){return i&&i.id}onScrollTop(t){t.forEach(i=>{var l;i.isIntersecting?(this.loadPreviousNotes(),(null===(l=this.isBegin$)||void 0===l?void 0:l.getValue())||(this.loadPreviousNotesIntervalRef=window.setInterval(()=>this.loadPreviousNotes(),1e3))):window.clearInterval(this.loadPreviousNotesIntervalRef)})}onScrollBottom(t){t.forEach(i=>{var l;i.isIntersecting?(this.loadNextNotes(),(null===(l=this.isEnd$)||void 0===l?void 0:l.getValue())||(this.loadNextNotesIntervalRef=window.setInterval(()=>this.loadNextNotes(),1e3))):window.clearInterval(this.loadNextNotesIntervalRef)})}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Dm),m.Y36(m.sBO))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-notes"]],viewQuery:function(t,i){if(1&t&&(m.Gf(so,5),m.Gf(_h,5),m.Gf(xy,5)),2&t){let l;m.iGM(l=m.CRH())&&(i.listElementRef=l.first),m.iGM(l=m.CRH())&&(i.scrollPositionAnchor=l.first),m.iGM(l=m.CRH())&&(i.noteComponents=l)}},decls:14,vars:14,consts:[[2,"position","absolute"],["scrollPositionAnchor",""],["waIntersectionObserver","","waIntersectionRootMargin","50%",2,"max-width","35rem","width","100vw"],[2,"display","flex","align-items","center","flex-direction","column",3,"waIntersectionObservee"],["src","assets/logo-naute.png","alt","Naute - Explore your mind",2,"height","14rem","margin-bottom","2rem"],["style","margin: 2rem 0","class","loader loader--to-bottom",3,"loader--off",4,"ngIf"],[1,"card-list"],["list",""],["style","position: relative",4,"ngFor","ngForOf","ngForTrackBy"],[2,"display","flex","justify-content","center",3,"waIntersectionObservee"],["style","margin: 2rem 0","class","loader loader--to-top",3,"loader--off",4,"ngIf"],[1,"loader","loader--to-bottom",2,"margin","2rem 0"],[2,"position","relative"],[3,"note"],["note",""],[1,"loader","loader--to-top",2,"margin","2rem 0"]],template:function(t,i){1&t&&(m._UZ(0,"div",0,1),m.TgZ(2,"section",2)(3,"div",3),m.NdJ("waIntersectionObservee",function(f){return i.onScrollTop(f)}),m._UZ(4,"img",4),m.YNc(5,Sm,1,2,"div",5),m.qZA(),m.TgZ(6,"ul",6,7),m.ALo(8,"async"),m.ALo(9,"async"),m.YNc(10,El,3,1,"li",8),m.ALo(11,"async"),m.qZA(),m.TgZ(12,"div",9),m.NdJ("waIntersectionObservee",function(f){return i.onScrollBottom(f)}),m.YNc(13,Ny,1,2,"div",10),m.qZA()()),2&t&&(m.xp6(5),m.Q6J("ngIf",i.isLoadingPrevious),m.xp6(1),m.ekj("card-list--is-top",m.lcZ(8,8,i.isBegin$))("card-list--is-bottom",m.lcZ(9,10,i.isEnd$)),m.xp6(4),m.Q6J("ngForOf",m.lcZ(11,12,i.notes$))("ngForTrackBy",i.trackNoteById),m.xp6(3),m.Q6J("ngIf",i.isLoadingNext))},directives:[Ib,iD,ni,lr,xy],pipes:[uu],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}"]}),n})();var Ef=Y(5650),Cf=Y(766),Df=Y.n(Cf),Af=Y(4327);let If=(()=>{class n{constructor(){}getZip(t){const i=new Ef,l=new Date,ve=`naute-notes_${l.getFullYear()}-${this.pad(l.getMonth()+1)}-${this.pad(l.getDate())}_${this.pad(l.getHours())}h${this.pad(l.getMinutes())}`;t.forEach(He=>{const qe=new Date(He.createdAt),ct=qe.getFullYear(),Mt=this.pad(qe.getMonth()+1),Gt=this.pad(qe.getDate()),bn=this.pad(qe.getHours()),Wn=this.pad(qe.getMinutes()),rr=this.getTitle(He),Cn="---\n"+(rr?`title: ${rr}\n`:"")+`date: ${qe.toISOString()}\n---\n\n`;i.file(`${ve}/${ct}/${Mt}/${ct}-${Mt}-${Gt}_${bn}h${Wn}${rr?"__"+rr:""}.md`,Cn+He.content)});const _e=`${ve}.zip`;i.generateAsync({type:"blob"}).then(He=>{(0,Af.saveAs)(He,_e)},He=>{console.log(He)})}getTitle(t){let i="";const l=t.content.match(/^# (?<title>.*)(?:\n|$)/);return l&&l.groups&&(null==l?void 0:l.groups.title)&&(i=Df()(null==l?void 0:l.groups.title,{locale:"fr"})),i}pad(t){return t<10?`0${t}`:`${t}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tf(n,e){if(1&n){const t=m.EpF();m.ynx(0),m.TgZ(1,"button",5),m._uU(2," Filtrer "),m.qZA(),m.TgZ(3,"button",4),m.NdJ("click",function(){return m.CHM(t),m.oxw().getZip()}),m._uU(4," Exporter "),m.qZA(),m.BQk()}}let Sf=(()=>{class n{constructor(t,i){this.noteService=t,this.exportNotesService=i}ngOnInit(){}createNote(){this.notesComponent.notes$.pipe(function wf(n){return Wr((e,t)=>n<=t)}(1),(0,vr.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.notesComponent.noteComponents.last.focus(),window.scrollTo(0,document.body.scrollHeight)})}),this.noteService.create().then(()=>this.noteService.loadLast())}getZip(){this.noteService.getAllNotes().then(t=>{this.exportNotesService.getZip(t)})}generate(t){this.noteService.generate(t),this.noteService.refresh()}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Dm),m.Y36(If))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-taskbar"]],inputs:{notesComponent:"notesComponent"},decls:8,vars:3,consts:[[1,"taskbar"],[1,"taskbar__body"],[1,"taskbar__button","-primary",3,"click"],[4,"ngIf"],[1,"taskbar__button",3,"click"],[1,"taskbar__button"]],template:function(t,i){if(1&t&&(m.TgZ(0,"div",0)(1,"div",1)(2,"button",2),m.NdJ("click",function(){return i.createNote()}),m._uU(3," Cr\xe9er "),m.qZA(),m.YNc(4,Tf,5,0,"ng-container",3),m.ALo(5,"async"),m.TgZ(6,"button",4),m.NdJ("click",function(){return i.generate(1)}),m._uU(7," G\xe9n\xe9rer "),m.qZA()()()),2&t){let l;m.xp6(4),m.Q6J("ngIf",null==(l=m.lcZ(5,1,i.notesComponent.notes$))?null:l.length)}},directives:[ni],pipes:[uu],styles:[""]}),n})(),Tb=(()=>{class n{constructor(){this.title="naute"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[["notesComponent",""],[3,"notesComponent"]],template:function(t,i){if(1&t&&m._UZ(0,"app-notes",null,0)(2,"app-taskbar",1),2&t){const l=m.MAs(1);m.xp6(2),m.Q6J("notesComponent",l)}},directives:[bf,Sf],styles:[""]}),n})();var Cl=Y(2011),Sb=Y(4986),ls=Y(5813);function xm(){return(0,ss.e)((n,e)=>{let t,i=!1;n.subscribe((0,sr.x)(e,l=>{const f=t;t=l,i&&e.next([f,l]),i=!0}))})}Y(3059);var Wt,xb=Y(3942),ht=Y(5861),Sd=Y(9681),km=Y(4859),Oc=Y(1877),Sn=Y(2090),kb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gu={},Py=Py||{},hn=kb||self;function Mm(){}function Om(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Vp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Mb="closure_uid_"+(1e9*Math.random()>>>0),aD=0;function Ly(n,e,t){return n.call.apply(n.bind,arguments)}function Fy(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,i),n.apply(e,l)}}return function(){return n.apply(e,arguments)}}function Os(n,e,t){return(Os=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ly:Fy).apply(null,arguments)}function By(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function oo(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,l,f){for(var v=Array(arguments.length-2),b=2;b<arguments.length;b++)v[b-2]=arguments[b];return e.prototype[l].apply(i,v)}}function bh(){this.s=this.s,this.o=this.o}var Ob={};bh.prototype.s=!1,bh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function oD(n){return Object.prototype.hasOwnProperty.call(n,Mb)&&n[Mb]||(n[Mb]=++aD)}(this);delete Ob[n]}},bh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Rb=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,l="string"==typeof n?n.split(""):n;for(let f=0;f<i;f++)f in l&&e.call(t,l[f],f,n)};function Nb(n){return Array.prototype.concat.apply([],arguments)}function Rm(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Nm(n){return/^[\s\xa0]*$/.test(n)}var ao,Uy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function us(n,e){return-1!=n.indexOf(e)}function Vy(n,e){return n<e?-1:n>e?1:0}e:{var Pb=hn.navigator;if(Pb){var Lb=Pb.userAgent;if(Lb){ao=Lb;break e}}ao=""}function Hy(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Fb(n){const e={};for(const t in n)e[t]=n[t];return e}var Bb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jy(n,e){let t,i;for(let l=1;l<arguments.length;l++){for(t in i=arguments[l],i)n[t]=i[t];for(let f=0;f<Bb.length;f++)t=Bb[f],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function zy(n){return zy[" "](n),n}zy[" "]=Mm;var jp,n,Vb=us(ao,"Opera"),xd=us(ao,"Trident")||us(ao,"MSIE"),cD=us(ao,"Edge"),Hp=cD||xd,Hb=us(ao,"Gecko")&&!(us(ao.toLowerCase(),"webkit")&&!us(ao,"Edge"))&&!(us(ao,"Trident")||us(ao,"MSIE"))&&!us(ao,"Edge"),RT=us(ao.toLowerCase(),"webkit")&&!us(ao,"Edge");function kf(){var n=hn.document;return n?n.documentMode:void 0}e:{var zp="",Gp=(n=ao,Hb?/rv:([^\);]+)(\)|;)/.exec(n):cD?/Edge\/([\d\.]+)/.exec(n):xd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):RT?/WebKit\/(\S+)/.exec(n):Vb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gp&&(zp=Gp?Gp[1]:""),xd){var Gy=kf();if(null!=Gy&&Gy>parseFloat(zp)){jp=String(Gy);break e}}jp=zp}var Pm={};var hD=hn.document&&xd&&(kf()||parseInt(jp,10))||void 0,Fm=function(){if(!hn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{hn.addEventListener("test",Mm,e),hn.removeEventListener("test",Mm,e)}catch(t){}return n}();function Wi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Mf(n,e){if(Wi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Hb){e:{try{zy(e.nodeName);var l=!0;break e}catch(f){}l=!1}l||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mf.Z.h.call(this)}}Wi.prototype.h=function(){this.defaultPrevented=!0},oo(Mf,Wi);var jb={2:"touch",3:"pen",4:"mouse"};Mf.prototype.h=function(){Mf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wh="closure_listenable_"+(1e6*Math.random()|0),zb=0;function Gb(n,e,t,i,l){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=l,this.key=++zb,this.ca=this.fa=!1}function Of(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Wp(n){this.src=n,this.g={},this.h=0}function $y(n,e){var t=e.type;if(t in n.g){var f,i=n.g[t],l=uD(i,e);(f=0<=l)&&Array.prototype.splice.call(i,l,1),f&&(Of(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Bm(n,e,t,i){for(var l=0;l<n.length;++l){var f=n[l];if(!f.ca&&f.listener==e&&f.capture==!!t&&f.ia==i)return l}return-1}Wp.prototype.add=function(n,e,t,i,l){var f=n.toString();(n=this.g[f])||(n=this.g[f]=[],this.h++);var v=Bm(n,e,i,l);return-1<v?(e=n[v],t||(e.fa=!1)):((e=new Gb(e,this.src,f,!!i,l)).fa=t,n.push(e)),e};var Um="closure_lm_"+(1e6*Math.random()|0),qp={};function Wy(n,e,t,i,l){if(i&&i.once)return Wb(n,e,t,i,l);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Wy(n,e[f],t,i,l);return null}return t=jm(t),n&&n[wh]?n.N(e,t,Vp(i)?!!i.capture:!!i,l):$b(n,e,t,!1,i,l)}function $b(n,e,t,i,l,f){if(!e)throw Error("Invalid event type");var v=Vp(l)?!!l.capture:!!l,b=Vm(n);if(b||(n[Um]=b=new Wp(n)),(t=b.add(e,t,i,v,f)).proxy)return t;if(i=function fD(){var e=qb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Fm||(l=v),void 0===l&&(l=!1),n.addEventListener(e.toString(),i,l);else if(n.attachEvent)n.attachEvent(Ky(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Wb(n,e,t,i,l){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Wb(n,e[f],t,i,l);return null}return t=jm(t),n&&n[wh]?n.O(e,t,Vp(i)?!!i.capture:!!i,l):$b(n,e,t,!0,i,l)}function qy(n,e,t,i,l){if(Array.isArray(e))for(var f=0;f<e.length;f++)qy(n,e[f],t,i,l);else i=Vp(i)?!!i.capture:!!i,t=jm(t),n&&n[wh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Bm(f=n.g[e],t,i,l))&&(Of(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete n.g[e],n.h--))):n&&(n=Vm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Bm(e,t,i,l)),(t=-1<n?e[n]:null)&&Kp(t))}function Kp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[wh])$y(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Ky(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Vm(e))?($y(t,n),0==t.h&&(t.src=null,e[Um]=null)):Of(n)}}}function Ky(n){return n in qp?qp[n]:qp[n]="on"+n}function qb(n,e){if(n.ca)n=!0;else{e=new Mf(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Kp(n),n=t.call(i,e)}return n}function Vm(n){return(n=n[Um])instanceof Wp?n:null}var Hm="__closure_events_fn_"+(1e9*Math.random()>>>0);function jm(n){return"function"==typeof n?n:(n[Hm]||(n[Hm]=function(e){return n.handleEvent(e)}),n[Hm])}function qi(){bh.call(this),this.i=new Wp(this),this.P=this,this.I=null}function cs(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Wi(e,n);else if(e instanceof Wi)e.target=e.target||n;else{var l=e;jy(e=new Wi(i,n),l)}if(l=!0,t)for(var f=t.length-1;0<=f;f--){var v=e.g=t[f];l=Zp(v,i,!0,e)&&l}if(l=Zp(v=e.g=n,i,!0,e)&&l,l=Zp(v,i,!1,e)&&l,t)for(f=0;f<t.length;f++)l=Zp(v=e.g=t[f],i,!1,e)&&l}function Zp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,f=0;f<e.length;++f){var v=e[f];if(v&&!v.ca&&v.capture==t){var b=v.listener,M=v.ia||v.src;v.fa&&$y(n.i,v),l=!1!==b.call(M,i)&&l}}return l&&!i.defaultPrevented}oo(qi,bh),qi.prototype[wh]=!0,qi.prototype.removeEventListener=function(n,e,t,i){qy(this,n,e,t,i)},qi.prototype.M=function(){if(qi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Of(t[i]);delete n.g[e],n.h--}}this.I=null},qi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},qi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Kb=hn.JSON.stringify;function pD(){var n=Zb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Yy,Zy=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new mD,n=>n.reset());class mD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ki(n){hn.setTimeout(()=>{throw n},0)}function zm(n,e){Yy||function vD(){var n=hn.Promise.resolve(void 0);Yy=function(){n.then(Yb)}}(),Gm||(Yy(),Gm=!0),Zb.add(n,e)}var Gm=!1,Zb=new class gD{constructor(){this.h=this.g=null}add(e,t){const i=Zy.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Yb(){for(var n;n=pD();){try{n.h.call(n.g)}catch(t){Ki(t)}var e=Zy;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Gm=!1}function Yp(n,e){qi.call(this),this.h=n||1,this.g=e||hn,this.j=Os(this.kb,this),this.l=Date.now()}function kd(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Qy(n,e,t){if("function"==typeof n)t&&(n=Os(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Os(n.handleEvent,n)}return 2147483647<Number(e)?-1:hn.setTimeout(n,e||0)}function Qb(n){n.g=Qy(()=>{n.g=null,n.i&&(n.i=!1,Qb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}oo(Yp,qi),(Wt=Yp.prototype).da=!1,Wt.S=null,Wt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),cs(this,"tick"),this.da&&(kd(this),this.start()))}},Wt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wt.M=function(){Yp.Z.M.call(this),kd(this),delete this.g};class Jb extends bh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Qb(this)}M(){super.M(),this.g&&(hn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qp(n){bh.call(this),this.h=n,this.g={}}oo(Qp,bh);var Jy=[];function yD(n,e,t,i){Array.isArray(t)||(t&&(Jy[0]=t.toString()),t=Jy);for(var l=0;l<t.length;l++){var f=Wy(e,t[l],i||n.handleEvent,!1,n.h||n);if(!f)break;n.g[f.key]=f}}function Xy(n){Hy(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kp(e)},n),n.g={}}function Rf(){this.g=!0}function Nf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tu(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var l=i[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<l.length;v++)l[v]=""}}}return Kb(t)}catch(b){return e}}(n,t)+(i?" "+i:"")})}Qp.prototype.M=function(){Qp.Z.M.call(this),Xy(this)},Qp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rf.prototype.Aa=function(){this.g=!1},Rf.prototype.info=function(){};var Rs={},e_=null;function Jp(){return e_=e_||new qi}function Xb(n){Wi.call(this,Rs.Ma,n)}function Xp(n){const e=Jp();cs(e,new Xb(e,n))}function ew(n,e){Wi.call(this,Rs.STAT_EVENT,n),this.stat=e}function Vo(n){const e=Jp();cs(e,new ew(e,n))}function $m(n,e){Wi.call(this,Rs.Na,n),this.size=e}function Rc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return hn.setTimeout(function(){n()},e)}Rs.Ma="serverreachability",oo(Xb,Wi),Rs.STAT_EVENT="statevent",oo(ew,Wi),Rs.Na="timingevent",oo($m,Wi);var Wm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},t_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function n_(){}function i_(){}n_.prototype.h=null;var Km,Md={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function s_(){Wi.call(this,"d")}function qm(){Wi.call(this,"c")}function Pf(){}function Od(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Qp(this),this.P=tw,this.W=new Yp(n=Hp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new o_}function o_(){this.i=null,this.g="",this.h=!1}oo(s_,Wi),oo(qm,Wi),oo(Pf,n_),Pf.prototype.g=function(){return new XMLHttpRequest},Pf.prototype.i=function(){return{}},Km=new Pf;var tw=45e3,Zm={},eg={};function Ym(n,e,t){n.K=1,n.v=ig(Nc(e)),n.s=t,n.U=!0,a_(n,null)}function a_(n,e){n.F=Date.now(),tg(n),n.A=Nc(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),g_(t.h,"t",i),n.C=0,t=n.l.H,n.h=new o_,n.g=Tw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Jb(Os(n.Ia,n,n.g),n.O)),yD(n.V,n.g,"readystatechange",n.gb),e=n.H?Fb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Xp(1),function $u(n,e,t,i,l,f){n.info(function(){if(n.g)if(f)for(var v="",b=f.split("&"),M=0;M<b.length;M++){var ee=b[M].split("=");if(1<ee.length){var ve=ee[0];ee=ee[1];var _e=ve.split("_");v=2<=_e.length&&"type"==_e[1]?v+(ve+"=")+ee+"&":v+(ve+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+i+") [attempt "+l+"]: "+e+"\n"+t+"\n"+v})}(n.j,n.u,n.A,n.m,n.X,n.s)}function l_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function u_(n,e,t){let l,i=!0;for(;!n.I&&n.C<t.length;){if(l=bD(n,t),l==eg){4==e&&(n.o=4,Vo(14),i=!1),Nf(n.j,n.m,null,"[Incomplete Response]");break}if(l==Zm){n.o=4,Vo(15),Nf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Nf(n.j,n.m,l,null),c_(n,l)}l_(n)&&l!=eg&&l!=Zm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Vo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ov(e),e.L=!0,Vo(11))):(Nf(n.j,n.m,t,"[Invalid Chunked Response]"),Eh(n),ng(n))}function bD(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?eg:(t=Number(e.substring(t,i)),isNaN(t)?Zm:(i+=1)+t>e.length?eg:(e=e.substr(i,t),n.C=i+t,e))}function tg(n){n.Y=Date.now()+n.P,nw(n,n.P)}function nw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rc(Os(n.eb,n),e)}function Qm(n){n.B&&(hn.clearTimeout(n.B),n.B=null)}function ng(n){0==n.l.G||n.I||Dw(n.l,n)}function Eh(n){Qm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,kd(n.W),Xy(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function c_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||m_(t.i,n)))if(t.I=n.N,!n.J&&m_(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(ee){i=null}if(Array.isArray(i)&&3==i.length){var l=i;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=Rc(Os(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;av(t),sv(t)}__(t),Vo(18)}if(1>=sg(t.i)&&t.ka){try{t.ka()}catch(ee){}t.ka=void 0}}else Th(t,11)}else if((n.J||t.g==n)&&av(t),!Nm(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let ee=l[e];if(t.U=ee[0],ee=ee[1],2==t.G)if("c"==ee[0]){t.J=ee[1],t.la=ee[2];const ve=ee[3];null!=ve&&(t.ma=ve,t.h.info("VER="+t.ma));const _e=ee[4];null!=_e&&(t.za=_e,t.h.info("SVER="+t.za));const He=ee[5];null!=He&&"number"==typeof He&&0<He&&(t.K=i=1.5*He,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const qe=n.g;if(qe){const ct=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ct){var f=i.i;!f.g&&(us(ct,"spdy")||us(ct,"quic")||us(ct,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Uf(f,f.h),f.h=null))}if(i.D){const Mt=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Mt&&(i.sa=Mt,Sr(i.F,i.D,Mt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var v=n;if((i=t).oa=b_(i,i.H?i.la:null,i.W),v.J){og(i.i,v);var b=v,M=i.K;M&&b.setTimeout(M),b.B&&(Qm(b),tg(b)),i.g=v}else Cw(i);0<t.l.length&&y_(t)}else"stop"!=ee[0]&&"close"!=ee[0]||Th(t,7);else 3==t.G&&("stop"==ee[0]||"close"==ee[0]?"stop"==ee[0]?Th(t,7):iv(t):"noop"!=ee[0]&&t.j&&t.j.wa(ee),t.A=0)}Xp(4)}catch(ee){}}function d_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Om(n)||"string"==typeof n)Rb(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Om(n)||"string"==typeof n){t=[];for(var i=n.length,l=0;l<i;l++)t.push(l)}else for(l in t=[],i=0,n)t[i++]=l;i=function wD(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Om(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),l=i.length;for(var f=0;f<l;f++)e.call(void 0,i[f],t&&t[f],n)}}function Lf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Lf)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function h_(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Ch(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var l={};for(t=e=0;e<n.g.length;)Ch(l,i=n.g[e])||(n.g[t++]=i,l[i]=1),e++;n.g.length=t}}function Ch(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Wt=Od.prototype).setTimeout=function(n){this.P=n},Wt.gb=function(n){n=n.target;const e=this.L;e&&3==Pc(n)?e.l():this.Ia(n)},Wt.Ia=function(n){try{if(n==this.g)e:{const ve=Pc(this.g);var e=this.g.Da();const _e=this.g.ba();if(!(3>ve)&&(3!=ve||Hp||this.g&&(this.h.h||this.g.ga()||yw(this.g)))){this.I||4!=ve||7==e||Xp(8==e||0>=_e?3:2),Qm(this);var t=this.g.ba();this.N=t;t:if(l_(this)){var i=yw(this.g);n="";var l=i.length,f=4==Pc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Eh(this),ng(this);var v="";break t}this.h.i=new hn.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:f&&e==l-1});i.splice(0,l),this.h.g+=n,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==t,function _D(n,e,t,i,l,f,v){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.X,ve,t),this.i){if(this.$&&!this.J){t:{if(this.g){var b,M=this.g;if((b=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nm(b)){var ee=b;break t}}ee=null}if(!(t=ee)){this.i=!1,this.o=3,Vo(12),Eh(this),ng(this);break e}Nf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,c_(this,t)}this.U?(u_(this,ve,v),Hp&&this.i&&3==ve&&(yD(this.V,this.W,"tick",this.fb),this.W.start())):(Nf(this.j,this.m,v,null),c_(this,v)),4==ve&&Eh(this),this.i&&!this.I&&(4==ve?Dw(this.l,this):(this.i=!1,tg(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,Vo(12)):(this.o=0,Vo(13)),Eh(this),ng(this)}}}catch(ve){}},Wt.fb=function(){if(this.g){var n=Pc(this.g),e=this.g.ga();this.C<e.length&&(Qm(this),u_(this,n,e),this.i&&4!=n&&tg(this))}},Wt.cancel=function(){this.I=!0,Eh(this)},Wt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Wu(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xp(3),Vo(17)),Eh(this),this.o=2,ng(this)):nw(this,this.Y-n)},(Wt=Lf.prototype).R=function(){h_(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Wt.T=function(){return h_(this),this.g.concat()},Wt.get=function(n,e){return Ch(this.h,n)?this.h[n]:e},Wt.set=function(n,e){Ch(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Wt.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var l=t[i],f=this.get(l);n.call(e,f,l,this)}};var rw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Dh){this.g=void 0!==e?e:n.g,Jm(this,n.j),this.s=n.s,Xm(this,n.i),rg(this,n.m),this.l=n.l,e=n.h;var t=new qu;t.i=e.i,e.g&&(t.g=new Lf(e.g),t.h=e.h),f_(this,t),this.o=n.o}else n&&(t=String(n).match(rw))?(this.g=!!e,Jm(this,t[1]||"",!0),this.s=Ff(t[2]||""),Xm(this,t[3]||"",!0),rg(this,t[4]),this.l=Ff(t[5]||"",!0),f_(this,t[6]||"",!0),this.o=Ff(t[7]||"")):(this.g=!!e,this.h=new qu(null,this.g))}function Nc(n){return new Dh(n)}function Jm(n,e,t){n.j=t?Ff(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xm(n,e,t){n.i=t?Ff(e,!0):e}function rg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function f_(n,e,t){e instanceof qu?(n.h=e,function NT(n,e){e&&!n.j&&(Rd(n),n.i=null,n.g.forEach(function(t,i){var l=i.toLowerCase();i!=l&&(ev(this,i),g_(this,l,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Bf(e,CD)),n.h=new qu(e,n.g))}function Sr(n,e,t){n.h.set(e,t)}function ig(n){return Sr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ff(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ow),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ow(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Dh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Bf(e,p_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Bf(e,p_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Bf(t,"/"==t.charAt(0)?Ah:aw,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Bf(t,DD)),n.join("")};var p_=/[#\/\?@]/g,aw=/[#\?:]/g,Ah=/[#\?]/g,CD=/[#\?@]/g,DD=/#/g;function qu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Rd(n){n.g||(n.g=new Lf,n.h=0,n.i&&function ED(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),l=null;if(0<=i){var f=n[t].substring(0,i);l=n[t].substring(i+1)}else f=n[t];e(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ev(n,e){Rd(n),e=Ih(n,e),Ch(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ch((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&h_(n)))}function AD(n,e){return Rd(n),e=Ih(n,e),Ch(n.g.h,e)}function g_(n,e,t){ev(n,e),0<t.length&&(n.i=null,n.g.set(Ih(n,e),Rm(t)),n.h+=t.length)}function Ih(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function lw(n){this.l=n||ID,n=hn.PerformanceNavigationTiming?0<(n=hn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(hn.g&&hn.g.Ea&&hn.g.Ea()&&hn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Wt=qu.prototype).add=function(n,e){Rd(this),this.i=null,n=Ih(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Wt.forEach=function(n,e){Rd(this),this.g.forEach(function(t,i){Rb(t,function(l){n.call(e,l,i,this)},this)},this)},Wt.T=function(){Rd(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var l=n[i],f=0;f<l.length;f++)t.push(e[i]);return t},Wt.R=function(n){Rd(this);var e=[];if("string"==typeof n)AD(this,n)&&(e=Nb(e,this.g.get(Ih(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Nb(e,n[t])}return e},Wt.set=function(n,e){return Rd(this),this.i=null,AD(this,n=Ih(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Wt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],l=encodeURIComponent(String(i));i=this.R(i);for(var f=0;f<i.length;f++){var v=l;""!==i[f]&&(v+="="+encodeURIComponent(String(i[f]))),n.push(v)}}return this.i=n.join("&")};var ID=10;function uw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sg(n){return n.h?1:n.g?n.g.size:0}function m_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Uf(n,e){n.g?n.g.add(e):n.h=e}function og(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Kr(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Rm(n.i)}function cw(){}function dw(){this.g=new cw}function TD(n,e,t){const i=t||"";try{d_(n,function(l,f){let v=l;Vp(l)&&(v=Kb(l)),e.push(i+f+"="+encodeURIComponent(v))})}catch(l){throw e.push(i+"type="+encodeURIComponent("_badmap")),l}}function ag(n,e,t,i,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(i)}catch(f){}}function Vf(n){this.l=n.$b||null,this.j=n.ib||!1}function lg(n,e){qi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=tv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lw.prototype.cancel=function(){if(this.i=Kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},cw.prototype.stringify=function(n){return hn.JSON.stringify(n,void 0)},cw.prototype.parse=function(n){return hn.JSON.parse(n,void 0)},oo(Vf,n_),Vf.prototype.g=function(){return new lg(this.l,this.j)},Vf.prototype.i=function(n){return function(){return n}}({}),oo(lg,qi);var tv=0;function hw(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ug(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cg(n)}function cg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Wt=lg.prototype).open=function(n,e){if(this.readyState!=tv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,cg(this)},Wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||hn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ug(this)),this.readyState=tv},Wt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cg(this)),this.g&&(this.readyState=3,cg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==hn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hw(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Wt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ug(this):cg(this),3==this.readyState&&hw(this)}},Wt.Ua=function(n){this.g&&(this.response=this.responseText=n,ug(this))},Wt.Ta=function(n){this.g&&(this.response=n,ug(this))},Wt.ha=function(){this.g&&ug(this)},Wt.setRequestHeader=function(n,e){this.v.append(n,e)},Wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var dg=hn.JSON.parse;function Pi(n){qi.call(this),this.headers=new Lf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fw,this.K=this.L=!1}oo(Pi,qi);var fw="",xD=/^https?$/i,nv=["POST","PUT"];function gw(n){return"content-type"==n.toLowerCase()}function v_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mw(n),Nd(n)}function mw(n){n.D||(n.D=!0,cs(n,"complete"),cs(n,"error"))}function Hf(n){if(n.h&&void 0!==Py&&(!n.C[1]||4!=Pc(n)||2!=n.ba()))if(n.v&&4==Pc(n))Qy(n.Fa,0,n);else if(cs(n,"readystatechange"),4==Pc(n)){n.h=!1;try{const b=n.ba();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===b){var l=String(n.H).match(rw)[1]||null;if(!l&&hn.self&&hn.self.location){var f=hn.self.location.protocol;l=f.substr(0,f.length-1)}i=!xD.test(l?l.toLowerCase():"")}t=i}if(t)cs(n,"complete"),cs(n,"success");else{n.m=6;try{var v=2<Pc(n)?n.g.statusText:""}catch(M){v=""}n.j=v+" ["+n.ba()+"]",mw(n)}}finally{Nd(n)}}}function Nd(n,e){if(n.g){vw(n);const t=n.g,i=n.C[0]?Mm:null;n.g=null,n.C=null,e||cs(n,"ready");try{t.onreadystatechange=i}catch(l){}}}function vw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(hn.clearTimeout(n.A),n.A=null)}function Pc(n){return n.g?n.g.readyState:0}function yw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case fw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function rv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function _w(n){let e="";return Hy(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sr(n,e,t))}function jf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function bw(n){this.za=0,this.l=[],this.h=new Rf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jf("baseRetryDelayMs",5e3,n),this.$a=jf("retryDelaySeedMs",1e4,n),this.Ya=jf("forwardChannelMaxRetries",2,n),this.ra=jf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new lw(n&&n.concurrentRequestLimit),this.Ca=new dw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function iv(n){if(ww(n),3==n.G){var e=n.V++,t=Nc(n.F);Sr(t,"SID",n.J),Sr(t,"RID",e),Sr(t,"TYPE","terminate"),zf(n,t),(e=new Od(n,n.h,e,void 0)).K=2,e.v=ig(Nc(t)),t=!1,hn.navigator&&hn.navigator.sendBeacon&&(t=hn.navigator.sendBeacon(e.v.toString(),"")),!t&&hn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Tw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),tg(e)}Iw(n)}function sv(n){n.g&&(ov(n),n.g.cancel(),n.g=null)}function ww(n){sv(n),n.u&&(hn.clearTimeout(n.u),n.u=null),av(n),n.i.cancel(),n.m&&("number"==typeof n.m&&hn.clearTimeout(n.m),n.m=null)}function Ew(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&y_(n)}function y_(n){uw(n.i)||n.m||(n.m=!0,zm(n.Ha,n),n.C=0)}function kD(n,e){var t;t=e?e.m:n.V++;const i=Nc(n.F);Sr(i,"SID",n.J),Sr(i,"RID",t),Sr(i,"AID",n.U),zf(n,i),n.o&&n.s&&rv(i,n.o,n.s),t=new Od(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=hg(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Uf(n.i,t),Ym(t,i,e)}function zf(n,e){n.j&&d_({},function(t,i){Sr(e,i,t)})}function hg(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Os(n.j.Oa,n.j,n):null;e:{var l=n.l;let f=-1;for(;;){const v=["count="+t];-1==f?0<t?(f=l[0].h,v.push("ofs="+f)):f=0:v.push("ofs="+f);let b=!0;for(let M=0;M<t;M++){let ee=l[M].h;const ve=l[M].g;if(ee-=f,0>ee)f=Math.max(0,l[M].h-100),b=!1;else try{TD(ve,v,"req"+ee+"_")}catch(_e){i&&i(ve)}}if(b){i=v.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Cw(n){n.g||n.u||(n.Y=1,zm(n.Ga,n),n.A=0)}function __(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Rc(Os(n.Ga,n),Aw(n,n.A)),n.A++,0))}function ov(n){null!=n.B&&(hn.clearTimeout(n.B),n.B=null)}function Gf(n){n.g=new Od(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Nc(n.oa);Sr(e,"RID","rpc"),Sr(e,"SID",n.J),Sr(e,"CI",n.N?"0":"1"),Sr(e,"AID",n.U),zf(n,e),Sr(e,"TYPE","xmlhttp"),n.o&&n.s&&rv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ig(Nc(e)),t.s=null,t.U=!0,a_(t,n)}function av(n){null!=n.v&&(hn.clearTimeout(n.v),n.v=null)}function Dw(n,e){var t=null;if(n.g==e){av(n),ov(n),n.g=null;var i=2}else{if(!m_(n.i,e))return;t=e.D,og(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=n.C;cs(i=Jp(),new $m(i,t,e,l)),y_(n)}else Cw(n);else if(3==(l=e.o)||0==l&&0<n.I||!(1==i&&function PT(n,e){return!(sg(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Rc(Os(n.Ha,n,e),Aw(n,n.C)),n.C++,0)))}(n,e)||2==i&&__(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),l){case 1:Th(n,5);break;case 4:Th(n,10);break;case 3:Th(n,6);break;default:Th(n,2)}}function Aw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Th(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Os(n.jb,n);t||(t=new Dh("//www.google.com/images/cleardot.gif"),hn.location&&"http"==hn.location.protocol||Jm(t,"https"),ig(t)),function SD(n,e){const t=new Rf;if(hn.Image){const i=new Image;i.onload=By(ag,t,i,"TestLoadImage: loaded",!0,e),i.onerror=By(ag,t,i,"TestLoadImage: error",!1,e),i.onabort=By(ag,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=By(ag,t,i,"TestLoadImage: timeout",!1,e),hn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Vo(2);n.G=0,n.j&&n.j.va(e),Iw(n),ww(n)}function Iw(n){n.G=0,n.I=-1,n.j&&((0!=Kr(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Rm(n.l),n.l.length=0),n.j.ua())}function b_(n,e,t){let i=function iw(n){return n instanceof Dh?Nc(n):new Dh(n,void 0)}(t);if(""!=i.i)e&&Xm(i,e+"."+i.i),rg(i,i.m);else{const l=hn.location;i=function sw(n,e,t,i){var l=new Dh(null,void 0);return n&&Jm(l,n),e&&Xm(l,e),t&&rg(l,t),i&&(l.l=i),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return n.aa&&Hy(n.aa,function(l,f){Sr(i,f,l)}),t=n.sa,(e=n.D)&&t&&Sr(i,e,t),Sr(i,"VER",n.ma),zf(n,i),i}function Tw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pi(t&&n.Ba&&!n.qa?new Vf({ib:!0}):n.qa)).L=n.H,e}function Sw(){}function Lc(){if(xd&&!(10<=Number(hD)))throw Error("Environmental error: no available transport.")}function Ba(n,e){qi.call(this),this.g=new bw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Nm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Sh(this)}function w_(n){s_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xw(){qm.call(this),this.status=1}function Sh(n){this.g=n}(Wt=Pi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Km.g(),this.C=function r_(n){return n.h||(n.h=n.i())}(this.u?this.u:Km),this.g.onreadystatechange=Os(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(f){return void v_(this,f)}n=t||"";const l=new Lf(this.headers);i&&d_(i,function(f,v){l.set(v,f)}),i=function xf(n){e:{var e=gw;const t=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<t;l++)if(l in i&&e.call(void 0,i[l],l,n)){e=l;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(l.T()),t=hn.FormData&&n instanceof hn.FormData,!(0<=uD(nv,e))||i||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(f,v){this.g.setRequestHeader(v,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vw(this),0<this.B&&((this.K=function pw(n){return xd&&function Lm(){return function Ub(n){var e=Pm;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Uy(String(jp)).split("."),t=Uy("9").split("."),i=Math.max(e.length,t.length);for(let v=0;0==n&&v<i;v++){var l=e[v]||"",f=t[v]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==l[0].length&&0==f[0].length)break;n=Vy(0==l[1].length?0:parseInt(l[1],10),0==f[1].length?0:parseInt(f[1],10))||Vy(0==l[2].length,0==f[2].length)||Vy(l[2],f[2]),l=l[3],f=f[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Os(this.pa,this)):this.A=Qy(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(f){v_(this,f)}},Wt.pa=function(){void 0!==Py&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cs(this,"timeout"),this.abort(8))},Wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,cs(this,"complete"),cs(this,"abort"),Nd(this))},Wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nd(this,!0)),Pi.Z.M.call(this)},Wt.Fa=function(){this.s||(this.F||this.v||this.l?Hf(this):this.cb())},Wt.cb=function(){Hf(this)},Wt.ba=function(){try{return 2<Pc(this)?this.g.status:-1}catch(n){return-1}},Wt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Wt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),dg(e)}},Wt.Da=function(){return this.m},Wt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Wt=bw.prototype).ma=8,Wt.G=1,Wt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Wt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const l=new Od(this,this.h,n,void 0);let f=this.s;if(this.P&&(f?(f=Fb(f),jy(f,this.P)):f=this.P),null===this.o&&(l.H=f),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=hg(this,l,e),Sr(t=Nc(this.F),"RID",n),Sr(t,"CVER",22),this.D&&Sr(t,"X-HTTP-Session-Id",this.D),zf(this,t),this.o&&f&&rv(t,this.o,f),Uf(this.i,l),this.Ra&&Sr(t,"TYPE","init"),this.ja?(Sr(t,"$req",e),Sr(t,"SID","null"),l.$=!0,Ym(l,t,null)):Ym(l,t,e),this.G=2}}else 3==this.G&&(n?kD(this,n):0==this.l.length||uw(this.i)||kD(this))},Wt.Ga=function(){if(this.u=null,Gf(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Rc(Os(this.bb,this),n)}},Wt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Vo(10),sv(this),Gf(this))},Wt.ab=function(){null!=this.v&&(this.v=null,sv(this),__(this),Vo(19))},Wt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Vo(2)):(this.h.info("Failed to ping google.com"),Vo(1))},(Wt=Sw.prototype).xa=function(){},Wt.wa=function(){},Wt.va=function(){},Wt.ua=function(){},Wt.Oa=function(){},Lc.prototype.g=function(n,e){return new Ba(n,e)},oo(Ba,qi),Ba.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),zm(Os(n.hb,n,e))),Vo(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=b_(n,null,n.W),y_(n)},Ba.prototype.close=function(){iv(this.g)},Ba.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Ew(this.g,e)}else this.v?((e={}).__data__=Kb(n),Ew(this.g,e)):Ew(this.g,n)},Ba.prototype.M=function(){this.g.j=null,delete this.j,iv(this.g),delete this.g,Ba.Z.M.call(this)},oo(w_,s_),oo(xw,qm),oo(Sh,Sw),Sh.prototype.xa=function(){cs(this.g,"a")},Sh.prototype.wa=function(n){cs(this.g,new w_(n))},Sh.prototype.va=function(n){cs(this.g,new xw(n))},Sh.prototype.ua=function(){cs(this.g,"b")},Lc.prototype.createWebChannel=Lc.prototype.g,Ba.prototype.send=Ba.prototype.u,Ba.prototype.open=Ba.prototype.m,Ba.prototype.close=Ba.prototype.close,Wm.NO_ERROR=0,Wm.TIMEOUT=8,Wm.HTTP_ERROR=6,t_.COMPLETE="complete",i_.EventType=Md,Md.OPEN="a",Md.CLOSE="b",Md.ERROR="c",Md.MESSAGE="d",qi.prototype.listen=qi.prototype.N,Pi.prototype.listenOnce=Pi.prototype.O,Pi.prototype.getLastError=Pi.prototype.La,Pi.prototype.getLastErrorCode=Pi.prototype.Da,Pi.prototype.getStatus=Pi.prototype.ba,Pi.prototype.getResponseJson=Pi.prototype.Qa,Pi.prototype.getResponseText=Pi.prototype.ga,Pi.prototype.send=Pi.prototype.ea;var MD=Gu.createWebChannelTransport=function(){return new Lc},kw=Gu.getStatEventTarget=function(){return Jp()},E_=Gu.ErrorCode=Wm,C_=Gu.EventType=t_,OD=Gu.Event=Rs,D_=Gu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Mw=Gu.FetchXmlHttpFactory=Vf,lv=Gu.WebChannel=i_,RD=Gu.XhrIo=Pi;const Ow="@firebase/firestore";class Zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zi.UNAUTHENTICATED=new Zi(null),Zi.GOOGLE_CREDENTIALS=new Zi("google-credentials-uid"),Zi.FIRST_PARTY=new Zi("first-party-uid"),Zi.MOCK_USER=new Zi("mock-user");let $f="9.6.7";const Fc=new Oc.Yd("@firebase/firestore");function A_(){return Fc.logLevel}function It(n,...e){if(Fc.logLevel<=Oc.in.DEBUG){const t=e.map(I_);Fc.debug(`Firestore (${$f}): ${n}`,...t)}}function Li(n,...e){if(Fc.logLevel<=Oc.in.ERROR){const t=e.map(I_);Fc.error(`Firestore (${$f}): ${n}`,...t)}}function fg(n,...e){if(Fc.logLevel<=Oc.in.WARN){const t=e.map(I_);Fc.warn(`Firestore (${$f}): ${n}`,...t)}}function I_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Zt(n="Unexpected state"){const e=`FIRESTORE (${$f}) INTERNAL ASSERTION FAILED: `+n;throw Li(e),new Error(e)}function dn(n,e){n||Zt()}function Bt(n,e){return n}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends Sn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zi.UNAUTHENTICATED))}shutdown(){}}class LD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class T_{constructor(e){this.t=e,this.currentUser=Zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let l=this.i;const f=ee=>this.i!==l?(l=this.i,t(ee)):Promise.resolve();let v=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Yi,e.enqueueRetryable(()=>f(this.currentUser))};const b=()=>{const ee=v;e.enqueueRetryable((0,ht.Z)(function*(){yield ee.promise,yield f(i.currentUser)}))},M=ee=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(ee=>M(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?M(ee):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Yi)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dn("string"==typeof i.accessToken),new Nw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dn(null===e||"string"==typeof e),new Zi(e)}}class S_{constructor(e,t,i){this.type="FirstParty",this.user=Zi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class Pw{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new S_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=f=>{null!=f.error&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.p;return this.p=f.token,It("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>i(f))};const l=f=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.g.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.g.getImmediate({optional:!0});f?l(f):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dn("string"==typeof t.token),this.p=t.token,new uv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ho{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function BD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Ho.A=-1;class x_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const l=BD(40);for(let f=0;f<l.length;++f)i.length<20&&l[f]<t&&(i+=e.charAt(l[f]%e.length))}return i}}function On(n,e){return n<e?-1:n>e?1:0}function xh(n,e,t){return n.length===e.length&&n.every((i,l)=>t(i,e[l]))}function Lw(n){return n+"\0"}class Qi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new bt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new bt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new bt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qi.fromMillis(Date.now())}static fromDate(e){return Qi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Qi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?On(this.nanoseconds,e.nanoseconds):On(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new un(e)}static min(){return new un(new Qi(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Fw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Bw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ku{constructor(e,t,i){void 0===t?t=0:t>e.length&&Zt(),void 0===i?i=e.length-t:i>e.length-t&&Zt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ku.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ku?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let l=0;l<i;l++){const f=e.get(l),v=t.get(l);if(f<v)return-1;if(f>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rn extends Ku{construct(e,t,i){return new Rn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new bt(et.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(l=>l.length>0))}return new Rn(t)}static emptyPath(){return new Rn([])}}const UD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ns extends Ku{construct(e,t,i){return new Ns(e,t,i)}static isValidIdentifier(e){return UD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ns.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ns(["__name__"])}static fromServerFormat(e){const t=[];let i="",l=0;const f=()=>{if(0===i.length)throw new bt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let v=!1;for(;l<e.length;){const b=e[l];if("\\"===b){if(l+1===e.length)throw new bt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new bt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=M,l+=2}else"`"===b?(v=!v,l++):"."!==b||v?(i+=b,l++):(f(),l++)}if(f(),v)throw new bt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ns(t)}static emptyPath(){return new Ns([])}}class kh{constructor(e){this.fields=e,e.sort(Ns.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Ji{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ji(t)}static fromUint8Array(e){const t=function(i){let l="";for(let f=0;f<i.length;++f)l+=String.fromCharCode(i[f]);return l}(e);return new Ji(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return On(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ji.EMPTY_BYTE_STRING=new Ji("");const HD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pd(n){if(dn(!!n),"string"==typeof n){let e=0;const t=HD.exec(n);if(dn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zr(n.seconds),nanos:Zr(n.nanos)}}function Zr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ld(n){return"string"==typeof n?Ji.fromBase64String(n):Ji.fromUint8Array(n)}function pg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gg(n){const e=n.mapValue.fields.__previous_value__;return pg(e)?gg(e):e}function Bc(n){const e=Pd(n.mapValue.fields.__local_write_time__.timestampValue);return new Qi(e.seconds,e.nanos)}class jD{constructor(e,t,i,l,f,v,b,M){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=l,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=b,this.useFetchStreams=M}}class Fd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fd&&e.projectId===this.projectId&&e.database===this.database}}function Bd(n){return null==n}function mg(n){return 0===n&&1/n==-1/0}function Uw(n){return"number"==typeof n&&Number.isInteger(n)&&!mg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class zt{constructor(e){this.path=e}static fromPath(e){return new zt(Rn.fromString(e))}static fromName(e){return new zt(Rn.fromString(e).popFirst(5))}static empty(){return new zt(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new Rn(e.slice()))}}const k_={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Mh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pg(n)?4:10:Zt()}function Zu(n,e){if(n===e)return!0;const t=Mh(n);if(t!==Mh(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bc(n).isEqual(Bc(e));case 3:return function(i,l){if("string"==typeof i.timestampValue&&"string"==typeof l.timestampValue&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const f=Pd(i.timestampValue),v=Pd(l.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return l=e,Ld(n.bytesValue).isEqual(Ld(l.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,l){return Zr(i.geoPointValue.latitude)===Zr(l.geoPointValue.latitude)&&Zr(i.geoPointValue.longitude)===Zr(l.geoPointValue.longitude)}(n,e);case 2:return function(i,l){if("integerValue"in i&&"integerValue"in l)return Zr(i.integerValue)===Zr(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const f=Zr(i.doubleValue),v=Zr(l.doubleValue);return f===v?mg(f)===mg(v):isNaN(f)&&isNaN(v)}return!1}(n,e);case 9:return xh(n.arrayValue.values||[],e.arrayValue.values||[],Zu);case 10:return function(i,l){const f=i.mapValue.fields||{},v=l.mapValue.fields||{};if(Fw(f)!==Fw(v))return!1;for(const b in f)if(f.hasOwnProperty(b)&&(void 0===v[b]||!Zu(f[b],v[b])))return!1;return!0}(n,e);default:return Zt()}var l}function vg(n,e){return void 0!==(n.values||[]).find(t=>Zu(t,e))}function Wf(n,e){if(n===e)return 0;const t=Mh(n),i=Mh(e);if(t!==i)return On(t,i);switch(t){case 0:return 0;case 1:return On(n.booleanValue,e.booleanValue);case 2:return function(l,f){const v=Zr(l.integerValue||l.doubleValue),b=Zr(f.integerValue||f.doubleValue);return v<b?-1:v>b?1:v===b?0:isNaN(v)?isNaN(b)?0:-1:1}(n,e);case 3:return Oh(n.timestampValue,e.timestampValue);case 4:return Oh(Bc(n),Bc(e));case 5:return On(n.stringValue,e.stringValue);case 6:return function(l,f){const v=Ld(l),b=Ld(f);return v.compareTo(b)}(n.bytesValue,e.bytesValue);case 7:return function(l,f){const v=l.split("/"),b=f.split("/");for(let M=0;M<v.length&&M<b.length;M++){const ee=On(v[M],b[M]);if(0!==ee)return ee}return On(v.length,b.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,f){const v=On(Zr(l.latitude),Zr(f.latitude));return 0!==v?v:On(Zr(l.longitude),Zr(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(l,f){const v=l.values||[],b=f.values||[];for(let M=0;M<v.length&&M<b.length;++M){const ee=Wf(v[M],b[M]);if(ee)return ee}return On(v.length,b.length)}(n.arrayValue,e.arrayValue);case 10:return function(l,f){const v=l.fields||{},b=Object.keys(v),M=f.fields||{},ee=Object.keys(M);b.sort(),ee.sort();for(let ve=0;ve<b.length&&ve<ee.length;++ve){const _e=On(b[ve],ee[ve]);if(0!==_e)return _e;const He=Wf(v[b[ve]],M[ee[ve]]);if(0!==He)return He}return On(b.length,ee.length)}(n.mapValue,e.mapValue);default:throw Zt()}}function Oh(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return On(n,e);const t=Pd(n),i=Pd(e),l=On(t.seconds,i.seconds);return 0!==l?l:On(t.nanos,i.nanos)}function Rh(n){return Ud(n)}function Ud(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const l=Pd(i);return`time(${l.seconds},${l.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ld(n.bytesValue).toBase64():"referenceValue"in n?zt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let l="[",f=!0;for(const v of i.values||[])f?f=!1:l+=",",l+=Ud(v);return l+"]"}(n.arrayValue):"mapValue"in n?function(i){const l=Object.keys(i.fields||{}).sort();let f="{",v=!0;for(const b of l)v?v=!1:f+=",",f+=`${b}:${Ud(i.fields[b])}`;return f+"}"}(n.mapValue):Zt();var e}function M_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cv(n){return!!n&&"integerValue"in n}function dv(n){return!!n&&"arrayValue"in n}function zD(n){return!!n&&"nullValue"in n}function O_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function R_(n){return!!n&&"mapValue"in n}function qf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=qf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!R_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qf(t)}setAll(e){let t=Ns.emptyPath(),i={},l=[];e.forEach((v,b)=>{if(!t.isImmediateParentOf(b)){const M=this.getFieldsMap(t);this.applyChanges(M,i,l),i={},l=[],t=b.popLast()}v?i[b.lastSegment()]=qf(v):l.push(b.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,i,l)}delete(e){const t=this.field(e.popLast());R_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=t.mapValue.fields[e.get(i)];R_(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,i){nu(t,(l,f)=>e[l]=f);for(const l of i)delete e[l]}clone(){return new ds(qf(this.value))}}function Vw(n){const e=[];return nu(n.fields,(t,i)=>{const l=new Ns([t]);if(R_(i)){const f=Vw(i.mapValue).fields;if(0===f.length)e.push(l);else for(const v of f)e.push(l.child(v))}else e.push(l)}),new kh(e)}class Yr{constructor(e,t,i,l,f,v){this.key=e,this.documentType=t,this.version=i,this.readTime=l,this.data=f,this.documentState=v}static newInvalidDocument(e){return new Yr(e,0,un.min(),un.min(),ds.empty(),0)}static newFoundDocument(e,t,i){return new Yr(e,1,t,un.min(),i,0)}static newNoDocument(e,t){return new Yr(e,2,t,un.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new Yr(e,3,t,un.min(),ds.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let N_=(()=>{class n{constructor(t,i,l,f){this.indexId=t,this.collectionGroup=i,this.fields=l,this.indexState=f}}return n.UNKNOWN_ID=-1,n})();class hv{constructor(e,t){this.fieldPath=e,this.kind=t}}class yg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yg(0,fv.min())}}class fv{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new fv(un.min(),zt.empty(),-1)}}class GD{constructor(e,t=null,i=[],l=[],f=null,v=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=l,this.limit=f,this.startAt=v,this.endAt=b,this.P=null}}function Hw(n,e=null,t=[],i=[],l=null,f=null,v=null){return new GD(n,e,t,i,l,f,v)}function _g(n){const e=Bt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(l=i).field.canonicalString()+l.op.toString()+Rh(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(l=i).field.canonicalString()+l.dir;var l}).join(","),Bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Rh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Rh(i)).join(",")),e.P=t}return e.P}function Vd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<n.orderBy.length;l++)if(!wg(n.orderBy[l],e.orderBy[l]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let l=0;l<n.filters.length;l++)if((t=n.filters[l]).op!==(i=e.filters[l]).op||!t.field.isEqual(i.field)||!Zu(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pv(n.startAt,e.startAt)&&pv(n.endAt,e.endAt)}function bg(n){return zt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class lo extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,i):new jw(e,t,i):"array-contains"===t?new WD(e,i):"in"===t?new $w(e,i):"not-in"===t?new Ww(e,i):"array-contains-any"===t?new qD(e,i):new lo(e,t,i)}static v(e,t,i){return"in"===t?new zw(e,i):new Gw(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Wf(t,this.value)):null!==t&&Mh(this.value)===Mh(t)&&this.V(Wf(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jw extends lo{constructor(e,t,i){super(e,t,i),this.key=zt.fromName(i.referenceValue)}matches(e){const t=zt.comparator(e.key,this.key);return this.V(t)}}class zw extends lo{constructor(e,t){super(e,"in",t),this.keys=P_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gw extends lo{constructor(e,t){super(e,"not-in",t),this.keys=P_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function P_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>zt.fromName(i.referenceValue))}class WD extends lo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dv(t)&&vg(t.arrayValue,this.value)}}class $w extends lo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vg(this.value.arrayValue,t)}}class Ww extends lo{constructor(e,t){super(e,"not-in",t)}matches(e){if(vg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vg(this.value.arrayValue,t)}}class qD extends lo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>vg(this.value.arrayValue,i))}}class Kf{constructor(e,t){this.position=e,this.inclusive=t}}class Zf{constructor(e,t="asc"){this.field=e,this.dir=t}}function wg(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qw(n,e,t){let i=0;for(let l=0;l<n.position.length;l++){const f=e[l],v=n.position[l];if(i=f.field.isKeyField()?zt.comparator(zt.fromName(v.referenceValue),t.key):Wf(v,t.data.field(f.field)),"desc"===f.dir&&(i*=-1),0!==i)break}return i}function pv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zu(n.position[t],e.position[t]))return!1;return!0}class hs{constructor(e,t=null,i=[],l=[],f=null,v="F",b=null,M=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=l,this.limit=f,this.limitType=v,this.startAt=b,this.endAt=M,this.D=null,this.C=null}}function Kw(n,e,t,i,l,f,v,b){return new hs(n,e,t,i,l,f,v,b)}function Hd(n){return new hs(n)}function jd(n){return!Bd(n.limit)&&"F"===n.limitType}function gv(n){return!Bd(n.limit)&&"L"===n.limitType}function L_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function F_(n){for(const e of n.filters)if(e.S())return e.field;return null}function Yf(n){return null!==n.collectionGroup}function Uc(n){const e=Bt(n);if(null===e.D){e.D=[];const t=F_(e),i=L_(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Zf(t)),e.D.push(new Zf(Ns.keyField(),"asc"));else{let l=!1;for(const f of e.explicitOrderBy)e.D.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Zf(Ns.keyField(),f))}}}return e.D}function Dl(n){const e=Bt(n);if(!e.C)if("F"===e.limitType)e.C=Hw(e.path,e.collectionGroup,Uc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of Uc(e))t.push(new Zf(f.field,"desc"===f.dir?"asc":"desc"));const i=e.endAt?new Kf(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new Kf(e.startAt.position,!e.startAt.inclusive):null;e.C=Hw(e.path,e.collectionGroup,t,e.filters,e.limit,i,l)}return e.C}function Zw(n,e,t){return new hs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qf(n,e){return Vd(Dl(n),Dl(e))&&n.limitType===e.limitType}function B_(n){return`${_g(Dl(n))}|lt:${n.limitType}`}function Eg(n){return`Query(target=${function $D(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Rh(i.value)}`;var i}).join(", ")}]`),Bd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Rh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Rh(t)).join(",")),`Target(${e})`}(Dl(n))}; limitType=${n.limitType})`}function mv(n,e){return e.isFoundDocument()&&function(t,i){const l=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):zt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(n,e)&&function(t,i){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===i.data.field(l.field))return!1;return!0}(n,e)&&function(t,i){for(const l of t.filters)if(!l.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(l,f,v){const b=qw(l,f,v);return l.inclusive?b<=0:b<0}(t.startAt,Uc(t),i)||t.endAt&&!function(l,f,v){const b=qw(l,f,v);return l.inclusive?b>=0:b>0}(t.endAt,Uc(t),i)));var t,i}function Yw(n){return(e,t)=>{let i=!1;for(const l of Uc(n)){const f=KD(l,e,t);if(0!==f)return f;i=i||l.field.isKeyField()}return 0}}function KD(n,e,t){const i=n.field.isKeyField()?zt.comparator(e.key,t.key):function(l,f,v){const b=f.data.field(l),M=v.data.field(l);return null!==b&&null!==M?Wf(b,M):Zt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Zt()}}function ZD(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mg(e)?"-0":e}}function vv(n){return{integerValue:""+n}}function yv(n,e){return Uw(e)?vv(e):ZD(n,e)}class Cg{constructor(){this._=void 0}}function U_(n,e,t){return n instanceof Jf?function(i,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(t,e):n instanceof Nh?Jw(n,e):n instanceof zd?_v(n,e):function(i,l){const f=Qw(i,l),v=H_(f)+H_(i.k);return cv(f)&&cv(i.k)?vv(v):ZD(i.O,v)}(n,e)}function V_(n,e,t){return n instanceof Nh?Jw(n,e):n instanceof zd?_v(n,e):t}function Qw(n,e){return n instanceof Ph?cv(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Jf extends Cg{}class Nh extends Cg{constructor(e){super(),this.elements=e}}function Jw(n,e){const t=j_(e);for(const i of n.elements)t.some(l=>Zu(l,i))||t.push(i);return{arrayValue:{values:t}}}class zd extends Cg{constructor(e){super(),this.elements=e}}function _v(n,e){let t=j_(e);for(const i of n.elements)t=t.filter(l=>!Zu(l,i));return{arrayValue:{values:t}}}class Ph extends Cg{constructor(e,t){super(),this.O=e,this.k=t}}function H_(n){return Zr(n.integerValue||n.doubleValue)}function j_(n){return dv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xf{constructor(e,t){this.field=e,this.transform=t}}class Xw{constructor(e,t){this.version=e,this.transformResults=t}}class Ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dg{}function QD(n,e,t){n instanceof wv?function(i,l,f){const v=i.value.clone(),b=Ev(i.fieldTransforms,l,f.transformResults);v.setAll(b),l.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(n,e,t):n instanceof ru?function(i,l,f){if(!bv(i.precondition,l))return void l.convertToUnknownDocument(f.version);const v=Ev(i.fieldTransforms,l,f.transformResults),b=l.data;b.setAll(nE(i)),b.setAll(v),l.convertToFoundDocument(f.version,b).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ps(n,e,t){var l;n instanceof wv?function(i,l,f){if(!bv(i.precondition,l))return;const v=i.value.clone(),b=rE(i.fieldTransforms,f,l);v.setAll(b),l.convertToFoundDocument(tE(l),v).setHasLocalMutations()}(n,e,t):n instanceof ru?function(i,l,f){if(!bv(i.precondition,l))return;const v=rE(i.fieldTransforms,f,l),b=l.data;b.setAll(nE(i)),b.setAll(v),l.convertToFoundDocument(tE(l),b).setHasLocalMutations()}(n,e,t):bv(n.precondition,l=e)&&l.convertToNoDocument(un.min())}function ep(n,e){let t=null;for(const i of n.fieldTransforms){const l=e.data.field(i.field),f=Qw(i.transform,l||null);null!=f&&(null==t&&(t=ds.empty()),t.set(i.field,f))}return t||null}function eE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&xh(t,i,(l,f)=>function YD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Nh&&i instanceof Nh||t instanceof zd&&i instanceof zd?xh(t.elements,i.elements,Zu):t instanceof Ph&&i instanceof Ph?Zu(t.k,i.k):t instanceof Jf&&i instanceof Jf);var t,i}(l,f))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function tE(n){return n.isFoundDocument()?n.version:un.min()}class wv extends Dg{constructor(e,t,i,l=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=l,this.type=0}}class ru extends Dg{constructor(e,t,i,l,f=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=l,this.fieldTransforms=f,this.type=1}}function nE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ev(n,e,t){const i=new Map;dn(n.length===t.length);for(let l=0;l<t.length;l++){const f=n[l],v=f.transform,b=e.data.field(f.field);i.set(f.field,V_(v,b,t[l]))}return i}function rE(n,e,t){const i=new Map;for(const l of n){const f=l.transform,v=t.data.field(l.field);i.set(l.field,U_(f,v,e))}return i}class tp extends Dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class z_ extends Dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class JD{constructor(e){this.count=e}}var ai,Fn;function G_(n){switch(n){default:return Zt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0}}function Ag(n){if(void 0===n)return Li("GRPC error has no .code"),et.UNKNOWN;switch(n){case ai.OK:return et.OK;case ai.CANCELLED:return et.CANCELLED;case ai.UNKNOWN:return et.UNKNOWN;case ai.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case ai.INTERNAL:return et.INTERNAL;case ai.UNAVAILABLE:return et.UNAVAILABLE;case ai.UNAUTHENTICATED:return et.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case ai.NOT_FOUND:return et.NOT_FOUND;case ai.ALREADY_EXISTS:return et.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return et.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case ai.ABORTED:return et.ABORTED;case ai.OUT_OF_RANGE:return et.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return et.UNIMPLEMENTED;case ai.DATA_LOSS:return et.DATA_LOSS;default:return Zt()}}(Fn=ai||(ai={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";class Qr{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new Qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(0===l)return t+i.left.size;l<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $_(this.root,e,this.comparator,!1)}getReverseIterator(){return new $_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $_(this.root,e,this.comparator,!0)}}class $_{constructor(e,t,i,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?i(e.key,t):1,l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,i,l,f){this.key=e,this.value=t,this.color=null!=i?i:fs.RED,this.left=null!=l?l:fs.EMPTY,this.right=null!=f?f:fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,l,f){return new fs(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=l?l:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let l=this;const f=i(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,t,i),null):0===f?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return fs.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Zt();const e=this.left.check();if(e!==this.right.check())throw Zt();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw Zt()}get value(){throw Zt()}get color(){throw Zt()}get left(){throw Zt()}get right(){throw Zt()}copy(n,e,t,i,l){return this}insert(n,e,t){return new fs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Br{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(e){return new W_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,f=i.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Br(this.comparator);return t.data=e,t}}class W_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vc(n){return n.hasNext()?n.getNext():void 0}const iE=new Qr(zt.comparator);function Al(){return iE}const q_=new Qr(zt.comparator);function Ig(){return q_}const FT=new Qr(zt.comparator),XD=new Br(zt.comparator);function Yn(...n){let e=XD;for(const t of n)e=e.add(t);return e}const sE=new Br(On);function Tg(){return sE}class Sg{constructor(e,t,i,l,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,np.createSynthesizedTargetChangeForCurrentChange(e,t)),new Sg(un.min(),i,Tg(),Al(),Yn())}}class np{constructor(e,t,i,l,f){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t){return new np(Ji.EMPTY_BYTE_STRING,t,Yn(),Yn(),Yn())}}class xg{constructor(e,t,i,l){this.M=e,this.removedTargetIds=t,this.key=i,this.$=l}}class oE{constructor(e,t){this.targetId=e,this.F=t}}class aE{constructor(e,t,i=Ji.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=l}}class K_{constructor(){this.B=0,this.L=Y_(),this.U=Ji.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Yn(),t=Yn(),i=Yn();return this.L.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:i=i.add(l);break;default:Zt()}}),new np(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=Y_()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class eA{constructor(e){this.nt=e,this.st=new Map,this.it=Al(),this.rt=Z_(),this.ot=new Br(On)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:Zt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,l)=>{this.ft(l)&&t(l)})}_t(e){const t=e.targetId,i=e.F.count,l=this.wt(t);if(l){const f=l.target;if(bg(f))if(0===i){const v=new zt(f.path);this.at(t,v,Yr.newNoDocument(v,un.min()))}else dn(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((f,v)=>{const b=this.wt(v);if(b){if(f.current&&bg(b.target)){const M=new zt(b.target.path);null!==this.it.get(M)||this.It(v,M)||this.at(v,M,Yr.newNoDocument(M,e))}f.j&&(t.set(v,f.H()),f.J())}});let i=Yn();this.rt.forEach((f,v)=>{let b=!0;v.forEachWhile(M=>{const ee=this.wt(M);return!ee||2===ee.purpose||(b=!1,!1)}),b&&(i=i.add(f))}),this.it.forEach((f,v)=>v.setReadTime(e));const l=new Sg(e,t,this.ot,this.it,i);return this.it=Al(),this.rt=Z_(),this.ot=new Br(On),l}ut(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,i){if(!this.ft(e))return;const l=this.lt(e);this.It(e,t)?l.Y(t,1):l.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new K_,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new Br(On),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||It("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new K_),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Z_(){return new Qr(zt.comparator)}function Y_(){return new Qr(zt.comparator)}const lE={asc:"ASCENDING",desc:"DESCENDING"},uE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class tA{constructor(e,t){this.databaseId=e,this.N=t}}function kg(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nA(n,e){return n.N?e.toBase64():e.toUint8Array()}function cE(n,e){return kg(n,e.toTimestamp())}function Ls(n){return dn(!!n),un.fromTimestamp(function(e){const t=Pd(e);return new Qi(t.seconds,t.nanos)}(n))}function dE(n,e){return(t=n,new Rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function rA(n){const e=Rn.fromString(n);return dn(gE(e)),e}function Cv(n,e){return dE(n.databaseId,e.path)}function Hc(n,e){const t=rA(e);if(t.get(1)!==n.databaseId.projectId)throw new bt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new bt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new zt(Mg(t))}function hE(n,e){return dE(n.databaseId,e)}function iA(n){const e=rA(n);return 4===e.length?Rn.emptyPath():Mg(e)}function Dv(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Mg(n){return dn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sA(n,e,t){return{name:Cv(n,e),fields:t.value.mapValue.fields}}function Av(n,e,t){const i=Hc(n,e.name),l=Ls(e.updateTime),f=new ds({mapValue:{fields:e.fields}}),v=Yr.newFoundDocument(i,l,f);return t&&v.setHasCommittedMutations(),t?v.setHasCommittedMutations():v}function Og(n,e){let t;if(e instanceof wv)t={update:sA(n,e.key,e.value)};else if(e instanceof tp)t={delete:Cv(n,e.key)};else if(e instanceof ru)t={update:sA(n,e.key,e.data),updateMask:r0(e.fieldMask)};else{if(!(e instanceof z_))return Zt();t={verify:Cv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,f){const v=f.transform;if(v instanceof Jf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Nh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof zd)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Ph)return{fieldPath:f.field.canonicalString(),increment:v.k};throw Zt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:cE(n,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Zt()),t;var l}function Q_(n,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Ei.updateTime(Ls(l.updateTime)):void 0!==l.exists?Ei.exists(l.exists):Ei.none():Ei.none(),i=e.updateTransforms?e.updateTransforms.map(l=>function(f,v){let b=null;"setToServerValue"in v?(dn("REQUEST_TIME"===v.setToServerValue),b=new Jf):"appendMissingElements"in v?b=new Nh(v.appendMissingElements.values||[]):"removeAllFromArray"in v?b=new zd(v.removeAllFromArray.values||[]):"increment"in v?b=new Ph(f,v.increment):Zt();const M=Ns.fromServerFormat(v.fieldPath);return new Xf(M,b)}(n,l)):[];var l;if(e.update){const l=Hc(n,e.update.name),f=new ds({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new kh((e.updateMask.fieldPaths||[]).map(ee=>Ns.fromServerFormat(ee)));return new ru(l,f,v,t,i)}return new wv(l,f,t,i)}if(e.delete){const l=Hc(n,e.delete);return new tp(l,t)}if(e.verify){const l=Hc(n,e.verify);return new z_(l,t)}return Zt()}function X_(n,e){return{documents:[hE(n,e.path)]}}function e0(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=hE(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hE(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const l=function(M){if(0===M.length)return;const ee=M.map(ve=>function(_e){if("=="===_e.op){if(O_(_e.value))return{unaryFilter:{field:Rg(_e.field),op:"IS_NAN"}};if(zD(_e.value))return{unaryFilter:{field:Rg(_e.field),op:"IS_NULL"}}}else if("!="===_e.op){if(O_(_e.value))return{unaryFilter:{field:Rg(_e.field),op:"IS_NOT_NAN"}};if(zD(_e.value))return{unaryFilter:{field:Rg(_e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rg(_e.field),op:pE(_e.op),value:_e.value}}}(ve));return 1===ee.length?ee[0]:{compositeFilter:{op:"AND",filters:ee}}}(e.filters);l&&(t.structuredQuery.where=l);const f=function(M){if(0!==M.length)return M.map(ee=>{return{field:Rg((ve=ee).field),direction:Iv(ve.dir)};var ve})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const v=(ee=e.limit,n.N||Bd(ee)?ee:{value:ee});var ee,b,M;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(M=e.endAt).inclusive,values:M.position}),t}function t0(n){let e=iA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let l=null;if(i>0){dn(1===i);const ve=t.from[0];ve.allDescendants?l=ve.collectionId:e=e.child(ve.collectionId)}let f=[];t.where&&(f=n0(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(ve=>{return new Zf(Ng((_e=ve).field),function(He){switch(He){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));let b=null;t.limit&&(b=function(ve){let _e;return _e="object"==typeof ve?ve.value:ve,Bd(_e)?null:_e}(t.limit));let M=null;var ve;t.startAt&&(M=new Kf((ve=t.startAt).values||[],!!ve.before));let ee=null;return t.endAt&&(ee=function(ve){return new Kf(ve.values||[],!ve.before)}(t.endAt)),Kw(e,l,v,f,b,"F",M,ee)}function n0(n){return n?void 0!==n.unaryFilter?[oA(n)]:void 0!==n.fieldFilter?[UT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>n0(e)).reduce((e,t)=>e.concat(t)):Zt():[]}function Iv(n){return lE[n]}function pE(n){return uE[n]}function Rg(n){return{fieldPath:n.canonicalString()}}function Ng(n){return Ns.fromServerFormat(n.fieldPath)}function UT(n){return lo.create(Ng(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zt()}}(n.fieldFilter.op),n.fieldFilter.value)}function oA(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ng(n.unaryFilter.field);return lo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ng(n.unaryFilter.field);return lo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ng(n.unaryFilter.field);return lo.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ng(n.unaryFilter.field);return lo.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Zt()}}function r0(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Fs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Tv(e)),e=aA(n.get(t),e);return Tv(e)}function aA(n,e){let t=e;const i=n.length;for(let l=0;l<i;l++){const f=n.charAt(l);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function Tv(n){return n+"\x01\x01"}function Yu(n){const e=n.length;if(dn(e>=2),2===e)return dn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Rn.emptyPath();const t=e-2,i=[];let l="";for(let f=0;f<e;){const v=n.indexOf("\x01",f);switch((v<0||v>t)&&Zt(),n.charAt(v+1)){case"\x01":const b=n.substring(f,v);let M;0===l.length?M=b:(l+=b,M=l,l=""),i.push(M);break;case"\x10":l+=n.substring(f,v),l+="\0";break;case"\x11":l+=n.substring(f,v+1);break;default:Zt()}f=v+2}return new Rn(i)}class Ua{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Va{constructor(e,t,i){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=i}}Va.store="owner",Va.key="owner";class Qu{constructor(e,t,i){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=i}}Qu.store="mutationQueues",Qu.keyPath="userId";class xr{constructor(e,t,i,l,f){this.userId=e,this.batchId=t,this.localWriteTimeMs=i,this.baseMutations=l,this.mutations=f}}xr.store="mutations",xr.keyPath="batchId",xr.userMutationsIndex="userMutationsIndex",xr.userMutationsKeyPath=["userId","batchId"];class uo{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Fs(t)]}static key(e,t,i){return[e,Fs(t),i]}}uo.store="documentMutations",uo.PLACEHOLDER=new uo;class s0{constructor(e,t){this.path=e,this.readTime=t}}class mE{constructor(e,t){this.path=e,this.version=t}}class Jr{constructor(e,t,i,l,f,v){this.unknownDocument=e,this.noDocument=t,this.document=i,this.hasCommittedMutations=l,this.readTime=f,this.parentPath=v}}Jr.store="remoteDocuments",Jr.readTimeIndex="readTimeIndex",Jr.readTimeIndexPath="readTime",Jr.collectionReadTimeIndex="collectionReadTimeIndex",Jr.collectionReadTimeIndexPath=["parentPath","readTime"];class Ju{constructor(e){this.byteSize=e}}Ju.store="remoteDocumentGlobal",Ju.key="remoteDocumentGlobalKey";class jo{constructor(e,t,i,l,f,v,b){this.targetId=e,this.canonicalId=t,this.readTime=i,this.resumeToken=l,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=v,this.query=b}}jo.store="targets",jo.keyPath="targetId",jo.queryTargetsIndexName="queryTargetsIndex",jo.queryTargetsKeyPath=["canonicalId","targetId"];class ps{constructor(e,t,i){this.targetId=e,this.path=t,this.sequenceNumber=i}}ps.store="targetDocuments",ps.keyPath=["targetId","path"],ps.documentTargetsIndex="documentTargetsIndex",ps.documentTargetsKeyPath=["path","targetId"];class Ha{constructor(e,t,i,l){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=i,this.targetCount=l}}Ha.key="targetGlobalKey",Ha.store="targetGlobal";class Lh{constructor(e,t){this.collectionId=e,this.parent=t}}Lh.store="collectionParents",Lh.keyPath=["collectionId","parent"];class iu{constructor(e,t,i,l){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=i,this.inForeground=l}}iu.store="clientMetadata",iu.keyPath="clientId";class co{constructor(e,t,i){this.bundleId=e,this.createTime=t,this.version=i}}co.store="bundles",co.keyPath="bundleId";class ip{constructor(e,t,i){this.name=e,this.readTime=t,this.bundledQuery=i}}ip.store="namedQueries",ip.keyPath="name";class Il{constructor(e,t,i){this.indexId=e,this.collectionGroup=t,this.fields=i}}Il.store="indexConfiguration",Il.keyPath="indexId",Il.collectionGroupIndex="collectionGroupIndex",Il.collectionGroupIndexPath="collectionGroup";class Tl{constructor(e,t,i,l,f,v){this.indexId=e,this.uid=t,this.sequenceNumber=i,this.readTime=l,this.documentKey=f,this.largestBatchId=v}}Tl.store="indexState",Tl.keyPath=["indexId","uid"],Tl.sequenceNumberIndex="sequenceNumberIndex",Tl.sequenceNumberIndexPath=["uid","sequenceNumber"];class ja{constructor(e,t,i,l,f){this.indexId=e,this.uid=t,this.arrayValue=i,this.directionalValue=l,this.documentKey=f}}ja.store="indexEntries",ja.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],ja.documentKeyIndex="documentKeyIndex",ja.documentKeyIndexPath=["indexId","uid","documentKey"];class gs{constructor(e,t,i,l,f,v){this.userId=e,this.collectionPath=t,this.documentId=i,this.collectionGroup=l,this.largestBatchId=f,this.overlayMutation=v}}gs.store="documentOverlays",gs.keyPath=["userId","collectionPath","documentId"],gs.collectionPathOverlayIndex="collectionPathOverlayIndex",gs.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],gs.collectionGroupOverlayIndex="collectionGroupOverlayIndex",gs.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const vE=[Qu.store,xr.store,uo.store,Jr.store,jo.store,Va.store,Ha.store,ps.store,iu.store,Ju.store,Lh.store,co.store,ip.store],o0=[...vE,gs.store],lA=[...o0,Il.store,Tl.store,ja.store],uA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new it((i,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(i,l)},this.catchCallback=f=>{this.wrapFailure(t,f).next(i,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof it?t:it.resolve(t)}catch(t){return it.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):it.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):it.reject(t)}static resolve(e){return new it((t,i)=>{t(e)})}static reject(e){return new it((t,i)=>{i(e)})}static waitFor(e){return new it((t,i)=>{let l=0,f=0,v=!1;e.forEach(b=>{++l,b.next(()=>{++f,v&&f===l&&t()},M=>i(M))}),v=!0,f===l&&t()})}static or(e){let t=it.resolve(!1);for(const i of e)t=t.next(l=>l?it.resolve(l):i());return t}static forEach(e,t){const i=[];return e.forEach((l,f)=>{i.push(t.call(this,l,f))}),this.waitFor(i)}}class Sv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Yi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new jc(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const l=xv(i.target.error);this.At.reject(new jc(e,l))}}static open(e,t,i,l){try{return new Sv(t,e.transaction(l,i))}catch(f){throw new jc(t,f)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(It("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _E(t)}}class su{constructor(e,t,i){this.name=e,this.version=t,this.bt=i,12.2===su.vt((0,Sn.z$)())&&Li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return It("SimpleDb","Removing database:",e),Fh(window.indexedDB.deleteDatabase(e)).toPromise()}static Vt(){if(!(0,Sn.hl)())return!1;if(su.St())return!0;const e=(0,Sn.z$)(),t=su.vt(e),i=0<t&&t<10,l=su.Dt(e),f=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||f)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static Nt(e,t){return e.store(t)}static vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}xt(e){var t=this;return(0,ht.Z)(function*(){return t.db||(It("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,l)=>{const f=indexedDB.open(t.name,t.version);f.onsuccess=v=>{i(v.target.result)},f.onblocked=()=>{l(new jc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const b=v.target.error;l("VersionError"===b.name?new bt(et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new bt(et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new jc(e,b))},f.onupgradeneeded=v=>{It("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.bt.kt(v.target.result,f.transaction,v.oldVersion,t.version).next(()=>{It("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Ot&&(t.db.onversionchange=i=>t.Ot(i)),t.db})()}Mt(e){this.Ot=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,l){var f=this;return(0,ht.Z)(function*(){const v="readonly"===t;let b=0;for(;;){++b;try{f.db=yield f.xt(e);const M=Sv.open(f.db,e,v?"readonly":"readwrite",i),ee=l(M).next(ve=>(M.Pt(),ve)).catch(ve=>(M.abort(ve),it.reject(ve))).toPromise();return ee.catch(()=>{}),yield M.Rt,ee}catch(M){const ee="FirebaseError"!==M.name&&b<3;if(It("SimpleDb","Transaction failed with error:",M.message,"Retrying:",ee),f.close(),!ee)return Promise.reject(M)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yE{constructor(e){this.$t=e,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(e){this.$t=e}done(){this.Ft=!0}Ut(e){this.Bt=e}delete(){return Fh(this.$t.delete())}}class jc extends bt{constructor(e,t){super(et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function zc(n){return"IndexedDbTransactionError"===n.name}class _E{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(It("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(It("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Fh(i)}add(e){return It("SimpleDb","ADD",this.store.name,e,e),Fh(this.store.add(e))}get(e){return Fh(this.store.get(e)).next(t=>(void 0===t&&(t=null),It("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return It("SimpleDb","DELETE",this.store.name,e),Fh(this.store.delete(e))}count(){return It("SimpleDb","COUNT",this.store.name),Fh(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const l=this.cursor(i),f=[];return this.Kt(l,(v,b)=>{f.push(b)}).next(()=>f)}{const l=this.store.getAll(i.range);return new it((f,v)=>{l.onerror=b=>{v(b.target.error)},l.onsuccess=b=>{f(b.target.result)}})}}Gt(e,t){It("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const l=this.cursor(i);return this.Kt(l,(f,v,b)=>b.delete())}Qt(e,t){let i;t?i=e:(i={},t=e);const l=this.cursor(i);return this.Kt(l,t)}Wt(e){const t=this.cursor({});return new it((i,l)=>{t.onerror=f=>{const v=xv(f.target.error);l(v)},t.onsuccess=f=>{const v=f.target.result;v?e(v.primaryKey,v.value).next(b=>{b?v.continue():i()}):i()}})}Kt(e,t){const i=[];return new it((l,f)=>{e.onerror=v=>{f(v.target.error)},e.onsuccess=v=>{const b=v.target.result;if(!b)return void l();const M=new yE(b),ee=t(b.primaryKey,b.value,M);if(ee instanceof it){const ve=ee.catch(_e=>(M.done(),it.reject(_e)));i.push(ve)}M.isDone?l():null===M.Lt?b.continue():b.continue(M.Lt)}}).next(()=>it.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fh(n){return new it((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const l=xv(i.target.error);t(l)}})}let l0=!1;function xv(n){const e=su.vt((0,Sn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return l0||(l0=!0,setTimeout(()=>{throw i},0)),i}}return n}class bE extends a0{constructor(e,t){super(),this.zt=e,this.currentSequenceNumber=t}}function ms(n,e){const t=Bt(n);return su.Nt(t.zt,e)}class wE{constructor(e,t,i,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&QD(f,e,i[l])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ps(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ps(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),l=i;this.applyToLocalView(l),i.isValidDocument()||l.convertToNoDocument(un.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yn())}isEqual(e){return this.batchId===e.batchId&&xh(this.mutations,e.mutations,(t,i)=>eE(t,i))&&xh(this.baseMutations,e.baseMutations,(t,i)=>eE(t,i))}}class EE{constructor(e,t,i,l){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=l}static from(e,t,i){dn(e.mutations.length===i.length);let l=FT;const f=e.mutations;for(let v=0;v<f.length;v++)l=l.insert(f[v].key,i[v].version);return new EE(e,t,i,l)}}class kv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gd{constructor(e,t,i,l,f=un.min(),v=un.min(),b=Ji.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=b}withSequenceNumber(e){return new Gd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class CE{constructor(e){this.Ht=e}}function DE(n,e){let t;if(e.document)t=Av(n.Ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=zt.fromSegments(e.noDocument.path),l=op(e.noDocument.readTime);t=Yr.newNoDocument(i,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Zt();{const i=zt.fromSegments(e.unknownDocument.path),l=op(e.unknownDocument.version);t=Yr.newUnknownDocument(i,l)}}return e.readTime&&t.setReadTime(IE(e.readTime)),t}function cA(n,e){const t=AE(e.readTime),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:Cv(v=n.Ht,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:kg(v,b.version.toTimestamp())};return new Jr(null,null,l,e.hasCommittedMutations,t,i)}var v,b;if(e.isNoDocument()){const l=e.key.path.toArray(),f=sp(e.version),v=e.hasCommittedMutations;return new Jr(null,new s0(l,f),null,v,t,i)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),f=sp(e.version);return new Jr(new mE(l,f),null,null,!0,t,i)}return Zt()}function AE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function IE(n){const e=new Qi(n[0],n[1]);return un.fromTimestamp(e)}function sp(n){const e=n.toTimestamp();return new Ua(e.seconds,e.nanoseconds)}function op(n){const e=new Qi(n.seconds,n.nanoseconds);return un.fromTimestamp(e)}function ap(n,e){const t=(e.baseMutations||[]).map(f=>Q_(n.Ht,f));for(let f=0;f<e.mutations.length-1;++f){const v=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(v.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const i=e.mutations.map(f=>Q_(n.Ht,f)),l=Qi.fromMillis(e.localWriteTimeMs);return new wE(e.batchId,l,t,i)}function $d(n){const e=op(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?op(n.lastLimboFreeSnapshotVersion):un.min();let i;var l;return void 0!==n.query.documents?(dn(1===(l=n.query).documents.length),i=Dl(Hd(iA(l.documents[0])))):i=Dl(t0(n.query)),new Gd(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Ji.fromBase64String(n.resumeToken))}function TE(n,e){const t=sp(e.snapshotVersion),i=sp(e.lastLimboFreeSnapshotVersion);let l;l=bg(e.target)?X_(n.Ht,e.target):e0(n.Ht,e.target);const f=e.resumeToken.toBase64();return new jo(e.targetId,_g(e.target),t,f,e.sequenceNumber,i,l)}function u0(n){const e=t0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Zw(e,e.limit,"L"):e}function Mv(n,e){return new kv(e.largestBatchId,Q_(n.Ht,e.overlayMutation))}function Wd(n,e){const t=e.path.lastSegment();return[n,Fs(e.path.popLast()),t]}class SE{getBundleMetadata(e,t){return Ov(e).get(t).next(i=>{if(i)return{id:(l=i).bundleId,createTime:op(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Ov(e).put({bundleId:(i=t).id,createTime:sp(Ls(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Rv(e).get(t).next(i=>{if(i)return{name:(l=i).name,query:u0(l.bundledQuery),readTime:op(l.readTime)};var l})}saveNamedQuery(e,t){return Rv(e).put({name:(i=t).name,readTime:sp(Ls(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Ov(n){return ms(n,co.store)}function Rv(n){return ms(n,ip.store)}class c0{constructor(e,t){this.O=e,this.userId=t}static Jt(e,t){return new c0(e,t.uid||"")}getOverlay(e,t){return Bh(e).get(Wd(this.userId,t)).next(i=>i?Mv(this.O,i):null)}saveOverlays(e,t,i){const l=[];return i.forEach(f=>{const v=new kv(t,f);l.push(this.Yt(e,v))}),it.waitFor(l)}removeOverlaysForBatchId(e,t,i){const l=new Set;t.forEach(v=>l.add(Fs(v.getCollectionPath())));const f=[];return l.forEach(v=>{const b=IDBKeyRange.bound([this.userId,v,i],[this.userId,v,i+1],!1,!0);f.push(Bh(e).Gt(gs.collectionPathOverlayIndex,b))}),it.waitFor(f)}getOverlaysForCollection(e,t,i){const l=new Map,f=Fs(t),v=IDBKeyRange.bound([this.userId,f,i],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Bh(e).qt(gs.collectionPathOverlayIndex,v).next(b=>{for(const M of b){const ee=Mv(this.O,M);l.set(ee.getKey(),ee)}return l})}getOverlaysForCollectionGroup(e,t,i,l){const f=new Map;let v;const b=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bh(e).Qt({index:gs.collectionGroupOverlayIndex,range:b},(M,ee,ve)=>{const _e=Mv(this.O,ee);f.size<l||_e.largestBatchId===v?(f.set(_e.getKey(),_e),v=_e.largestBatchId):ve.done()}).next(()=>f)}Yt(e,t){return Bh(e).put(function(i,l,f){const[v,b,M]=Wd(l,f.mutation.key);return new gs(l,b,M,f.mutation.key.getCollectionGroup(),f.largestBatchId,Og(i.Ht,f.mutation))}(this.O,this.userId,t))}}function Bh(n){return ms(n,gs.store)}class lp{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Zr(e.integerValue));else if("doubleValue"in e){const i=Zr(e.doubleValue);isNaN(i)?this.ee(t,13):(this.ee(t,15),mg(i)?t.ne(0):t.ne(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ee(t,20),"string"==typeof i?t.se(i):(t.se(`${i.seconds||""}`),t.ne(i.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Ld(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?Zu(e,k_)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Zt()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const i=e.fields||{};this.ee(t,55);for(const l of Object.keys(i))this.ie(l,t),this.Zt(i[l],t)}ae(e,t){const i=e.values||[];this.ee(t,50);for(const l of i)this.Zt(l,t)}ce(e,t){this.ee(t,37),zt.fromName(e).path.forEach(i=>{this.ee(t,60),this.he(i,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}function Nv(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function dA(n){const e=64-function(t){let i=0;for(let l=0;l<8;++l){const f=Nv(255&t[l]);if(i+=f,8!==f)break}return i}(n);return Math.ceil(e/8)}lp.le=new lp;class VT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.de(i.value),i=t.next();this._e()}we(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.me(i.value),i=t.next();this.ge()}ye(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{const l=t.codePointAt(0);this.de(240|l>>>18),this.de(128|63&l>>>12),this.de(128|63&l>>>6),this.de(128|63&l)}}this._e()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{const l=t.codePointAt(0);this.me(240|l>>>18),this.me(128|63&l>>>12),this.me(128|63&l>>>6),this.me(128|63&l)}}this.ge()}Ie(e){const t=this.Ee(e),i=dA(t);this.Te(1+i),this.buffer[this.position++]=255&i;for(let l=t.length-i;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Ae(e){const t=this.Ee(e),i=dA(t);this.Te(1+i),this.buffer[this.position++]=~(255&i);for(let l=t.length-i;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ve(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(l){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,l,!1),new Uint8Array(f.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let l=1;l<t.length;++l)t[l]^=i?255:0;return t}de(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}me(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(e){this.Te(1),this.buffer[this.position++]=e}ve(e){this.Te(1),this.buffer[this.position++]=~e}Te(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const l=new Uint8Array(i);l.set(this.buffer),this.buffer=l}}class HT{constructor(e){this.Se=e}oe(e){this.Se.fe(e)}se(e){this.Se.ye(e)}ne(e){this.Se.Ie(e)}te(){this.Se.Re()}}class jT{constructor(e){this.Se=e}oe(e){this.Se.we(e)}se(e){this.Se.pe(e)}ne(e){this.Se.Ae(e)}te(){this.Se.be()}}class d0{constructor(){this.Se=new VT,this.De=new HT(this.Se),this.Ce=new jT(this.Se)}seed(e){this.Se.seed(e)}Ne(e){return 0===e?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class h0{constructor(e,t,i,l){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=l}}function f0(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=zt.comparator(n.documentKey,e.documentKey),0!==t?t:(t=xE(n.arrayValue,e.arrayValue),0!==t?t:xE(n.directionalValue,e.directionalValue)))}function xE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class hA{constructor(){this.xe=new Pv}addToCollectionParentIndex(e,t){return this.xe.add(t),it.resolve()}getCollectionParents(e,t){return it.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return it.resolve()}deleteFieldIndex(e,t){return it.resolve()}getDocumentsMatchingTarget(e,t,i){return it.resolve(Yn())}getFieldIndex(e,t){return it.resolve(null)}getFieldIndexes(e,t){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}updateCollectionGroup(e,t,i){return it.resolve()}updateIndexEntries(e,t){return it.resolve()}}class Pv{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t]||new Br(Rn.comparator),f=!l.has(i);return this.index[t]=l.add(i),f}has(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Br(Rn.comparator)).toArray()}}class kE{constructor(e){this.user=e,this.ke=new Pv,this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.ke.has(t)){const i=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.ke.add(t)});const f={collectionId:i,parent:Fs(l)};return p0(e).put(f)}return it.resolve()}getCollectionParents(e,t){const i=[],l=IDBKeyRange.bound([t,""],[Lw(t),""],!1,!0);return p0(e).qt(l).next(f=>{for(const v of f){if(v.collectionId!==t)break;i.push(Yu(v.parent))}return i})}addFieldIndex(e,t){const i=Fv(e),l=new Il((f=t).indexId,f.collectionGroup,f.fields.map(v=>[v.fieldPath.canonicalString(),v.kind]));var f;return delete l.indexId,i.add(l).next()}deleteFieldIndex(e,t){const i=Fv(e),l=Pg(e),f=Lv(e);return i.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t,i){return it.resolve(Yn())}getFieldIndex(e,t){return it.resolve(null)}Oe(e,t){const i=new d0;for(const l of e.fields.filter(v=>2!==v.kind)){const f=t.data.field(l.fieldPath);if(null==f)return null;const v=i.Ne(l.kind);lp.le.Xt(f,v)}return i.Ve()}Me(e){const t=new d0;return lp.le.Xt(e,t.Ne(0)),t.Ve()}getFieldIndexes(e,t){const i=Fv(e),l=Pg(e);return(t?i.qt(Il.collectionGroupIndex,IDBKeyRange.bound(t,t)):i.qt()).next(f=>{const v=[];return it.forEach(f,b=>l.get([b.indexId,this.uid]).next(M=>{v.push(function(ee,ve){const _e=ve?new yg(ve.sequenceNumber,new fv(op(ve.readTime),new zt(Yu(ve.documentKey)),ve.largestBatchId)):yg.empty(),He=ee.fields.map(([qe,ct])=>new hv(Ns.fromServerFormat(qe),ct));return new N_(ee.indexId,ee.collectionGroup,He,_e)}(b,M))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,l)=>i.indexState.sequenceNumber-l.indexState.sequenceNumber),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const l=Fv(e),f=Pg(e);return this.$e(e).next(v=>l.qt(Il.collectionGroupIndex,IDBKeyRange.bound(t,t)).next(b=>it.forEach(b,M=>{return f.put(new Tl(M.indexId,this.user.uid||"",v,sp((He=i).readTime),Fs(He.documentKey.path),He.largestBatchId));var He})))}updateIndexEntries(e,t){const i=new Map;return it.forEach(t,(l,f)=>{const v=i.get(l.collectionGroup);return(v?it.resolve(v):this.getFieldIndexes(e,l.collectionGroup)).next(b=>(i.set(l.collectionGroup,b),it.forEach(b,M=>this.Fe(e,l,M).next(ee=>{const ve=this.Be(f,M);return ee.isEqual(ve)?it.resolve():this.Le(e,f,ee,ve)}))))})}Ue(e,t,i){return Lv(e).put(new ja(i.indexId,this.uid,i.arrayValue,i.directionalValue,Fs(t.key.path)))}qe(e,t,i){return Lv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,Fs(t.key.path)])}Fe(e,t,i){const l=Lv(e);let f=new Br(f0);return l.Qt({index:ja.documentKeyIndex,range:IDBKeyRange.only([i.indexId,this.uid,Fs(t.path)])},(v,b)=>{f=f.add(new h0(i.indexId,t,b.arrayValue,b.directionalValue))}).next(()=>f)}Be(e,t){let i=new Br(f0);const l=this.Oe(t,e);if(null==l)return i;const f=t.fields.find(b=>2===b.kind);if(null!=f){const v=e.data.field(f.fieldPath);if(dv(v))for(const b of v.arrayValue.values||[])i=i.add(new h0(t.indexId,e.key,this.Me(b),l))}else i=i.add(new h0(t.indexId,e.key,new Uint8Array,l));return i}Le(e,t,i,l){It("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(v,b,M,ee,ve){const _e=v.getIterator(),He=b.getIterator();let qe=Vc(_e),ct=Vc(He);for(;qe||ct;){let Mt=!1,Gt=!1;if(qe&&ct){const bn=M(qe,ct);bn<0?Gt=!0:bn>0&&(Mt=!0)}else null!=qe?Gt=!0:Mt=!0;Mt?(ee(ct),ct=Vc(He)):Gt?(ve(qe),qe=Vc(_e)):(qe=Vc(_e),ct=Vc(He))}}(i,l,f0,v=>{f.push(this.Ue(e,t,v))},v=>{f.push(this.qe(e,t,v))}),it.waitFor(f)}$e(e){let t=1;return Pg(e).Qt({index:Tl.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,l,f)=>{f.done(),t=l.sequenceNumber+1}).next(()=>t)}}function p0(n){return ms(n,Lh.store)}function Lv(n){return ms(n,ja.store)}function Fv(n){return ms(n,Il.store)}function Pg(n){return ms(n,Tl.store)}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class za{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new za(e,za.DEFAULT_COLLECTION_PERCENTILE,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function g0(n,e,t){const i=n.store(xr.store),l=n.store(uo.store),f=[],v=IDBKeyRange.only(t.batchId);let b=0;const M=i.Qt({range:v},(ve,_e,He)=>(b++,He.delete()));f.push(M.next(()=>{dn(1===b)}));const ee=[];for(const ve of t.mutations){const _e=uo.key(e,ve.key.path,t.batchId);f.push(l.delete(_e)),ee.push(ve.key)}return it.waitFor(f).next(()=>ee)}function up(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Zt();e=n.noDocument}return JSON.stringify(e).length}za.DEFAULT_COLLECTION_PERCENTILE=10,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,za.DEFAULT=new za(41943040,za.DEFAULT_COLLECTION_PERCENTILE,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),za.DISABLED=new za(-1,0,0);class m0{constructor(e,t,i,l){this.userId=e,this.O=t,this.indexManager=i,this.referenceDelegate=l,this.Ke={}}static Jt(e,t,i,l){dn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new m0(f,t,i,l)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uh(e).Qt({index:xr.userMutationsIndex,range:i},(l,f,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,i,l){const f=Lg(e),v=Uh(e);return v.add({}).next(b=>{dn("number"==typeof b);const M=new wE(b,t,i,l),ee=function(He,qe,ct){const Mt=ct.baseMutations.map(bn=>Og(He.Ht,bn)),Gt=ct.mutations.map(bn=>Og(He.Ht,bn));return new xr(qe,ct.batchId,ct.localWriteTime.toMillis(),Mt,Gt)}(this.O,this.userId,M),ve=[];let _e=new Br((He,qe)=>On(He.canonicalString(),qe.canonicalString()));for(const He of l){const qe=uo.key(this.userId,He.key.path,b);_e=_e.add(He.key.path.popLast()),ve.push(v.put(ee)),ve.push(f.put(qe,uo.PLACEHOLDER))}return _e.forEach(He=>{ve.push(this.indexManager.addToCollectionParentIndex(e,He))}),e.addOnCommittedListener(()=>{this.Ke[b]=M.keys()}),it.waitFor(ve).next(()=>M)})}lookupMutationBatch(e,t){return Uh(e).get(t).next(i=>i?(dn(i.userId===this.userId),ap(this.O,i)):null)}Ge(e,t){return this.Ke[t]?it.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const l=i.keys();return this.Ke[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,l=IDBKeyRange.lowerBound([this.userId,i]);let f=null;return Uh(e).Qt({index:xr.userMutationsIndex,range:l},(v,b,M)=>{b.userId===this.userId&&(dn(b.batchId>=i),f=ap(this.O,b)),M.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Uh(e).Qt({index:xr.userMutationsIndex,range:t,reverse:!0},(l,f,v)=>{i=f.batchId,v.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uh(e).qt(xr.userMutationsIndex,t).next(i=>i.map(l=>ap(this.O,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=uo.prefixForPath(this.userId,t.path),l=IDBKeyRange.lowerBound(i),f=[];return Lg(e).Qt({range:l},(v,b,M)=>{const[ee,ve,_e]=v,He=Yu(ve);if(ee===this.userId&&t.path.isEqual(He))return Uh(e).get(_e).next(qe=>{if(!qe)throw Zt();dn(qe.userId===this.userId),f.push(ap(this.O,qe))});M.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Br(On);const l=[];return t.forEach(f=>{const v=uo.prefixForPath(this.userId,f.path),b=IDBKeyRange.lowerBound(v),M=Lg(e).Qt({range:b},(ee,ve,_e)=>{const[He,qe,ct]=ee,Mt=Yu(qe);He===this.userId&&f.path.isEqual(Mt)?i=i.add(ct):_e.done()});l.push(M)}),it.waitFor(l).next(()=>this.je(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1,f=uo.prefixForPath(this.userId,i),v=IDBKeyRange.lowerBound(f);let b=new Br(On);return Lg(e).Qt({range:v},(M,ee,ve)=>{const[_e,He,qe]=M,ct=Yu(He);_e===this.userId&&i.isPrefixOf(ct)?ct.length===l&&(b=b.add(qe)):ve.done()}).next(()=>this.je(e,b))}je(e,t){const i=[],l=[];return t.forEach(f=>{l.push(Uh(e).get(f).next(v=>{if(null===v)throw Zt();dn(v.userId===this.userId),i.push(ap(this.O,v))}))}),it.waitFor(l).next(()=>i)}removeMutationBatch(e,t){return g0(e.zt,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Qe(t.batchId)}),it.forEach(i,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Qe(e){delete this.Ke[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return it.resolve();const i=IDBKeyRange.lowerBound(uo.prefixForUser(this.userId)),l=[];return Lg(e).Qt({range:i},(f,v,b)=>{if(f[0]===this.userId){const M=Yu(f[1]);l.push(M)}else b.done()}).next(()=>{dn(0===l.length)})})}containsKey(e,t){return ME(e,this.userId,t)}We(e){return fA(e).get(this.userId).next(t=>t||new Qu(this.userId,-1,""))}}function ME(n,e,t){const i=uo.prefixForPath(e,t.path),l=i[1],f=IDBKeyRange.lowerBound(i);let v=!1;return Lg(n).Qt({range:f,jt:!0},(b,M,ee)=>{const[ve,_e,He]=b;ve===e&&_e===l&&(v=!0),ee.done()}).next(()=>v)}function Uh(n){return ms(n,xr.store)}function Lg(n){return ms(n,uo.store)}function fA(n){return ms(n,Qu.store)}class Vh{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new Vh(0)}static Je(){return new Vh(-1)}}class pA{constructor(e,t){this.referenceDelegate=e,this.O=t}allocateTargetId(e){return this.Ye(e).next(t=>{const i=new Vh(t.highestTargetId);return t.highestTargetId=i.next(),this.Xe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ye(e).next(t=>un.fromTimestamp(new Qi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ye(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Ye(e).next(l=>(l.highestListenSequenceNumber=t,i&&(l.lastRemoteSnapshotVersion=i.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Xe(e,l)))}addTargetData(e,t){return this.Ze(e,t).next(()=>this.Ye(e).next(i=>(i.targetCount+=1,this.tn(t,i),this.Xe(e,i))))}updateTargetData(e,t){return this.Ze(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cp(e).delete(t.targetId)).next(()=>this.Ye(e)).next(i=>(dn(i.targetCount>0),i.targetCount-=1,this.Xe(e,i)))}removeTargets(e,t,i){let l=0;const f=[];return cp(e).Qt((v,b)=>{const M=$d(b);M.sequenceNumber<=t&&null===i.get(M.targetId)&&(l++,f.push(this.removeTargetData(e,M)))}).next(()=>it.waitFor(f)).next(()=>l)}forEachTarget(e,t){return cp(e).Qt((i,l)=>{const f=$d(l);t(f)})}Ye(e){return OE(e).get(Ha.key).next(t=>(dn(null!==t),t))}Xe(e,t){return OE(e).put(Ha.key,t)}Ze(e,t){return cp(e).put(TE(this.O,t))}tn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Ye(e).next(t=>t.targetCount)}getTargetData(e,t){const i=_g(t),l=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let f=null;return cp(e).Qt({range:l,index:jo.queryTargetsIndexName},(v,b,M)=>{const ee=$d(b);Vd(t,ee.target)&&(f=ee,M.done())}).next(()=>f)}addMatchingKeys(e,t,i){const l=[],f=qd(e);return t.forEach(v=>{const b=Fs(v.path);l.push(f.put(new ps(i,b))),l.push(this.referenceDelegate.addReference(e,i,v))}),it.waitFor(l)}removeMatchingKeys(e,t,i){const l=qd(e);return it.forEach(t,f=>{const v=Fs(f.path);return it.waitFor([l.delete([i,v]),this.referenceDelegate.removeReference(e,i,f)])})}removeMatchingKeysForTargetId(e,t){const i=qd(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(l)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),l=qd(e);let f=Yn();return l.Qt({range:i,jt:!0},(v,b,M)=>{const ee=Yu(v[1]),ve=new zt(ee);f=f.add(ve)}).next(()=>f)}containsKey(e,t){const i=Fs(t.path),l=IDBKeyRange.bound([i],[Lw(i)],!1,!0);let f=0;return qd(e).Qt({index:ps.documentTargetsIndex,jt:!0,range:l},([v,b],M,ee)=>{0!==v&&(f++,ee.done())}).next(()=>f>0)}Tt(e,t){return cp(e).get(t).next(i=>i?$d(i):null)}}function cp(n){return ms(n,jo.store)}function OE(n){return ms(n,Ha.store)}function qd(n){return ms(n,ps.store)}function Hh(n){return RE.apply(this,arguments)}function RE(){return RE=(0,ht.Z)(function*(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==uA)throw n;It("LocalStore","Unexpectedly lost primary lease")}),RE.apply(this,arguments)}function gA([n,e],[t,i]){const l=On(n,t);return 0===l?On(e,i):l}class zT{constructor(e){this.en=e,this.buffer=new Br(gA),this.nn=0}sn(){return++this.nn}rn(e){const t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();gA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GT{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.on=!1,this.cn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(e){var t=this;const i=this.on?3e5:6e4;It("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ht.Z)(function*(){t.cn=null,t.on=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(l){zc(l)?It("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Hh(l)}yield t.un(e)}))}}class $T{constructor(e,t){this.an=e,this.params=t}calculateTargetCount(e,t){return this.an.hn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return it.resolve(Ho.A);const i=new zT(t);return this.an.forEachTarget(e,l=>i.rn(l.sequenceNumber)).next(()=>this.an.ln(e,l=>i.rn(l))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.an.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.an.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(Bv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.fn(e,t))}getCacheSize(e){return this.an.getCacheSize(e)}fn(e,t){let i,l,f,v,b,M,ee;const ve=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_e=>(_e>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_e}`),l=this.params.maximumSequenceNumbersToCollect):l=_e,v=Date.now(),this.nthSequenceNumber(e,l))).next(_e=>(i=_e,b=Date.now(),this.removeTargets(e,i,t))).next(_e=>(f=_e,M=Date.now(),this.removeOrphanedDocuments(e,i))).next(_e=>(ee=Date.now(),A_()<=Oc.in.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ve}ms\n\tDetermined least recently used ${l} in `+(b-v)+`ms\n\tRemoved ${f} targets in `+(M-b)+`ms\n\tRemoved ${_e} documents in `+(ee-M)+`ms\nTotal Duration: ${ee-ve}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:_e})))}}class mA{constructor(e,t){this.db=e,this.garbageCollector=new $T(this,t)}hn(e){const t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(l=>i+l))}dn(e){let t=0;return this.ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ln(e,t){return this._n(e,(i,l)=>t(l))}addReference(e,t,i){return v0(e,i)}removeReference(e,t,i){return v0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return v0(e,t)}wn(e,t){return function(i,l){let f=!1;return fA(i).Wt(v=>ME(i,v,l).next(b=>(b&&(f=!0),it.resolve(!b)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this._n(e,(v,b)=>{if(b<=t){const M=this.wn(e,v).next(ee=>{if(!ee)return f++,i.getEntry(e,v).next(()=>(i.removeEntry(v,un.min()),qd(e).delete([0,Fs(v.path)])))});l.push(M)}}).next(()=>it.waitFor(l)).next(()=>i.apply(e)).next(()=>f)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return v0(e,t)}_n(e,t){const i=qd(e);let l,f=Ho.A;return i.Qt({index:ps.documentTargetsIndex},([v,b],{path:M,sequenceNumber:ee})=>{0===v?(f!==Ho.A&&t(new zt(Yu(l)),f),f=ee,l=M):f=Ho.A}).next(()=>{f!==Ho.A&&t(new zt(Yu(l)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function v0(n,e){return qd(n).put((i=n.currentSequenceNumber,new ps(0,Fs(e.path),i)));var i}class Fg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[l,f]of i)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),l=this.inner[i];if(void 0!==l){for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,t]);l.push([e,t])}else this.inner[i]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return 1===i.length?delete this.inner[t]:i.splice(l,1),!0;return!1}forEach(e){nu(this.inner,(t,i)=>{for(const[l,f]of i)e(l,f)})}isEmpty(){return Bw(this.inner)}}class vA{constructor(){this.changes=new Fg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?it.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WT{constructor(e){this.O=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return u(e).put(h(t),i)}removeEntry(e,t){const i=u(e),l=h(t);return i.delete(l)}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.mn(e,i)))}getEntry(e,t){return u(e).get(h(t)).next(i=>this.gn(t,i))}yn(e,t){return u(e).get(h(t)).next(i=>({document:this.gn(t,i),size:up(i)}))}getEntries(e,t){let i=Al();return this.pn(e,t,(l,f)=>{const v=this.gn(l,f);i=i.insert(l,v)}).next(()=>i)}In(e,t){let i=Al(),l=new Qr(zt.comparator);return this.pn(e,t,(f,v)=>{const b=this.gn(f,v);i=i.insert(f,b),l=l.insert(f,up(v))}).next(()=>({documents:i,En:l}))}pn(e,t,i){if(t.isEmpty())return it.resolve();const l=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),f=t.getIterator();let v=f.getNext();return u(e).Qt({range:l},(b,M,ee)=>{const ve=zt.fromSegments(b);for(;v&&zt.comparator(v,ve)<0;)i(v,null),v=f.getNext();v&&v.isEqual(ve)&&(i(v,M),v=f.hasNext()?f.getNext():null),v?ee.Ut(v.path.toArray()):ee.done()}).next(()=>{for(;v;)i(v,null),v=f.hasNext()?f.getNext():null})}getAll(e,t,i){let l=Al();const f=t.length+1,v={};if(i.isEqual(un.min())){const b=t.toArray();v.range=IDBKeyRange.lowerBound(b)}else{const b=t.toArray(),M=AE(i);v.range=IDBKeyRange.lowerBound([b,M],!0),v.index=Jr.collectionReadTimeIndex}return u(e).Qt(v,(b,M,ee)=>{if(b.length!==f)return;const ve=this.gn(zt.fromSegments(b),M);t.isPrefixOf(ve.key.path)?l=l.insert(ve.key,ve):ee.done()}).next(()=>l)}newChangeBuffer(e){return new o(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return a(e).get(Ju.key).next(t=>(dn(!!t),t))}mn(e,t){return a(e).put(Ju.key,t)}gn(e,t){if(t){const i=DE(this.O,t);if(!i.isNoDocument()||!i.version.isEqual(un.min()))return i}return Yr.newInvalidDocument(e)}}class o extends vA{constructor(e,t){super(),this.Tn=e,this.trackRemovals=t,this.An=new Fg(i=>i.toString(),(i,l)=>i.isEqual(l))}applyChanges(e){const t=[];let i=0,l=new Br((f,v)=>On(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const b=this.An.get(f);if(v.isValidDocument()){const M=cA(this.Tn.O,v);l=l.add(f.path.popLast()),i+=up(M)-b,t.push(this.Tn.addEntry(e,f,M))}else if(i-=b,this.trackRemovals){const M=cA(this.Tn.O,v.convertToNoDocument(un.min()));t.push(this.Tn.addEntry(e,f,M))}else t.push(this.Tn.removeEntry(e,f))}),l.forEach(f=>{t.push(this.Tn.indexManager.addToCollectionParentIndex(e,f))}),t.push(this.Tn.updateMetadata(e,i)),it.waitFor(t)}getFromCache(e,t){return this.Tn.yn(e,t).next(i=>(this.An.set(t,i.size),i.document))}getAllFromCache(e,t){return this.Tn.In(e,t).next(({documents:i,En:l})=>(l.forEach((f,v)=>{this.An.set(f,v)}),i))}}function a(n){return ms(n,Ju.store)}function u(n){return ms(n,Jr.store)}function h(n){return n.path.toArray()}class g{constructor(e){this.O=e}kt(e,t,i,l){const f=new Sv("createOrUpgrade",t);var b;i<1&&l>=1&&(e.createObjectStore(Va.store),(b=e).createObjectStore(Qu.store,{keyPath:Qu.keyPath}),b.createObjectStore(xr.store,{keyPath:xr.keyPath,autoIncrement:!0}).createIndex(xr.userMutationsIndex,xr.userMutationsKeyPath,{unique:!0}),b.createObjectStore(uo.store),y(e),function(b){b.createObjectStore(Jr.store)}(e));let v=it.resolve();return i<3&&l>=3&&(0!==i&&(function(b){b.deleteObjectStore(ps.store),b.deleteObjectStore(jo.store),b.deleteObjectStore(Ha.store)}(e),y(e)),v=v.next(()=>function(b){const M=b.store(Ha.store),ee=new Ha(0,0,un.min().toTimestamp(),0);return M.put(Ha.key,ee)}(f))),i<4&&l>=4&&(0!==i&&(v=v.next(()=>function(b,M){return M.store(xr.store).qt().next(ee=>{b.deleteObjectStore(xr.store),b.createObjectStore(xr.store,{keyPath:xr.keyPath,autoIncrement:!0}).createIndex(xr.userMutationsIndex,xr.userMutationsKeyPath,{unique:!0});const ve=M.store(xr.store),_e=ee.map(He=>ve.put(He));return it.waitFor(_e)})}(e,f))),v=v.next(()=>{!function(b){b.createObjectStore(iu.store,{keyPath:iu.keyPath})}(e)})),i<5&&l>=5&&(v=v.next(()=>this.Rn(f))),i<6&&l>=6&&(v=v.next(()=>(function(b){b.createObjectStore(Ju.store)}(e),this.Pn(f)))),i<7&&l>=7&&(v=v.next(()=>this.bn(f))),i<8&&l>=8&&(v=v.next(()=>this.vn(e,f))),i<9&&l>=9&&(v=v.next(()=>{(function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")})(e),function(b){const M=b.objectStore(Jr.store);M.createIndex(Jr.readTimeIndex,Jr.readTimeIndexPath,{unique:!1}),M.createIndex(Jr.collectionReadTimeIndex,Jr.collectionReadTimeIndexPath,{unique:!1})}(t)})),i<10&&l>=10&&(v=v.next(()=>this.Vn(f))),i<11&&l>=11&&(v=v.next(()=>{(function(b){b.createObjectStore(co.store,{keyPath:co.keyPath})})(e),function(b){b.createObjectStore(ip.store,{keyPath:ip.keyPath})}(e)})),i<12&&l>=12&&(v=v.next(()=>{!function(b){const M=b.createObjectStore(gs.store,{keyPath:gs.keyPath});M.createIndex(gs.collectionPathOverlayIndex,gs.collectionPathOverlayIndexPath,{unique:!1}),M.createIndex(gs.collectionGroupOverlayIndex,gs.collectionGroupOverlayIndexPath,{unique:!1})}(e)})),i<13&&l>=13&&(v=v.next(()=>{!function(b){b.createObjectStore(Il.store,{keyPath:Il.keyPath,autoIncrement:!0}).createIndex(Il.collectionGroupIndex,Il.collectionGroupIndexPath,{unique:!1}),b.createObjectStore(Tl.store,{keyPath:Tl.keyPath}).createIndex(Tl.sequenceNumberIndex,Tl.sequenceNumberIndexPath,{unique:!1}),b.createObjectStore(ja.store,{keyPath:ja.keyPath}).createIndex(ja.documentKeyIndex,ja.documentKeyIndexPath,{unique:!1})}(e)})),v}Pn(e){let t=0;return e.store(Jr.store).Qt((i,l)=>{t+=up(l)}).next(()=>{const i=new Ju(t);return e.store(Ju.store).put(Ju.key,i)})}Rn(e){const t=e.store(Qu.store),i=e.store(xr.store);return t.qt().next(l=>it.forEach(l,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return i.qt(xr.userMutationsIndex,v).next(b=>it.forEach(b,M=>{dn(M.userId===f.userId);const ee=ap(this.O,M);return g0(e,f.userId,ee).next(()=>{})}))}))}bn(e){const t=e.store(ps.store),i=e.store(Jr.store);return e.store(Ha.store).get(Ha.key).next(l=>{const f=[];return i.Qt((v,b)=>{const M=new Rn(v),ee=[0,Fs(M)];f.push(t.get(ee).next(ve=>ve?it.resolve():t.put(new ps(0,Fs(M),l.highestListenSequenceNumber))))}).next(()=>it.waitFor(f))})}vn(e,t){e.createObjectStore(Lh.store,{keyPath:Lh.keyPath});const i=t.store(Lh.store),l=new Pv,f=v=>{if(l.add(v)){const b=v.lastSegment(),M=v.popLast();return i.put({collectionId:b,parent:Fs(M)})}};return t.store(Jr.store).Qt({jt:!0},(v,b)=>{const M=new Rn(v);return f(M.popLast())}).next(()=>t.store(uo.store).Qt({jt:!0},([v,b,M],ee)=>{const ve=Yu(b);return f(ve.popLast())}))}Vn(e){const t=e.store(jo.store);return t.Qt((i,l)=>{const f=$d(l),v=TE(this.O,f);return t.put(v)})}}function y(n){n.createObjectStore(ps.store,{keyPath:ps.keyPath}).createIndex(ps.documentTargetsIndex,ps.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(jo.store,{keyPath:jo.keyPath}).createIndex(jo.queryTargetsIndexName,jo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Ha.store)}const E="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class A{constructor(e,t,i,l,f,v,b,M,ee,ve,_e=12){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Sn=f,this.window=v,this.document=b,this.Dn=ee,this.Cn=ve,this.schemaVersion=_e,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=He=>Promise.resolve(),!A.Vt())throw new bt(et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mA(this,l),this.Bn=t+"main",this.O=new CE(M),this.Ln=new su(this.Bn,this.schemaVersion,new g(this.O)),this.Un=new pA(this.referenceDelegate,this.O),this.qn=new WT(this.O),this.Kn=new SE,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===ve&&Li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new bt(et.FAILED_PRECONDITION,E);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Un.getHighestSequenceNumber(e))}).then(e=>{this.Nn=new Ho(e,this.Dn)}).then(()=>{this.xn=!0}).catch(e=>(this.Ln&&this.Ln.close(),Promise.reject(e)))}Hn(e){var t=this;return this.Fn=function(){var i=(0,ht.Z)(function*(l){if(t.started)return e(l)});return function(l){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ln.Mt(function(){var t=(0,ht.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget((0,ht.Z)(function*(){t.started&&(yield t.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ne(e).put(new iu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(e).next(t=>{t||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(e)).next(t=>this.isPrimary&&!t?this.Xn(e).next(()=>!1):!!t&&this.Zn(e).next(()=>!0))).catch(e=>{if(zc(e))return It("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return It("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Sn.enqueueRetryable(()=>this.Fn(e)),this.isPrimary=e})}Jn(e){return N(e).get(Va.key).next(t=>it.resolve(this.ts(t)))}es(e){return ne(e).delete(this.clientId)}ns(){var e=this;return(0,ht.Z)(function*(){if(e.isPrimary&&!e.ss(e.$n,18e5)){e.$n=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const l=ms(i,iu.store);return l.qt().next(f=>{const v=e.rs(f,18e5),b=f.filter(M=>-1===v.indexOf(M));return it.forEach(b,M=>l.delete(M.clientId)).next(()=>b)})}).catch(()=>[]);if(e.Gn)for(const i of t)e.Gn.removeItem(e.os(i.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(e){return!!e&&e.ownerId===this.clientId}Yn(e){return this.Cn?it.resolve(!0):N(e).get(Va.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new bt(et.FAILED_PRECONDITION,E);return!1}}return!(!this.networkEnabled||!this.inForeground)||ne(e).qt().next(i=>void 0===this.rs(i,5e3).find(l=>{if(this.clientId!==l.clientId){const v=!this.inForeground&&l.inForeground,b=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||v&&b)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&It("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ht.Z)(function*(){e.xn=!1,e.us(),e.Mn&&(e.Mn.cancel(),e.Mn=null),e.hs(),e.ls(),yield e.Ln.runTransaction("shutdown","readwrite",[Va.store,iu.store],t=>{const i=new bE(t,Ho.A);return e.Xn(i).next(()=>e.es(i))}),e.Ln.close(),e.fs()})()}rs(e,t){return e.filter(i=>this.ss(i.updateTimeMs,t)&&!this.cs(i.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",e=>ne(e).qt().next(t=>this.rs(t,18e5).map(i=>i.clientId)))}get started(){return this.xn}getMutationQueue(e,t){return m0.Jt(e,this.O,t,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(e){return new kE(e)}getDocumentOverlayCache(e){return c0.Jt(this.O,e)}getBundleCache(){return this.Kn}runTransaction(e,t,i){It("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",f=13===(v=this.schemaVersion)?lA:12===v?o0:11===v?vE:void Zt();var v;let b;return this.Ln.runTransaction(e,l,f,M=>(b=new bE(M,this.Nn?this.Nn.next():Ho.A),"readwrite-primary"===t?this.Jn(b).next(ee=>!!ee||this.Yn(b)).next(ee=>{if(!ee)throw Li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new bt(et.FAILED_PRECONDITION,uA);return i(b)}).next(ee=>this.Zn(b).next(()=>ee)):this._s(b).next(()=>i(b)))).then(M=>(b.raiseOnCommittedEvent(),M))}_s(e){return N(e).get(Va.key).next(t=>{if(null!==t&&this.ss(t.leaseTimestampMs,5e3)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Cn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new bt(et.FAILED_PRECONDITION,E)})}Zn(e){const t=new Va(this.clientId,this.allowTabSynchronization,Date.now());return N(e).put(Va.key,t)}static Vt(){return su.Vt()}Xn(e){const t=N(e);return t.get(Va.key).next(i=>this.ts(i)?(It("IndexedDbPersistence","Releasing primary lease."),t.delete(Va.key)):it.resolve())}ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(Li(`Detected an update time that is in the future: ${e} > ${i}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=()=>{this.us(),(0,Sn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(e){var t;try{const i=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return It("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Li("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(e){Li("Failed to set zombie client id.",e)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(e){}}os(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function N(n){return ms(n,Va.store)}function ne(n){return ms(n,iu.store)}function le(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ae{constructor(e,t){this.progress=e,this.ws=t}}class Fe{constructor(e,t,i){this.qn=e,this.gs=t,this.indexManager=i}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.ps(e,t,i))}ps(e,t,i){return this.qn.getEntry(e,t).next(l=>{for(const f of i)f.applyToLocalView(l);return l})}Is(e,t){e.forEach((i,l)=>{for(const f of t)f.applyToLocalView(l)})}Es(e,t){return this.qn.getEntries(e,t).next(i=>this.Ts(e,i).next(()=>i))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.Is(t,i))}As(e,t,i){return zt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.Rs(e,t.path):Yf(t)?this.Ps(e,t,i):this.bs(e,t,i);var l}Rs(e,t){return this.ys(e,new zt(t)).next(i=>{let l=Ig();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}Ps(e,t,i){const l=t.collectionGroup;let f=Ig();return this.indexManager.getCollectionParents(e,l).next(v=>it.forEach(v,b=>{const M=(ee=t,ve=b.child(l),new hs(ve,null,ee.explicitOrderBy.slice(),ee.filters.slice(),ee.limit,ee.limitType,ee.startAt,ee.endAt));var ee,ve;return this.bs(e,M,i).next(ee=>{ee.forEach((ve,_e)=>{f=f.insert(ve,_e)})})}).next(()=>f))}bs(e,t,i){let l;return this.qn.getAll(e,t.path,i).next(f=>(l=f,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(f=>{for(const v of f)for(const b of v.mutations){const M=b.key;let ee=l.get(M);null==ee&&(ee=Yr.newInvalidDocument(M),l=l.insert(M,ee)),Ps(b,ee,v.localWriteTime),ee.isFoundDocument()||(l=l.remove(M))}}).next(()=>(l.forEach((f,v)=>{mv(t,v)||(l=l.remove(f))}),l))}}class $e{constructor(e,t,i,l){this.targetId=e,this.fromCache=t,this.vs=i,this.Vs=l}static Ss(e,t){let i=Yn(),l=Yn();for(const f of t.docChanges)switch(f.type){case 0:i=i.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new $e(e,t.fromCache,i,l)}}class ut{Ds(e){this.Cs=e}As(e,t,i,l){return 0===(f=t).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||i.isEqual(un.min())?this.Ns(e,t):this.Cs.Es(e,l).next(f=>{const v=this.xs(t,f);return(jd(t)||gv(t))&&this.ks(t.limitType,v,l,i)?this.Ns(e,t):(A_()<=Oc.in.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eg(t)),this.Cs.As(e,t,i).next(b=>(v.forEach(M=>{b=b.insert(M.key,M)}),b)))});var f}xs(e,t){let i=new Br(Yw(e));return t.forEach((l,f)=>{mv(e,f)&&(i=i.add(f))}),i}ks(e,t,i,l){if(i.size!==t.size)return!0;const f="F"===e?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Ns(e,t){return A_()<=Oc.in.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",Eg(t)),this.Cs.As(e,t,un.min())}}class Tt{constructor(e,t,i,l){this.persistence=e,this.Os=t,this.O=l,this.Ms=new Qr(On),this.$s=new Fg(f=>_g(f),Vd),this.Fs=un.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(i)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Fe(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Nt(n,e,t,i){return new Tt(n,e,t,i)}function $t(n,e){return gt.apply(this,arguments)}function gt(){return gt=(0,ht.Z)(function*(n,e){const t=Bt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let l;return t.gs.getAllMutationBatches(i).next(f=>(l=f,t.Ls(e),t.gs.getAllMutationBatches(i))).next(f=>{const v=[],b=[];let M=Yn();for(const ee of l){v.push(ee.batchId);for(const ve of ee.mutations)M=M.add(ve.key)}for(const ee of f){b.push(ee.batchId);for(const ve of ee.mutations)M=M.add(ve.key)}return t.Us.Es(i,M).next(ee=>({qs:ee,removedBatchIds:v,addedBatchIds:b}))})})}),gt.apply(this,arguments)}function Xt(n,e){const t=Bt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),f=t.Bs.newChangeBuffer({trackRemovals:!0});return function(v,b,M,ee){const ve=M.batch,_e=ve.keys();let He=it.resolve();return _e.forEach(qe=>{He=He.next(()=>ee.getEntry(b,qe)).next(ct=>{const Mt=M.docVersions.get(qe);dn(null!==Mt),ct.version.compareTo(Mt)<0&&(ve.applyToRemoteDocument(ct,M),ct.isValidDocument()&&(ct.setReadTime(M.commitVersion),ee.addEntry(ct)))})}),He.next(()=>v.gs.removeMutationBatch(b,ve))}(t,i,e,f).next(()=>f.apply(i)).next(()=>t.gs.performConsistencyCheck(i)).next(()=>t.Us.Es(i,l))})}function xn(n){const e=Bt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function Qn(n,e){const t=Bt(n),i=e.snapshotVersion;let l=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=t.Bs.newChangeBuffer({trackRemovals:!0});l=t.Ms;const b=[];e.targetChanges.forEach((ee,ve)=>{const _e=l.get(ve);if(!_e)return;b.push(t.Un.removeMatchingKeys(f,ee.removedDocuments,ve).next(()=>t.Un.addMatchingKeys(f,ee.addedDocuments,ve)));let He=_e.withSequenceNumber(f.currentSequenceNumber);var qe,ct,Mt;e.targetMismatches.has(ve)?He=He.withResumeToken(Ji.EMPTY_BYTE_STRING,un.min()).withLastLimboFreeSnapshotVersion(un.min()):ee.resumeToken.approximateByteSize()>0&&(He=He.withResumeToken(ee.resumeToken,i)),l=l.insert(ve,He),ct=He,Mt=ee,(0===(qe=_e).resumeToken.approximateByteSize()||ct.snapshotVersion.toMicroseconds()-qe.snapshotVersion.toMicroseconds()>=3e8||Mt.addedDocuments.size+Mt.modifiedDocuments.size+Mt.removedDocuments.size>0)&&b.push(t.Un.updateTargetData(f,He))});let M=Al();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(f,ee))}),b.push(fa(f,v,e.documentUpdates).next(ee=>{M=ee})),!i.isEqual(un.min())){const ee=t.Un.getLastRemoteSnapshotVersion(f).next(ve=>t.Un.setTargetsMetadata(f,f.currentSequenceNumber,i));b.push(ee)}return it.waitFor(b).next(()=>v.apply(f)).next(()=>t.Us.Ts(f,M)).next(()=>M)}).then(f=>(t.Ms=l,f))}function fa(n,e,t){let i=Yn();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let f=Al();return t.forEach((v,b)=>{const M=l.get(v);b.isNoDocument()&&b.version.isEqual(un.min())?(e.removeEntry(v,b.readTime),f=f.insert(v,b)):!M.isValidDocument()||b.version.compareTo(M.version)>0||0===b.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(b),f=f.insert(v,b)):It("LocalStore","Ignoring outdated watch update for ",v,". Current version:",M.version," Watch version:",b.version)}),f})}function jh(n,e){const t=Bt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(i,e)))}function Kd(n,e){const t=Bt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return t.Un.getTargetData(i,e).next(f=>f?(l=f,it.resolve(l)):t.Un.allocateTargetId(i).next(v=>(l=new Gd(e,v,0,i.currentSequenceNumber),t.Un.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=t.Ms.get(i.targetId);return(null===l||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.$s.set(e,i.targetId)),i})}function Zd(n,e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,ht.Z)(function*(n,e,t){const i=Bt(n),l=i.Ms.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",f,v=>i.persistence.referenceDelegate.removeTarget(v,l)))}catch(v){if(!zc(v))throw v;It("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}i.Ms=i.Ms.remove(e),i.$s.delete(l.target)}),Bg.apply(this,arguments)}function dp(n,e,t){const i=Bt(n);let l=un.min(),f=Yn();return i.persistence.runTransaction("Execute query","readonly",v=>function(b,M,ee){const ve=Bt(b),_e=ve.$s.get(ee);return void 0!==_e?it.resolve(ve.Ms.get(_e)):ve.Un.getTargetData(M,ee)}(i,v,Dl(e)).next(b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,i.Un.getMatchingKeysForTargetId(v,b.targetId).next(M=>{f=M})}).next(()=>i.Os.As(v,e,t?l:un.min(),t?f:Yn())).next(b=>({documents:b,Ks:f})))}function Uv(n,e){const t=Bt(n),i=Bt(t.Un),l=t.Ms.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",f=>i.Tt(f,e).next(v=>v?v.target:null))}function Vv(n){const e=Bt(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(i,l,f){const v=Bt(i);let b=Al(),M=AE(f);const ee=u(l),ve=IDBKeyRange.lowerBound(M,!0);return ee.Qt({index:Jr.readTimeIndex,range:ve},(_e,He)=>{const qe=DE(v.O,He);b=b.insert(qe.key,qe),M=He.readTime}).next(()=>({ws:b,readTime:IE(M)}))}(e.Bs,t,e.Fs)).then(({ws:t,readTime:i})=>(e.Fs=i,t))}function Ug(){return Ug=(0,ht.Z)(function*(n){const e=Bt(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(i){const l=u(i);let f=un.min();return l.Qt({index:Jr.readTimeIndex,reverse:!0},(v,b,M)=>{b.readTime&&(f=IE(b.readTime)),M.done()}).next(()=>f)}(t)).then(t=>{e.Fs=t})}),Ug.apply(this,arguments)}function yA(){return yA=(0,ht.Z)(function*(n,e,t,i){const l=Bt(n);let f=Yn(),v=Al();for(const ee of t){const ve=e.Gs(ee.metadata.name);ee.document&&(f=f.add(ve));const _e=e.js(ee);_e.setReadTime(e.Qs(ee.metadata.readTime)),v=v.insert(ve,_e)}const b=l.Bs.newChangeBuffer({trackRemovals:!0}),M=yield Kd(l,(ee=i,Dl(Hd(Rn.fromString(`__bundle__/docs/${ee}`)))));var ee;return l.persistence.runTransaction("Apply bundle documents","readwrite",ee=>fa(ee,b,v).next(ve=>(b.apply(ee),ve)).next(ve=>l.Un.removeMatchingKeysForTargetId(ee,M.targetId).next(()=>l.Un.addMatchingKeys(ee,f,M.targetId)).next(()=>l.Us.Ts(ee,ve)).next(()=>ve)))}),yA.apply(this,arguments)}function rk(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,ht.Z)(function*(n,e,t=Yn()){const i=yield Kd(n,Dl(u0(e.bundledQuery))),l=Bt(n);return l.persistence.runTransaction("Save named query","readwrite",f=>{const v=Ls(e.readTime);if(i.snapshotVersion.compareTo(v)>=0)return l.Kn.saveNamedQuery(f,e);const b=i.withResumeToken(Ji.EMPTY_BYTE_STRING,v);return l.Ms=l.Ms.insert(b.targetId,b),l.Un.updateTargetData(f,b).next(()=>l.Un.removeMatchingKeysForTargetId(f,i.targetId)).next(()=>l.Un.addMatchingKeys(f,t,i.targetId)).next(()=>l.Kn.saveNamedQuery(f,e))})}),_A.apply(this,arguments)}class ik{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return it.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var i;return this.Ws.set(t.id,{id:(i=t).id,version:i.version,createTime:Ls(i.createTime)}),it.resolve()}getNamedQuery(e,t){return it.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(i=t).name,query:u0(i.bundledQuery),readTime:Ls(i.readTime)}),it.resolve();var i}}class sk{constructor(){this.overlays=new Qr(zt.comparator),this.Hs=new Map}getOverlay(e,t){return it.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach(l=>{this.Yt(e,t,l)}),it.resolve()}removeOverlaysForBatchId(e,t,i){const l=this.Hs.get(i);return void 0!==l&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.Hs.delete(i)),it.resolve()}getOverlaysForCollection(e,t,i){const l=new Map,f=t.length+1,v=new zt(t.child("")),b=this.overlays.getIteratorFrom(v);for(;b.hasNext();){const M=b.getNext().value,ee=M.getKey();if(!t.isPrefixOf(ee.path))break;ee.path.length===f&&M.largestBatchId>i&&l.set(M.getKey(),M)}return it.resolve(l)}getOverlaysForCollectionGroup(e,t,i,l){let f=new Qr((ee,ve)=>ee-ve);const v=this.overlays.getIterator();for(;v.hasNext();){const ee=v.getNext().value;if(ee.getKey().getCollectionGroup()===t&&ee.largestBatchId>i){let ve=f.get(ee.largestBatchId);null===ve&&(ve=new Map,f=f.insert(ee.largestBatchId,ve)),ve.set(ee.getKey(),ee)}}const b=new Map,M=f.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((ee,ve)=>b.set(ve,ee)),!(b.size>=l)););return it.resolve(b)}Yt(e,t,i){if(null===i)return;const l=this.overlays.get(i.key);null!==l&&this.Hs.get(l.largestBatchId).delete(i.key),this.overlays=this.overlays.insert(i.key,new kv(t,i));let f=this.Hs.get(t);void 0===f&&(f=new Set,this.Hs.set(t,f)),f.add(i.key)}}class bA{constructor(){this.Js=new Br(ho.Ys),this.Xs=new Br(ho.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const i=new ho(e,t);this.Js=this.Js.add(i),this.Xs=this.Xs.add(i)}ti(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ei(new ho(e,t))}ni(e,t){e.forEach(i=>this.removeReference(i,t))}si(e){const t=new zt(new Rn([])),i=new ho(t,e),l=new ho(t,e+1),f=[];return this.Xs.forEachInRange([i,l],v=>{this.ei(v),f.push(v.key)}),f}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new zt(new Rn([])),i=new ho(t,e),l=new ho(t,e+1);let f=Yn();return this.Xs.forEachInRange([i,l],v=>{f=f.add(v.key)}),f}containsKey(e){const t=new ho(e,0),i=this.Js.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ho{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return zt.comparator(e.key,t.key)||On(e.oi,t.oi)}static Zs(e,t){return On(e.oi,t.oi)||zt.comparator(e.key,t.key)}}class ok{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new Br(ho.Ys)}checkEmpty(e){return it.resolve(0===this.gs.length)}addMutationBatch(e,t,i,l){const f=this.ci;this.ci++;const v=new wE(f,t,i,l);this.gs.push(v);for(const b of l)this.ui=this.ui.add(new ho(b.key,f)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return it.resolve(v)}lookupMutationBatch(e,t){return it.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.hi(t+1),f=l<0?0:l;return it.resolve(this.gs.length>f?this.gs[f]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return it.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ho(t,0),l=new ho(t,Number.POSITIVE_INFINITY),f=[];return this.ui.forEachInRange([i,l],v=>{const b=this.ai(v.oi);f.push(b)}),it.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Br(On);return t.forEach(l=>{const f=new ho(l,0),v=new ho(l,Number.POSITIVE_INFINITY);this.ui.forEachInRange([f,v],b=>{i=i.add(b.oi)})}),it.resolve(this.li(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1;let f=i;zt.isDocumentKey(f)||(f=f.child(""));const v=new ho(new zt(f),0);let b=new Br(On);return this.ui.forEachWhile(M=>{const ee=M.key.path;return!!i.isPrefixOf(ee)&&(ee.length===l&&(b=b.add(M.oi)),!0)},v),it.resolve(this.li(b))}li(e){const t=[];return e.forEach(i=>{const l=this.ai(i);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){dn(0===this.fi(t.batchId,"removed")),this.gs.shift();let i=this.ui;return it.forEach(t.mutations,l=>{const f=new ho(l.key,t.batchId);return i=i.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ui=i})}Qe(e){}containsKey(e,t){const i=new ho(t,0),l=this.ui.firstAfterOrEqual(i);return it.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return it.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class ak{constructor(e){this.di=e,this.docs=new Qr(zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,l=this.docs.get(i),f=l?l.size:0,v=this.di(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return it.resolve(i?i.document.mutableCopy():Yr.newInvalidDocument(t))}getEntries(e,t){let i=Al();return t.forEach(l=>{const f=this.docs.get(l);i=i.insert(l,f?f.document.mutableCopy():Yr.newInvalidDocument(l))}),it.resolve(i)}getAll(e,t,i){let l=Al();const f=new zt(t.child("")),v=this.docs.getIteratorFrom(f);for(;v.hasNext();){const{key:b,value:{document:M}}=v.getNext();if(!t.isPrefixOf(b.path))break;b.path.length>t.length+1||M.readTime.compareTo(i)<=0||(l=l.insert(M.key,M.mutableCopy()))}return it.resolve(l)}_i(e,t){return it.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lk(this)}getSize(e){return it.resolve(this.size)}}class lk extends vA{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?t.push(this.Tn.addEntry(e,l)):this.Tn.removeEntry(i)}),it.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class uk{constructor(e){this.persistence=e,this.wi=new Fg(t=>_g(t),Vd),this.lastRemoteSnapshotVersion=un.min(),this.highestTargetId=0,this.mi=0,this.gi=new bA,this.targetCount=0,this.yi=Vh.He()}forEachTarget(e,t){return this.wi.forEach((i,l)=>t(l)),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.mi&&(this.mi=t),it.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new Vh(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,it.resolve()}updateTargetData(e,t){return this.Ze(t),it.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,t,i){let l=0;const f=[];return this.wi.forEach((v,b)=>{b.sequenceNumber<=t&&null===i.get(b.targetId)&&(this.wi.delete(v),f.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)}),it.waitFor(f).next(()=>l)}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,t){const i=this.wi.get(t)||null;return it.resolve(i)}addMatchingKeys(e,t,i){return this.gi.ti(t,i),it.resolve()}removeMatchingKeys(e,t,i){this.gi.ni(t,i);const l=this.persistence.referenceDelegate,f=[];return l&&t.forEach(v=>{f.push(l.markPotentiallyOrphaned(e,v))}),it.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),it.resolve()}getMatchingKeysForTargetId(e,t){const i=this.gi.ri(t);return it.resolve(i)}containsKey(e,t){return it.resolve(this.gi.containsKey(t))}}class ck{constructor(e,t){this.pi={},this.overlays={},this.Nn=new Ho(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new uk(this),this.indexManager=new hA,this.qn=new ak(i=>this.referenceDelegate.Ii(i)),this.O=new CE(t),this.Kn=new ik(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.pi[e.toKey()];return i||(i=new ok(t,this.referenceDelegate),this.pi[e.toKey()]=i),i}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,i){It("MemoryPersistence","Starting transaction:",e);const l=new dk(this.Nn.next());return this.referenceDelegate.Ei(),i(l).next(f=>this.referenceDelegate.Ti(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ai(e,t){return it.or(Object.values(this.pi).map(i=>()=>i.containsKey(e,t)))}}class dk extends a0{constructor(e){super(),this.currentSequenceNumber=e}}class wA{constructor(e){this.persistence=e,this.Ri=new bA,this.Pi=null}static bi(e){return new wA(e)}get vi(){if(this.Pi)return this.Pi;throw Zt()}addReference(e,t,i){return this.Ri.addReference(i,t),this.vi.delete(i.toString()),it.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.vi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),it.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(l=>this.vi.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(f=>this.vi.add(f.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.vi,i=>{const l=zt.fromPath(i);return this.Vi(e,l).next(f=>{f||t.removeEntry(l,un.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(i=>{i?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return it.or([()=>it.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}function qT(n,e){return`firestore_clients_${n}_${e}`}function KT(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function EA(n,e){return`firestore_targets_${n}_${e}`}class NE{constructor(e,t,i,l){this.user=e,this.batchId=t,this.state=i,this.error=l}static Si(e,t,i){const l=JSON.parse(i);let f,v="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(f=new bt(l.error.code,l.error.message))),v?new NE(e,t,l.state,f):(Li("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class b0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Si(e,t){const i=JSON.parse(t);let l,f="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return f&&i.error&&(f="string"==typeof i.error.message&&"string"==typeof i.error.code,f&&(l=new bt(i.error.code,i.error.message))),f?new b0(e,i.state,l):(Li("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Di(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class PE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Si(e,t){const i=JSON.parse(t);let l="object"==typeof i&&i.activeTargetIds instanceof Array,f=Tg();for(let v=0;l&&v<i.activeTargetIds.length;++v)l=Uw(i.activeTargetIds[v]),f=f.add(i.activeTargetIds[v]);return l?new PE(e,f):(Li("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class CA{constructor(e,t){this.clientId=e,this.onlineState=t}static Si(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new CA(t.clientId,t.onlineState):(Li("SharedClientState",`Failed to parse online state: ${e}`),null)}}class DA{constructor(){this.activeTargetIds=Tg()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AA{constructor(e,t,i,l,f){this.window=e,this.Sn=t,this.persistenceKey=i,this.xi=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new Qr(On),this.started=!1,this.$i=[];const v=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Fi=qT(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new DA),this.Li=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(b){return`firestore_bundle_loaded_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ht.Z)(function*(){const t=yield e.syncEngine.ds();for(const l of t){if(l===e.xi)continue;const f=e.getItem(qT(e.persistenceKey,l));if(f){const v=PE.Si(l,f);v&&(e.Mi=e.Mi.insert(v.clientId,v))}}e.ji();const i=e.storage.getItem(e.Ki);if(i){const l=e.Qi(i);l&&e.Wi(l)}for(const l of e.$i)e.Oi(l);e.$i=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Bi,JSON.stringify(e))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(e){let t=!1;return this.Mi.forEach((i,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Hi(e,"pending")}updateMutationState(e,t,i){this.Hi(e,t,i),this.Ji(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(EA(this.persistenceKey,e));if(i){const l=b0.Si(e,i);l&&(t=l.state)}}return this.Yi.Ci(e),this.ji(),t}removeLocalQueryTarget(e){this.Yi.Ni(e),this.ji()}isLocalQueryTarget(e){return this.Yi.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(EA(this.persistenceKey,e))}updateQueryState(e,t,i){this.Xi(e,t,i)}handleUserChange(e,t,i){t.forEach(l=>{this.Ji(l)}),this.currentUser=e,i.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Zi(e)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return It("SharedClientState","READ",e,t),t}setItem(e,t){It("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){It("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Oi(e){var t=this;const i=e;if(i.storageArea===this.storage){if(It("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Fi)return void Li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,ht.Z)(function*(){if(t.started){if(null!==i.key)if(t.Li.test(i.key)){if(null==i.newValue){const l=t.er(i.key);return t.nr(l,null)}{const l=t.sr(i.key,i.newValue);if(l)return t.nr(l.clientId,l)}}else if(t.Ui.test(i.key)){if(null!==i.newValue){const l=t.ir(i.key,i.newValue);if(l)return t.rr(l)}}else if(t.qi.test(i.key)){if(null!==i.newValue){const l=t.cr(i.key,i.newValue);if(l)return t.ur(l)}}else if(i.key===t.Ki){if(null!==i.newValue){const l=t.Qi(i.newValue);if(l)return t.Wi(l)}}else if(i.key===t.Bi){const l=function(f){let v=Ho.A;if(null!=f)try{const b=JSON.parse(f);dn("number"==typeof b),v=b}catch(b){Li("SharedClientState","Failed to read sequence number from WebStorage",b)}return v}(i.newValue);l!==Ho.A&&t.sequenceNumberHandler(l)}else if(i.key===t.Gi)return t.syncEngine.ar()}else t.$i.push(i)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(e,t,i){const l=new NE(this.currentUser,e,t,i),f=KT(this.persistenceKey,this.currentUser,e);this.setItem(f,l.Di())}Ji(e){const t=KT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Zi(e){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:e}))}Xi(e,t,i){const l=EA(this.persistenceKey,e),f=new b0(e,t,i);this.setItem(l,f.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(e){const t=this.Li.exec(e);return t?t[1]:null}sr(e,t){const i=this.er(e);return PE.Si(i,t)}ir(e,t){const i=this.Ui.exec(e),l=Number(i[1]);return NE.Si(new Zi(void 0!==i[2]?i[2]:null),l,t)}cr(e,t){const i=this.qi.exec(e),l=Number(i[1]);return b0.Si(l,t)}Qi(e){return CA.Si(e)}rr(e){var t=this;return(0,ht.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.hr(e.batchId,e.state,e.error);It("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}ur(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}nr(e,t){const i=t?this.Mi.insert(e,t):this.Mi.remove(e),l=this.zi(this.Mi),f=this.zi(i),v=[],b=[];return f.forEach(M=>{l.has(M)||v.push(M)}),l.forEach(M=>{f.has(M)||b.push(M)}),this.syncEngine.dr(v,b).then(()=>{this.Mi=i})}Wi(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}zi(e){let t=Tg();return e.forEach((i,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class ZT{constructor(){this._r=new DA,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,i){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new DA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class hk{mr(e){}shutdown(){}}class YT{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){It("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){It("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class pk{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class gk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,i,l,f){const v=this.$r(e,t);It("RestConnection","Sending: ",v,i);const b={};return this.Fr(b,l,f),this.Br(e,v,b,i).then(M=>(It("RestConnection","Received: ",M),M),M=>{throw fg("RestConnection",`${e} failed with error: `,M,"url: ",v,"request:",i),M})}Lr(e,t,i,l,f){return this.Mr(e,t,i,l,f)}Fr(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+$f,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,f)=>e[f]=l),i&&i.headers.forEach((l,f)=>e[f]=l)}$r(e,t){return`${this.kr}/v1/${t}:${fk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,i,l){return new Promise((f,v)=>{const b=new RD;b.listenOnce(C_.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case E_.NO_ERROR:const ee=b.getResponseJson();It("Connection","XHR received:",JSON.stringify(ee)),f(ee);break;case E_.TIMEOUT:It("Connection",'RPC "'+e+'" timed out'),v(new bt(et.DEADLINE_EXCEEDED,"Request time out"));break;case E_.HTTP_ERROR:const ve=b.getStatus();if(It("Connection",'RPC "'+e+'" failed with status:',ve,"response text:",b.getResponseText()),ve>0){const _e=b.getResponseJson().error;if(_e&&_e.status&&_e.message){const He=function(qe){const ct=qe.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(ct)>=0?ct:et.UNKNOWN}(_e.status);v(new bt(He,_e.message))}else v(new bt(et.UNKNOWN,"Server responded with status "+b.getStatus()))}else v(new bt(et.UNAVAILABLE,"Connection failed."));break;default:Zt()}}finally{It("Connection",'RPC "'+e+'" completed.')}});const M=JSON.stringify(l);b.send(t,"POST",M,i,15)})}Ur(e,t,i){const l=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=MD(),v=kw(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new Mw({})),this.Fr(b.initMessageHeaders,t,i),(0,Sn.uI)()||(0,Sn.b$)()||(0,Sn.d)()||(0,Sn.w1)()||(0,Sn.Mn)()||(0,Sn.ru)()||(b.httpHeadersOverwriteParam="$httpHeaders");const M=l.join("");It("Connection","Creating WebChannel: "+M,b);const ee=f.createWebChannel(M,b);let ve=!1,_e=!1;const He=new pk({Ar:ct=>{_e?It("Connection","Not sending because WebChannel is closed:",ct):(ve||(It("Connection","Opening WebChannel transport."),ee.open(),ve=!0),It("Connection","WebChannel sending:",ct),ee.send(ct))},Rr:()=>ee.close()}),qe=(ct,Mt,Gt)=>{ct.listen(Mt,bn=>{try{Gt(bn)}catch(Wn){setTimeout(()=>{throw Wn},0)}})};return qe(ee,lv.EventType.OPEN,()=>{_e||It("Connection","WebChannel transport opened.")}),qe(ee,lv.EventType.CLOSE,()=>{_e||(_e=!0,It("Connection","WebChannel transport closed"),He.Cr())}),qe(ee,lv.EventType.ERROR,ct=>{_e||(_e=!0,fg("Connection","WebChannel transport errored:",ct),He.Cr(new bt(et.UNAVAILABLE,"The operation could not be completed")))}),qe(ee,lv.EventType.MESSAGE,ct=>{var Mt;if(!_e){const Gt=ct.data[0];dn(!!Gt);const bn=Gt,Wn=bn.error||(null===(Mt=bn[0])||void 0===Mt?void 0:Mt.error);if(Wn){It("Connection","WebChannel received error:",Wn);const rr=Wn.status;let Cn=function(ou){const aC=ai[ou];if(void 0!==aC)return Ag(aC)}(rr),kr=Wn.message;void 0===Cn&&(Cn=et.INTERNAL,kr="Unknown error status: "+rr+" with message "+Wn.message),_e=!0,He.Cr(new bt(Cn,kr)),ee.close()}else It("Connection","WebChannel received:",Gt),He.Nr(Gt)}}),qe(v,OD.STAT_EVENT,ct=>{ct.stat===D_.PROXY?It("Connection","Detected buffering proxy"):ct.stat===D_.NOPROXY&&It("Connection","Detected no buffering proxy")}),setTimeout(()=>{He.Dr()},0),He}}function QT(){return"undefined"!=typeof window?window:null}function LE(){return"undefined"!=typeof document?document:null}function w0(n){return new tA(n,!0)}class IA{constructor(e,t,i=1e3,l=1.5,f=6e4){this.Sn=e,this.timerId=t,this.qr=i,this.Kr=l,this.Gr=f,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),i=Math.max(0,Date.now()-this.Wr),l=Math.max(0,t-i);l>0&&It("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,l,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class JT{constructor(e,t,i,l,f,v,b,M){this.Sn=e,this.Xr=i,this.Zr=l,this.eo=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=b,this.listener=M,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new IA(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return(0,ht.Z)(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return(0,ht.Z)(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var i=this;return(0,ht.Z)(function*(){i._o(),i.wo(),i.ro.cancel(),i.no++,4!==e?i.ro.reset():t&&t.code===et.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),i.ro.zr()):t&&t.code===et.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.mo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.no===t&&this.po(i,l)},i=>{e(()=>{const l=new bt(et.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Io(l)})})}po(e,t){const i=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{i(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(l=>{i(()=>this.Io(l))}),this.stream.onMessage(l=>{i(()=>this.onMessage(l))})}uo(){var e=this;this.state=5,this.ro.Hr((0,ht.Z)(function*(){e.state=0,e.start()}))}Io(e){return It("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(It("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mk extends JT{constructor(e,t,i,l,f,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,l,v),this.O=f}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function fE(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(M=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===M?1:"REMOVE"===M?2:"CURRENT"===M?3:"RESET"===M?4:Zt(),l=e.targetChange.targetIds||[],f=function(M,ee){return M.N?(dn(void 0===ee||"string"==typeof ee),Ji.fromBase64String(ee||"")):(dn(void 0===ee||ee instanceof Uint8Array),Ji.fromUint8Array(ee||new Uint8Array))}(n,e.targetChange.resumeToken),v=e.targetChange.cause,b=v&&function(M){const ee=void 0===M.code?et.UNKNOWN:Ag(M.code);return new bt(ee,M.message||"")}(v);t=new aE(i,l,f,b||null)}else if("documentChange"in e){const i=e.documentChange,l=Hc(n,i.document.name),f=Ls(i.document.updateTime),v=new ds({mapValue:{fields:i.document.fields}}),b=Yr.newFoundDocument(l,f,v);t=new xg(i.targetIds||[],i.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const i=e.documentDelete,l=Hc(n,i.document),f=i.readTime?Ls(i.readTime):un.min(),v=Yr.newNoDocument(l,f);t=new xg([],i.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const i=e.documentRemove,l=Hc(n,i.document);t=new xg([],i.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Zt();{const i=e.filter,f=new JD(i.count||0);t=new oE(i.targetId,f)}}var M;return t}(this.O,e),i=function(l){if(!("targetChange"in l))return un.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?un.min():f.readTime?Ls(f.readTime):un.min()}(e);return this.listener.To(t,i)}Ao(e){const t={};t.database=Dv(this.O),t.addTarget=function(l,f){let v;const b=f.target;return v=bg(b)?{documents:X_(l,b)}:{query:e0(l,b)},v.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?v.resumeToken=nA(l,f.resumeToken):f.snapshotVersion.compareTo(un.min())>0&&(v.readTime=kg(l,f.snapshotVersion.toTimestamp())),v}(this.O,e);const i=function BT(n,e){const t=function(i,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.fo(t)}Ro(e){const t={};t.database=Dv(this.O),t.removeTarget=e,this.fo(t)}}class vk extends JT{constructor(e,t,i,l,f,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,l,v),this.O=f,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function J_(n,e){return n&&n.length>0?(dn(void 0!==e),n.map(t=>function(i,l){let f=Ls(i.updateTime?i.updateTime:l);return f.isEqual(un.min())&&(f=Ls(l)),new Xw(f,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ls(e.commitTime);return this.listener.Vo(i,t)}return dn(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Dv(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Og(this.O,i))};this.fo(t)}}class yk extends class{}{constructor(e,t,i,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=i,this.O=l,this.Co=!1}No(){if(this.Co)throw new bt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,i){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.eo.Mr(e,t,i,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new bt(et.UNKNOWN,l.toString())})}Lr(e,t,i){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.eo.Lr(e,t,i,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new bt(et.UNKNOWN,l.toString())})}terminate(){this.Co=!0}}class _k{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Li(t),this.Oo=!1):It("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class bk{constructor(e,t,i,l,f){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=f,this.jo.mr(b=>{i.enqueueAndForget((0,ht.Z)(function*(){var M;hp(v)&&(It("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,ht.Z)(function*(ee){const ve=Bt(ee);ve.Ko.add(4),yield Hv(ve),ve.Qo.set("Unknown"),ve.Ko.delete(4),yield E0(ve)}),function(ee){return M.apply(this,arguments)})(v))}))}),this.Qo=new _k(i,l)}}function E0(n){return TA.apply(this,arguments)}function TA(){return TA=(0,ht.Z)(function*(n){if(hp(n))for(const e of n.Go)yield e(!0)}),TA.apply(this,arguments)}function Hv(n){return SA.apply(this,arguments)}function SA(){return SA=(0,ht.Z)(function*(n){for(const e of n.Go)yield e(!1)}),SA.apply(this,arguments)}function FE(n,e){const t=Bt(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),MA(t)?kA(t):zv(t).co()&&xA(t,e))}function C0(n,e){const t=Bt(n),i=zv(t);t.qo.delete(e),i.co()&&XT(t,e),0===t.qo.size&&(i.co()?i.ho():hp(t)&&t.Qo.set("Unknown"))}function xA(n,e){n.Wo.Z(e.targetId),zv(n).Ao(e)}function XT(n,e){n.Wo.Z(e),zv(n).Ro(e)}function kA(n){n.Wo=new eA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),zv(n).start(),n.Qo.Mo()}function MA(n){return hp(n)&&!zv(n).oo()&&n.qo.size>0}function hp(n){return 0===Bt(n).Ko.size}function eS(n){n.Wo=void 0}function wk(n){return OA.apply(this,arguments)}function OA(){return OA=(0,ht.Z)(function*(n){n.qo.forEach((e,t)=>{xA(n,e)})}),OA.apply(this,arguments)}function Ek(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,ht.Z)(function*(n,e){eS(n),MA(n)?(n.Qo.Bo(e),kA(n)):n.Qo.set("Unknown")}),RA.apply(this,arguments)}function Ck(n,e,t){return NA.apply(this,arguments)}function NA(){return NA=(0,ht.Z)(function*(n,e,t){if(n.Qo.set("Online"),e instanceof aE&&2===e.state&&e.cause)try{yield(i=(0,ht.Z)(function*(l,f){const v=f.cause;for(const b of f.targetIds)l.qo.has(b)&&(yield l.remoteSyncer.rejectListen(b,v),l.qo.delete(b),l.Wo.removeTarget(b))}),function(l,f){return i.apply(this,arguments)})(n,e)}catch(i){It("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield BE(n,i)}else if(e instanceof xg?n.Wo.ct(e):e instanceof oE?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(un.min()))try{const i=yield xn(n.localStore);t.compareTo(i)>=0&&(yield function(l,f){const v=l.Wo.yt(f);return v.targetChanges.forEach((b,M)=>{if(b.resumeToken.approximateByteSize()>0){const ee=l.qo.get(M);ee&&l.qo.set(M,ee.withResumeToken(b.resumeToken,f))}}),v.targetMismatches.forEach(b=>{const M=l.qo.get(b);if(!M)return;l.qo.set(b,M.withResumeToken(Ji.EMPTY_BYTE_STRING,M.snapshotVersion)),XT(l,b);const ee=new Gd(M.target,b,1,M.sequenceNumber);xA(l,ee)}),l.remoteSyncer.applyRemoteEvent(v)}(n,t))}catch(i){It("RemoteStore","Failed to raise snapshot:",i),yield BE(n,i)}var i}),NA.apply(this,arguments)}function BE(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,ht.Z)(function*(n,e,t){if(!zc(e))throw e;n.Ko.add(1),yield Hv(n),n.Qo.set("Offline"),t||(t=()=>xn(n.localStore)),n.asyncQueue.enqueueRetryable((0,ht.Z)(function*(){It("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield E0(n)}))}),PA.apply(this,arguments)}function tS(n,e){return e().catch(t=>BE(n,t,e))}function jv(n){return LA.apply(this,arguments)}function LA(){return LA=(0,ht.Z)(function*(n){const e=Bt(n),t=fp(e);let i=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;Dk(e);)try{const l=yield jh(e.localStore,i);if(null===l){0===e.Uo.length&&t.ho();break}i=l.batchId,Ak(e,l)}catch(l){yield BE(e,l)}nS(e)&&rS(e)}),LA.apply(this,arguments)}function Dk(n){return hp(n)&&n.Uo.length<10}function Ak(n,e){n.Uo.push(e);const t=fp(n);t.co()&&t.bo&&t.vo(e.mutations)}function nS(n){return hp(n)&&!fp(n).oo()&&n.Uo.length>0}function rS(n){fp(n).start()}function Ik(n){return FA.apply(this,arguments)}function FA(){return FA=(0,ht.Z)(function*(n){fp(n).Do()}),FA.apply(this,arguments)}function Tk(n){return BA.apply(this,arguments)}function BA(){return BA=(0,ht.Z)(function*(n){const e=fp(n);for(const t of n.Uo)e.vo(t.mutations)}),BA.apply(this,arguments)}function Sk(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,ht.Z)(function*(n,e,t){const i=n.Uo.shift(),l=EE.from(i,e,t);yield tS(n,()=>n.remoteSyncer.applySuccessfulWrite(l)),yield jv(n)}),UA.apply(this,arguments)}function xk(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,ht.Z)(function*(n,e){var t;e&&fp(n).bo&&(yield(t=(0,ht.Z)(function*(i,l){if(G_(f=l.code)&&f!==et.ABORTED){const v=i.Uo.shift();fp(i).ao(),yield tS(i,()=>i.remoteSyncer.rejectFailedWrite(v.batchId,l)),yield jv(i)}var f}),function(i,l){return t.apply(this,arguments)})(n,e)),nS(n)&&rS(n)}),VA.apply(this,arguments)}function iS(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,ht.Z)(function*(n,e){const t=Bt(n);t.asyncQueue.verifyOperationInProgress(),It("RemoteStore","RemoteStore received new credentials");const i=hp(t);t.Ko.add(3),yield Hv(t),i&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield E0(t)}),HA.apply(this,arguments)}function jA(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,ht.Z)(function*(n,e){const t=Bt(n);e?(t.Ko.delete(2),yield E0(t)):e||(t.Ko.add(2),yield Hv(t),t.Qo.set("Unknown"))}),zA.apply(this,arguments)}function zv(n){return n.zo||(n.zo=function(e,t,i){const l=Bt(e);return l.No(),new mk(t,l.eo,l.authCredentials,l.appCheckCredentials,l.O,i)}(n.datastore,n.asyncQueue,{Pr:wk.bind(null,n),vr:Ek.bind(null,n),To:Ck.bind(null,n)}),n.Go.push(function(){var e=(0,ht.Z)(function*(t){t?(n.zo.ao(),MA(n)?kA(n):n.Qo.set("Unknown")):(yield n.zo.stop(),eS(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function fp(n){return n.Ho||(n.Ho=function(e,t,i){const l=Bt(e);return l.No(),new vk(t,l.eo,l.authCredentials,l.appCheckCredentials,l.O,i)}(n.datastore,n.asyncQueue,{Pr:Ik.bind(null,n),vr:xk.bind(null,n),So:Tk.bind(null,n),Vo:Sk.bind(null,n)}),n.Go.push(function(){var e=(0,ht.Z)(function*(t){t?(n.Ho.ao(),yield jv(n)):(yield n.Ho.stop(),n.Uo.length>0&&(It("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class GA{constructor(e,t,i,l,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=l,this.removalCallback=f,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,i,l,f){const v=Date.now()+i,b=new GA(e,t,v,l,f);return b.start(i),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(n,e){if(Li("AsyncQueue",`${e}: ${n}`),zc(n))return new bt(et.UNAVAILABLE,`${e}: ${n}`);throw n}class $v{constructor(e){this.comparator=e?(t,i)=>e(t,i)||zt.comparator(t.key,i.key):(t,i)=>zt.comparator(t.key,i.key),this.keyedMap=Ig(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new $v(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $v)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,f=i.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new $v;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class sS{constructor(){this.Jo=new Qr(zt.comparator)}track(e){const t=e.doc.key,i=this.Jo.get(t);i?0!==e.type&&3===i.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==i.type?this.Jo=this.Jo.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Jo=this.Jo.remove(t):1===e.type&&2===i.type?this.Jo=this.Jo.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Zt():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,i)=>{e.push(i)}),e}}class Wv{constructor(e,t,i,l,f,v,b,M){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=b,this.excludesMetadataChanges=M}static fromInitialDocuments(e,t,i,l){const f=[];return t.forEach(v=>{f.push({type:0,doc:v})}),new Wv(e,t,$v.emptySet(t),f,i,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==i[l].type||!t[l].doc.isEqual(i[l].doc))return!1;return!0}}class kk{constructor(){this.Xo=void 0,this.listeners=[]}}class Mk{constructor(){this.queries=new Fg(e=>B_(e),Qf),this.onlineState="Unknown",this.Zo=new Set}}function $A(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,ht.Z)(function*(n,e){const t=Bt(n),i=e.query;let l=!1,f=t.queries.get(i);if(f||(l=!0,f=new kk),l)try{f.Xo=yield t.onListen(i)}catch(v){const b=Gv(v,`Initialization of query '${Eg(e.query)}' failed`);return void e.onError(b)}t.queries.set(i,f),f.listeners.push(e),e.tc(t.onlineState),f.Xo&&e.ec(f.Xo)&&ZA(t)}),WA.apply(this,arguments)}function qA(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,ht.Z)(function*(n,e){const t=Bt(n),i=e.query;let l=!1;const f=t.queries.get(i);if(f){const v=f.listeners.indexOf(e);v>=0&&(f.listeners.splice(v,1),l=0===f.listeners.length)}if(l)return t.queries.delete(i),t.onUnlisten(i)}),KA.apply(this,arguments)}function Ok(n,e){const t=Bt(n);let i=!1;for(const l of e){const v=t.queries.get(l.query);if(v){for(const b of v.listeners)b.ec(l)&&(i=!0);v.Xo=l}}i&&ZA(t)}function Rk(n,e,t){const i=Bt(n),l=i.queries.get(e);if(l)for(const f of l.listeners)f.onError(t);i.queries.delete(e)}function ZA(n){n.Zo.forEach(e=>{e.next()})}class YA{constructor(e,t,i){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=i||{}}ec(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)3!==l.type&&i.push(l);e=new Wv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=Wv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class Nk{constructor(e,t){this.payload=e,this.byteLength=t}ac(){return"metadata"in this.payload}}class oS{constructor(e){this.O=e}Gs(e){return Hc(this.O,e)}js(e){return e.metadata.exists?Av(this.O,e.document,!1):Yr.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}Qs(e){return Ls(e)}}class Pk{constructor(e,t,i){this.hc=e,this.localStore=t,this.O=i,this.queries=[],this.documents=[],this.progress=aS(e)}lc(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}fc(e){const t=new Map,i=new oS(this.O);for(const l of e)if(l.metadata.queries){const f=i.Gs(l.metadata.name);for(const v of l.metadata.queries){const b=(t.get(v)||Yn()).add(f);t.set(v,b)}}return t}complete(){var e=this;return(0,ht.Z)(function*(){const t=yield function _0(n,e,t,i){return yA.apply(this,arguments)}(e.localStore,new oS(e.O),e.documents,e.hc.id),i=e.fc(e.documents);for(const l of e.queries)yield rk(e.localStore,l,i.get(l.name));return e.progress.taskState="Success",new Ae(Object.assign({},e.progress),t)})()}}function aS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lS{constructor(e){this.key=e}}class uS{constructor(e){this.key=e}}class cS{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=Yn(),this.mutatedKeys=Yn(),this.mc=Yw(e),this.gc=new $v(this.mc)}get yc(){return this.dc}Ic(e,t){const i=t?t.Ec:new sS,l=t?t.gc:this.gc;let f=t?t.mutatedKeys:this.mutatedKeys,v=l,b=!1;const M=jd(this.query)&&l.size===this.query.limit?l.last():null,ee=gv(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ve,_e)=>{const He=l.get(ve),qe=mv(this.query,_e)?_e:null,ct=!!He&&this.mutatedKeys.has(He.key),Mt=!!qe&&(qe.hasLocalMutations||this.mutatedKeys.has(qe.key)&&qe.hasCommittedMutations);let Gt=!1;He&&qe?He.data.isEqual(qe.data)?ct!==Mt&&(i.track({type:3,doc:qe}),Gt=!0):this.Tc(He,qe)||(i.track({type:2,doc:qe}),Gt=!0,(M&&this.mc(qe,M)>0||ee&&this.mc(qe,ee)<0)&&(b=!0)):!He&&qe?(i.track({type:0,doc:qe}),Gt=!0):He&&!qe&&(i.track({type:1,doc:He}),Gt=!0,(M||ee)&&(b=!0)),Gt&&(qe?(v=v.add(qe),f=Mt?f.add(ve):f.delete(ve)):(v=v.delete(ve),f=f.delete(ve)))}),jd(this.query)||gv(this.query))for(;v.size>this.query.limit;){const ve=jd(this.query)?v.last():v.first();v=v.delete(ve.key),f=f.delete(ve.key),i.track({type:1,doc:ve})}return{gc:v,Ec:i,ks:b,mutatedKeys:f}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const l=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const f=e.Ec.Yo();f.sort((ee,ve)=>function(_e,He){const qe=ct=>{switch(ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zt()}};return qe(_e)-qe(He)}(ee.type,ve.type)||this.mc(ee.doc,ve.doc)),this.Ac(i);const v=t?this.Rc():[],b=0===this.wc.size&&this.current?1:0,M=b!==this._c;return this._c=b,0!==f.length||M?{snapshot:new Wv(this.query,e.gc,l,f,e.mutatedKeys,0===b,M,!1),Pc:v}:{Pc:v}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new sS,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Yn(),this.gc.forEach(i=>{this.bc(i.key)&&(this.wc=this.wc.add(i.key))});const t=[];return e.forEach(i=>{this.wc.has(i)||t.push(new uS(i))}),this.wc.forEach(i=>{e.has(i)||t.push(new lS(i))}),t}vc(e){this.dc=e.Ks,this.wc=Yn();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return Wv.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class Lk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Fk{constructor(e){this.key=e,this.Sc=!1}}class Bk{constructor(e,t,i,l,f,v){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Dc={},this.Cc=new Fg(b=>B_(b),Qf),this.Nc=new Map,this.xc=new Set,this.kc=new Qr(zt.comparator),this.Oc=new Map,this.Mc=new bA,this.$c={},this.Fc=new Map,this.Bc=Vh.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function Uk(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,ht.Z)(function*(n,e){const t=bI(n);let i,l;const f=t.Cc.get(e);if(f)i=f.targetId,t.sharedClientState.addLocalQueryTarget(i),l=f.view.Vc();else{const v=yield Kd(t.localStore,Dl(e));t.isPrimaryClient&&FE(t.remoteStore,v);const b=t.sharedClientState.addLocalQueryTarget(v.targetId);i=v.targetId,l=yield JA(t,e,i,"current"===b)}return l}),QA.apply(this,arguments)}function JA(n,e,t,i){return XA.apply(this,arguments)}function XA(){return XA=(0,ht.Z)(function*(n,e,t,i){n.Uc=(ve,_e,He)=>{return(qe=(0,ht.Z)(function*(ct,Mt,Gt,bn){let Wn=Mt.view.Ic(Gt);Wn.ks&&(Wn=yield dp(ct.localStore,Mt.query,!1).then(({documents:kr})=>Mt.view.Ic(kr,Wn)));const rr=bn&&bn.targetChanges.get(Mt.targetId),Cn=Mt.view.applyChanges(Wn,ct.isPrimaryClient,rr);return uI(ct,Mt.targetId,Cn.Pc),Cn.snapshot}),function(ct,Mt,Gt,bn){return qe.apply(this,arguments)})(n,ve,_e,He);var qe};const l=yield dp(n.localStore,e,!0),f=new cS(e,l.Ks),v=f.Ic(l.documents),b=np.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),M=f.applyChanges(v,n.isPrimaryClient,b);uI(n,t,M.Pc);const ee=new Lk(e,t,f);return n.Cc.set(e,ee),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),M.snapshot}),XA.apply(this,arguments)}function Vk(n,e){return eI.apply(this,arguments)}function eI(){return eI=(0,ht.Z)(function*(n,e){const t=Bt(n),i=t.Cc.get(e),l=t.Nc.get(i.targetId);if(l.length>1)return t.Nc.set(i.targetId,l.filter(f=>!Qf(f,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zd(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),C0(t.remoteStore,i.targetId),qv(t,i.targetId)}).catch(Hh))):(qv(t,i.targetId),yield Zd(t.localStore,i.targetId,!0))}),eI.apply(this,arguments)}function tI(){return tI=(0,ht.Z)(function*(n,e,t){const i=wI(n);try{const l=yield function(f,v){const b=Bt(f),M=Qi.now(),ee=v.reduce((_e,He)=>_e.add(He.key),Yn());let ve;return b.persistence.runTransaction("Locally write mutations","readwrite",_e=>b.Us.Es(_e,ee).next(He=>{ve=He;const qe=[];for(const ct of v){const Mt=ep(ct,ve.get(ct.key));null!=Mt&&qe.push(new ru(ct.key,Mt,Vw(Mt.value.mapValue),Ei.exists(!0)))}return b.gs.addMutationBatch(_e,M,qe,v)})).then(_e=>(_e.applyToLocalDocumentSet(ve),{batchId:_e.batchId,changes:ve}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(f,v,b){let M=f.$c[f.currentUser.toKey()];M||(M=new Qr(On)),M=M.insert(v,b),f.$c[f.currentUser.toKey()]=M}(i,l.batchId,t),yield zh(i,l.changes),yield jv(i.remoteStore)}catch(l){const f=Gv(l,"Failed to persist write");t.reject(f)}}),tI.apply(this,arguments)}function dS(n,e){return nI.apply(this,arguments)}function nI(){return nI=(0,ht.Z)(function*(n,e){const t=Bt(n);try{const i=yield Qn(t.localStore,e);e.targetChanges.forEach((l,f)=>{const v=t.Oc.get(f);v&&(dn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.Sc=!0:l.modifiedDocuments.size>0?dn(v.Sc):l.removedDocuments.size>0&&(dn(v.Sc),v.Sc=!1))}),yield zh(t,i,e)}catch(i){yield Hh(i)}}),nI.apply(this,arguments)}function hS(n,e,t){const i=Bt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const l=[];i.Cc.forEach((f,v)=>{const b=v.view.tc(e);b.snapshot&&l.push(b.snapshot)}),function(f,v){const b=Bt(f);b.onlineState=v;let M=!1;b.queries.forEach((ee,ve)=>{for(const _e of ve.listeners)_e.tc(v)&&(M=!0)}),M&&ZA(b)}(i.eventManager,e),l.length&&i.Dc.To(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function jk(n,e,t){return rI.apply(this,arguments)}function rI(){return rI=(0,ht.Z)(function*(n,e,t){const i=Bt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const l=i.Oc.get(e),f=l&&l.key;if(f){let v=new Qr(zt.comparator);v=v.insert(f,Yr.newNoDocument(f,un.min()));const b=Yn().add(f),M=new Sg(un.min(),new Map,new Br(On),v,b);yield dS(i,M),i.kc=i.kc.remove(f),i.Oc.delete(e),cI(i)}else yield Zd(i.localStore,e,!1).then(()=>qv(i,e,t)).catch(Hh)}),rI.apply(this,arguments)}function zk(n,e){return iI.apply(this,arguments)}function iI(){return iI=(0,ht.Z)(function*(n,e){const t=Bt(n),i=e.batch.batchId;try{const l=yield Xt(t.localStore,e);lI(t,i,null),aI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield zh(t,l)}catch(l){yield Hh(l)}}),iI.apply(this,arguments)}function Gk(n,e,t){return sI.apply(this,arguments)}function sI(){return sI=(0,ht.Z)(function*(n,e,t){const i=Bt(n);try{const l=yield function(f,v){const b=Bt(f);return b.persistence.runTransaction("Reject batch","readwrite-primary",M=>{let ee;return b.gs.lookupMutationBatch(M,v).next(ve=>(dn(null!==ve),ee=ve.keys(),b.gs.removeMutationBatch(M,ve))).next(()=>b.gs.performConsistencyCheck(M)).next(()=>b.Us.Es(M,ee))})}(i.localStore,e);lI(i,e,t),aI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield zh(i,l)}catch(l){yield Hh(l)}}),sI.apply(this,arguments)}function oI(){return oI=(0,ht.Z)(function*(n,e){const t=Bt(n);hp(t.remoteStore)||It("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(f){const v=Bt(f);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>v.gs.getHighestUnacknowledgedBatchId(b))}(t.localStore);if(-1===i)return void e.resolve();const l=t.Fc.get(i)||[];l.push(e),t.Fc.set(i,l)}catch(i){const l=Gv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),oI.apply(this,arguments)}function aI(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function lI(n,e,t){const i=Bt(n);let l=i.$c[i.currentUser.toKey()];if(l){const f=l.get(e);f&&(t?f.reject(t):f.resolve(),l=l.remove(e)),i.$c[i.currentUser.toKey()]=l}}function qv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Nc.get(e))n.Cc.delete(i),t&&n.Dc.qc(i,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(i=>{n.Mc.containsKey(i)||fS(n,i)})}function fS(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(C0(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),cI(n))}function uI(n,e,t){for(const i of t)i instanceof lS?(n.Mc.addReference(i.key,e),Wk(n,i)):i instanceof uS?(It("SyncEngine","Document no longer in limbo: "+i.key),n.Mc.removeReference(i.key,e),n.Mc.containsKey(i.key)||fS(n,i.key)):Zt()}function Wk(n,e){const t=e.key,i=t.path.canonicalString();n.kc.get(t)||n.xc.has(i)||(It("SyncEngine","New document in limbo: "+t),n.xc.add(i),cI(n))}function cI(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new zt(Rn.fromString(e)),i=n.Bc.next();n.Oc.set(i,new Fk(t)),n.kc=n.kc.insert(t,i),FE(n.remoteStore,new Gd(Dl(Hd(t.path)),i,2,Ho.A))}}function zh(n,e,t){return dI.apply(this,arguments)}function dI(){return dI=(0,ht.Z)(function*(n,e,t){const i=Bt(n),l=[],f=[],v=[];var b;i.Cc.isEmpty()||(i.Cc.forEach((b,M)=>{v.push(i.Uc(M,e,t).then(ee=>{if(ee){i.isPrimaryClient&&i.sharedClientState.updateQueryState(M.targetId,ee.fromCache?"not-current":"current"),l.push(ee);const ve=$e.Ss(M.targetId,ee);f.push(ve)}}))}),yield Promise.all(v),i.Dc.To(l),yield(b=(0,ht.Z)(function*(M,ee){const ve=Bt(M);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",_e=>it.forEach(ee,He=>it.forEach(He.vs,qe=>ve.persistence.referenceDelegate.addReference(_e,He.targetId,qe)).next(()=>it.forEach(He.Vs,qe=>ve.persistence.referenceDelegate.removeReference(_e,He.targetId,qe)))))}catch(_e){if(!zc(_e))throw _e;It("LocalStore","Failed to update sequence numbers: "+_e)}for(const _e of ee){const He=_e.targetId;if(!_e.fromCache){const qe=ve.Ms.get(He),Mt=qe.withLastLimboFreeSnapshotVersion(qe.snapshotVersion);ve.Ms=ve.Ms.insert(He,Mt)}}}),function(M,ee){return b.apply(this,arguments)})(i.localStore,f))}),dI.apply(this,arguments)}function qk(n,e){return hI.apply(this,arguments)}function hI(){return hI=(0,ht.Z)(function*(n,e){const t=Bt(n);if(!t.currentUser.isEqual(e)){It("SyncEngine","User change. New user:",e.toKey());const i=yield $t(t.localStore,e);t.currentUser=e,(l=t).Fc.forEach(v=>{v.forEach(b=>{b.reject(new bt(et.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Fc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield zh(t,i.qs)}var l}),hI.apply(this,arguments)}function Kk(n,e){const t=Bt(n),i=t.Oc.get(e);if(i&&i.Sc)return Yn().add(i.key);{let l=Yn();const f=t.Nc.get(e);if(!f)return l;for(const v of f){const b=t.Cc.get(v);l=l.unionWith(b.view.yc)}return l}}function Zk(n,e){return fI.apply(this,arguments)}function fI(){return fI=(0,ht.Z)(function*(n,e){const t=Bt(n),i=yield dp(t.localStore,e.query,!0),l=e.view.vc(i);return t.isPrimaryClient&&uI(t,e.targetId,l.Pc),l}),fI.apply(this,arguments)}function Yk(n){return pI.apply(this,arguments)}function pI(){return pI=(0,ht.Z)(function*(n){const e=Bt(n);return Vv(e.localStore).then(t=>zh(e,t))}),pI.apply(this,arguments)}function Qk(n,e,t,i){return gI.apply(this,arguments)}function gI(){return gI=(0,ht.Z)(function*(n,e,t,i){const l=Bt(n),f=yield function(v,b){const M=Bt(v),ee=Bt(M.gs);return M.persistence.runTransaction("Lookup mutation documents","readonly",ve=>ee.Ge(ve,b).next(_e=>_e?M.Us.Es(ve,_e):it.resolve(null)))}(l.localStore,e);var b;null!==f?("pending"===t?yield jv(l.remoteStore):"acknowledged"===t||"rejected"===t?(lI(l,e,i||null),aI(l,e),b=e,Bt(Bt(l.localStore).gs).Qe(b)):Zt(),yield zh(l,f)):It("SyncEngine","Cannot apply mutation batch with id: "+e)}),gI.apply(this,arguments)}function mI(){return mI=(0,ht.Z)(function*(n,e){const t=Bt(n);if(bI(t),wI(t),!0===e&&!0!==t.Lc){const i=t.sharedClientState.getAllActiveQueryTargets(),l=yield pS(t,i.toArray());t.Lc=!0,yield jA(t.remoteStore,!0);for(const f of l)FE(t.remoteStore,f)}else if(!1===e&&!1!==t.Lc){const i=[];let l=Promise.resolve();t.Nc.forEach((f,v)=>{t.sharedClientState.isLocalQueryTarget(v)?i.push(v):l=l.then(()=>(qv(t,v),Zd(t.localStore,v,!0))),C0(t.remoteStore,v)}),yield l,yield pS(t,i),function(f){const v=Bt(f);v.Oc.forEach((b,M)=>{C0(v.remoteStore,M)}),v.Mc.ii(),v.Oc=new Map,v.kc=new Qr(zt.comparator)}(t),t.Lc=!1,yield jA(t.remoteStore,!1)}}),mI.apply(this,arguments)}function pS(n,e,t){return vI.apply(this,arguments)}function vI(){return vI=(0,ht.Z)(function*(n,e,t){const i=Bt(n),l=[],f=[];for(const v of e){let b;const M=i.Nc.get(v);if(M&&0!==M.length){b=yield Kd(i.localStore,Dl(M[0]));for(const ee of M){const ve=i.Cc.get(ee),_e=yield Zk(i,ve);_e.snapshot&&f.push(_e.snapshot)}}else{const ee=yield Uv(i.localStore,v);b=yield Kd(i.localStore,ee),yield JA(i,gS(ee),v,!1)}l.push(b)}return i.Dc.To(f),l}),vI.apply(this,arguments)}function gS(n){return Kw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Xk(n){const e=Bt(n);return Bt(Bt(e.localStore).persistence).ds()}function e1(n,e,t,i){return yI.apply(this,arguments)}function yI(){return yI=(0,ht.Z)(function*(n,e,t,i){const l=Bt(n);if(l.Lc)It("SyncEngine","Ignoring unexpected query state notification.");else if(l.Nc.has(e))switch(t){case"current":case"not-current":{const f=yield Vv(l.localStore),v=Sg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield zh(l,f,v);break}case"rejected":yield Zd(l.localStore,e,!0),qv(l,e,i);break;default:Zt()}}),yI.apply(this,arguments)}function t1(n,e,t){return _I.apply(this,arguments)}function _I(){return _I=(0,ht.Z)(function*(n,e,t){const i=bI(n);if(i.Lc){for(const l of e){if(i.Nc.has(l)){It("SyncEngine","Adding an already active target "+l);continue}const f=yield Uv(i.localStore,l),v=yield Kd(i.localStore,f);yield JA(i,gS(f),v.targetId,!1),FE(i.remoteStore,v)}for(const l of t)i.Nc.has(l)&&(yield Zd(i.localStore,l,!1).then(()=>{C0(i.remoteStore,l),qv(i,l)}).catch(Hh))}}),_I.apply(this,arguments)}function bI(n){const e=Bt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jk.bind(null,e),e.Dc.To=Ok.bind(null,e.eventManager),e.Dc.qc=Rk.bind(null,e.eventManager),e}function wI(n){const e=Bt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gk.bind(null,e),e}class mS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ht.Z)(function*(){t.O=w0(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return Nt(this.persistence,new ut,e.initialUser,this.O)}jc(e){return new ck(wA.bi,this.O)}Gc(e){return new ZT}terminate(){var e=this;return(0,ht.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vS extends mS{constructor(e,t,i){super(),this.zc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ht.Z)(function*(){yield t().call(i,e),yield function y0(n){return Ug.apply(this,arguments)}(i.localStore),yield i.zc.initialize(i,e),yield wI(i.zc.syncEngine),yield jv(i.zc.remoteStore),yield i.persistence.Hn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Wc(e){return Nt(this.persistence,new ut,e.initialUser,this.O)}Qc(e){return new GT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}jc(e){const t=le(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?za.withCacheSize(this.cacheSizeBytes):za.DEFAULT;return new A(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,QT(),LE(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(e){return new ZT}}class r1 extends vS{constructor(e,t){super(e,t,!1),this.zc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ht.Z)(function*(){yield t().call(i,e);const l=i.zc.syncEngine;i.sharedClientState instanceof AA&&(i.sharedClientState.syncEngine={hr:Qk.bind(null,l),lr:e1.bind(null,l),dr:t1.bind(null,l),ds:Xk.bind(null,l),ar:Yk.bind(null,l)},yield i.sharedClientState.start()),yield i.persistence.Hn(function(){var f=(0,ht.Z)(function*(v){yield function Jk(n,e){return mI.apply(this,arguments)}(i.zc.syncEngine,v),i.gcScheduler&&(v&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):v||i.gcScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}Gc(e){const t=QT();if(!AA.Vt(t))throw new bt(et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=le(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class EI{initialize(e,t){var i=this;return(0,ht.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=l=>hS(i.syncEngine,l,1),i.remoteStore.remoteSyncer.handleCredentialChange=qk.bind(null,i.syncEngine),yield jA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Mk}createDatastore(e){const t=w0(e.databaseInfo.databaseId),i=new gk(e.databaseInfo);return new yk(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,l=e.asyncQueue,f=b=>hS(this.syncEngine,b,0),v=YT.Vt()?new YT:new hk,new bk(t,i,l,f,v);var t,i,l,f,v}createSyncEngine(e,t){return function(i,l,f,v,b,M,ee){const ve=new Bk(i,l,f,v,b,M);return ee&&(ve.Lc=!0),ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ht.Z)(function*(t){const i=Bt(t);It("RemoteStore","RemoteStore shutting down."),i.Ko.add(5),yield Hv(i),i.jo.shutdown(),i.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yS(n,e=10240){let t=0;return{read:()=>(0,ht.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ht.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class UE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class i1{constructor(e,t){this.Yc=e,this.O=t,this.metadata=new Yi,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(i=>{i&&i.ac()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Yc.cancel()}getMetadata(){var e=this;return(0,ht.Z)(function*(){return e.metadata.promise})()}Kc(){var e=this;return(0,ht.Z)(function*(){return yield e.getMetadata(),e.Zc()})()}Zc(){var e=this;return(0,ht.Z)(function*(){const t=yield e.tu();if(null===t)return null;const i=e.Xc.decode(t),l=Number(i);isNaN(l)&&e.eu(`length string (${i}) is not valid number`);const f=yield e.nu(l);return new Nk(JSON.parse(f),t.length+l)})()}su(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}tu(){var e=this;return(0,ht.Z)(function*(){for(;e.su()<0&&!(yield e.iu()););if(0===e.buffer.length)return null;const t=e.su();t<0&&e.eu("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}nu(e){var t=this;return(0,ht.Z)(function*(){for(;t.buffer.length<e;)(yield t.iu())&&t.eu("Reached the end of bundle when more is expected.");const i=t.Xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}eu(e){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${e}`)}iu(){var e=this;return(0,ht.Z)(function*(){const t=yield e.Yc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class s1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ht.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new bt(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(l=(0,ht.Z)(function*(f,v){const b=Bt(f),M=Dv(b.O)+"/documents",ee={documents:v.map(qe=>Cv(b.O,qe))},ve=yield b.Lr("BatchGetDocuments",M,ee),_e=new Map;ve.forEach(qe=>{const ct=function rp(n,e){return"found"in e?function(t,i){dn(!!i.found);const l=Hc(t,i.found.name),f=Ls(i.found.updateTime),v=new ds({mapValue:{fields:i.found.fields}});return Yr.newFoundDocument(l,f,v)}(n,e):"missing"in e?function(t,i){dn(!!i.missing),dn(!!i.readTime);const l=Hc(t,i.missing),f=Ls(i.readTime);return Yr.newNoDocument(l,f)}(n,e):Zt()}(b.O,qe);_e.set(ct.key.toString(),ct)});const He=[];return v.forEach(qe=>{const ct=_e.get(qe.toString());dn(!!ct),He.push(ct)}),He}),function(f,v){return l.apply(this,arguments)})(t.datastore,e);var l;return i.forEach(l=>t.recordVersion(l)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new tp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ht.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,l)=>{const f=zt.fromPath(l);e.mutations.push(new z_(f,e.precondition(f)))}),yield(i=(0,ht.Z)(function*(l,f){const v=Bt(l),b=Dv(v.O)+"/documents",M={writes:f.map(ee=>Og(v.O,ee))};yield v.Mr("Commit",b,M)}),function(l,f){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zt();t=un.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new bt(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ei.updateTime(t):Ei.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(un.min()))throw new bt(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ei.updateTime(t)}return Ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class o1{constructor(e,t,i,l){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=l,this.ru=5,this.ro=new IA(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var e=this;this.ro.Hr((0,ht.Z)(function*(){const t=new s1(e.datastore),i=e.cu(t);i&&i.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(f=>{e.uu(f)}))}).catch(l=>{e.uu(l)})}))}cu(e){try{const t=this.updateFunction(e);return!Bd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}uu(e){this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(e)}au(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!G_(t)}return!1}}class a1{constructor(e,t,i,l){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=l,this.user=Zi.UNAUTHENTICATED,this.clientId=x_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var v=(0,ht.Z)(function*(b){It("FirestoreClient","Received user=",b.uid),yield f.authCredentialListener(b),f.user=b});return function(b){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(i,v=>(It("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,ht.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new bt(et.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ht.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const l=Gv(i,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function _S(n,e){return CI.apply(this,arguments)}function CI(){return CI=(0,ht.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),It("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var l=(0,ht.Z)(function*(f){i.isEqual(f)||(yield $t(e.localStore,f),i=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),CI.apply(this,arguments)}function bS(n,e){return DI.apply(this,arguments)}function DI(){return DI=(0,ht.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield AI(n);It("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(l=>iS(e.remoteStore,l)),n.setAppCheckTokenChangeListener((l,f)=>iS(e.remoteStore,f)),n.onlineComponents=e}),DI.apply(this,arguments)}function AI(n){return II.apply(this,arguments)}function II(){return II=(0,ht.Z)(function*(n){return n.offlineComponents||(It("FirestoreClient","Using default OfflineComponentProvider"),yield _S(n,new mS)),n.offlineComponents}),II.apply(this,arguments)}function VE(n){return TI.apply(this,arguments)}function TI(){return TI=(0,ht.Z)(function*(n){return n.onlineComponents||(It("FirestoreClient","Using default OnlineComponentProvider"),yield bS(n,new EI)),n.onlineComponents}),TI.apply(this,arguments)}function wS(n){return AI(n).then(e=>e.persistence)}function SI(n){return AI(n).then(e=>e.localStore)}function ES(n){return VE(n).then(e=>e.remoteStore)}function xI(n){return VE(n).then(e=>e.syncEngine)}function Kv(n){return kI.apply(this,arguments)}function kI(){return kI=(0,ht.Z)(function*(n){const e=yield VE(n),t=e.eventManager;return t.onListen=Uk.bind(null,e.syncEngine),t.onUnlisten=Vk.bind(null,e.syncEngine),t}),kI.apply(this,arguments)}function CS(n,e,t={}){const i=new Yi;return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function(l,f,v,b,M){const ee=new UE({next:_e=>{f.enqueueAndForget(()=>qA(l,ve));const He=_e.docs.has(v);!He&&_e.fromCache?M.reject(new bt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):He&&_e.fromCache&&b&&"server"===b.source?M.reject(new bt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):M.resolve(_e)},error:_e=>M.reject(_e)}),ve=new YA(Hd(v.path),ee,{includeMetadataChanges:!0,uc:!0});return $A(l,ve)}(yield Kv(n),n.asyncQueue,e,t,i)})),i.promise}function DS(n,e,t={}){const i=new Yi;return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function(l,f,v,b,M){const ee=new UE({next:_e=>{f.enqueueAndForget(()=>qA(l,ve)),_e.fromCache&&"server"===b.source?M.reject(new bt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):M.resolve(_e)},error:_e=>M.reject(_e)}),ve=new YA(v,ee,{includeMetadataChanges:!0,uc:!0});return $A(l,ve)}(yield Kv(n),n.asyncQueue,e,t,i)})),i.promise}const AS=new Map;function MI(n,e,t){if(!t)throw new bt(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IS(n,e,t,i){if(!0===e&&!0===i)throw new bt(et.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TS(n){if(!zt.isDocumentKey(n))throw new bt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SS(n){if(zt.isDocumentKey(n))throw new bt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Zt()}function jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new bt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=HE(n);throw new bt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xS(n,e){if(e<=0)throw new bt(et.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class kS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new bt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new bt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,IS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D0{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kS({}),this._settingsFrozen=!1,e instanceof Fd?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new bt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(l.options.projectId)}(e))}get app(){if(!this._app)throw new bt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new bt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PD;switch(t.type){case"gapi":const i=t.client;return dn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Pw(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new bt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AS.get(e);t&&(It("ComponentProvider","Removing Datastore"),AS.delete(e),t.terminate())}(this),Promise.resolve()}}class Xr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class pa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class Yd extends pa{constructor(e,t,i){super(e,t,Hd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new zt(e))}withConverter(e){return new Yd(this.firestore,e,this._path)}}function MS(n,e,...t){if(n=(0,Sn.m9)(n),MI("collection","path",e),n instanceof D0){const i=Rn.fromString(e,...t);return SS(i),new Yd(n,null,i)}{if(!(n instanceof Xr||n instanceof Yd))throw new bt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rn.fromString(e,...t));return SS(i),new Yd(n.firestore,null,i)}}function jE(n,e,...t){if(n=(0,Sn.m9)(n),1===arguments.length&&(e=x_.R()),MI("doc","path",e),n instanceof D0){const i=Rn.fromString(e,...t);return TS(i),new Xr(n,null,new zt(i))}{if(!(n instanceof Xr||n instanceof Yd))throw new bt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rn.fromString(e,...t));return TS(i),new Xr(n.firestore,n instanceof Yd?n.converter:null,new zt(i))}}function OS(n,e){return n=(0,Sn.m9)(n),e=(0,Sn.m9)(e),(n instanceof Xr||n instanceof Yd)&&(e instanceof Xr||e instanceof Yd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RS(n,e){return n=(0,Sn.m9)(n),e=(0,Sn.m9)(e),n instanceof pa&&e instanceof pa&&n.firestore===e.firestore&&Qf(n._query,e._query)&&n.converter===e.converter}class y1{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new IA(this,"async_queue_retry"),this.yu=()=>{const t=LE();t&&It("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=LE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=LE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new Yi;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return(0,ht.Z)(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!zc(t))throw t;It("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(i=>{throw this._u=i,this.wu=!1,Li("INTERNAL UNHANDLED ERROR: ",function(f){let v=f.message||"";return f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),v}(i)),i}).then(i=>(this.wu=!1,i))));return this.hu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const l=GA.createAndSchedule(this,e,t,i,f=>this.Tu(f));return this.du.push(l),l}pu(){this._u&&Zt()}verifyOperationInProgress(){}Au(){var e=this;return(0,ht.Z)(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function OI(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const l of["next","error","complete"])if(l in i&&"function"==typeof i[l])return!0;return!1}(n)}class _1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class li extends D0{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new y1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||NS(this),this._firestoreClient.terminate()}}function vs(n){return n._firestoreClient||NS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function NS(n){var e;const t=n._freezeSettings(),i=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new jD(n._databaseId,f,n._persistenceKey,(b=t).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var f,b;n._firestoreClient=new a1(n._authCredentials,n._appCheckCredentials,n._queue,i)}function PS(n,e,t){const i=new Yi;return n.asyncQueue.enqueue((0,ht.Z)(function*(){try{yield _S(n,t),yield bS(n,e),i.resolve()}catch(l){if(!("FirebaseError"===(f=l).name?f.code===et.FAILED_PRECONDITION||f.code===et.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),i.reject(l)}var f})).then(()=>i.promise)}function LS(n){if(n._initialized||n._terminated)throw new bt(et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new bt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ns(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qd(Ji.fromBase64String(e))}catch(t){throw new bt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qd(Ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vg{constructor(e){this._methodName=e}}class zE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new bt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new bt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return On(this._lat,e._lat)||On(this._long,e._long)}}const x1=/^__.*__$/;class k1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ru(e,this.data,this.fieldMask,t,this.fieldTransforms):new wv(e,this.data,t,this.fieldTransforms)}}class FS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ru(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zt()}}class GE{constructor(e,t,i,l,f,v){this.settings=e,this.databaseId=t,this.O=i,this.ignoreUndefinedProperties=l,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new GE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Su({path:i,Cu:!1});return l.Nu(e),l}xu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Su({path:i,Cu:!1});return l.vu(),l}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return qE(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(BS(this.Vu)&&x1.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class M1{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=i||w0(e)}Fu(e,t,i,l=!1){return new GE({Vu:e,methodName:t,$u:i,path:Ns.emptyPath(),Cu:!1,Mu:l},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function Hg(n){const e=n._freezeSettings(),t=w0(n._databaseId);return new M1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $E(n,e,t,i,l,f={}){const v=n.Fu(f.merge||f.mergeFields?2:0,e,t,l);LI("Data must be an object, but it was:",v,i);const b=HS(i,v);let M,ee;if(f.merge)M=new kh(v.fieldMask),ee=v.fieldTransforms;else if(f.mergeFields){const ve=[];for(const _e of f.mergeFields){const He=FI(e,_e,t);if(!v.contains(He))throw new bt(et.INVALID_ARGUMENT,`Field '${He}' is specified in your field mask but missing from your input data.`);zS(ve,He)||ve.push(He)}M=new kh(ve),ee=v.fieldTransforms.filter(_e=>M.covers(_e.field))}else M=null,ee=v.fieldTransforms;return new k1(new ds(b),M,ee)}class A0 extends Vg{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof A0}}function US(n,e,t){return new GE({Vu:3,$u:e.settings.$u,methodName:n._methodName,Cu:t},e.databaseId,e.O,e.ignoreUndefinedProperties)}class RI extends Vg{_toFieldTransform(e){return new Xf(e.path,new Jf)}isEqual(e){return e instanceof RI}}class O1 extends Vg{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=US(this,e,!0),i=this.Bu.map(f=>jg(f,t)),l=new Nh(i);return new Xf(e.path,l)}isEqual(e){return this===e}}class R1 extends Vg{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=US(this,e,!0),i=this.Bu.map(f=>jg(f,t)),l=new zd(i);return new Xf(e.path,l)}isEqual(e){return this===e}}class N1 extends Vg{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new Ph(e.O,yv(e.O,this.Lu));return new Xf(e.path,t)}isEqual(e){return this===e}}function NI(n,e,t,i){const l=n.Fu(1,e,t);LI("Data must be an object, but it was:",l,i);const f=[],v=ds.empty();nu(i,(M,ee)=>{const ve=WE(e,M,t);ee=(0,Sn.m9)(ee);const _e=l.xu(ve);if(ee instanceof A0)f.push(ve);else{const He=jg(ee,_e);null!=He&&(f.push(ve),v.set(ve,He))}});const b=new kh(f);return new FS(v,b,l.fieldTransforms)}function PI(n,e,t,i,l,f){const v=n.Fu(1,e,t),b=[FI(e,i,t)],M=[l];if(f.length%2!=0)throw new bt(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let He=0;He<f.length;He+=2)b.push(FI(e,f[He])),M.push(f[He+1]);const ee=[],ve=ds.empty();for(let He=b.length-1;He>=0;--He)if(!zS(ee,b[He])){const qe=b[He];let ct=M[He];ct=(0,Sn.m9)(ct);const Mt=v.xu(qe);if(ct instanceof A0)ee.push(qe);else{const Gt=jg(ct,Mt);null!=Gt&&(ee.push(qe),ve.set(qe,Gt))}}const _e=new kh(ee);return new FS(ve,_e,v.fieldTransforms)}function VS(n,e,t,i=!1){return jg(t,n.Fu(i?4:3,e))}function jg(n,e){if(jS(n=(0,Sn.m9)(n)))return LI("Unsupported field value:",e,n),HS(n,e);if(n instanceof Vg)return function(t,i){if(!BS(i.Vu))throw i.Ou(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Ou(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(i);l&&i.fieldTransforms.push(l)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,i){const l=[];let f=0;for(const v of t){let b=jg(v,i.ku(f));null==b&&(b={nullValue:"NULL_VALUE"}),l.push(b),f++}return{arrayValue:{values:l}}}(n,e)}return function(t,i){if(null===(t=(0,Sn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yv(i.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Qi.fromDate(t);return{timestampValue:kg(i.O,l)}}if(t instanceof Qi){const l=new Qi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:kg(i.O,l)}}if(t instanceof zE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qd)return{bytesValue:nA(i.O,t._byteString)};if(t instanceof Xr){const l=i.databaseId,f=t.firestore._databaseId;if(!f.isEqual(l))throw i.Ou(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.Ou(`Unsupported field value: ${HE(t)}`)}(n,e)}function HS(n,e){const t={};return Bw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nu(n,(i,l)=>{const f=jg(l,e.Du(i));null!=f&&(t[i]=f)}),{mapValue:{fields:t}}}function jS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qi||n instanceof zE||n instanceof Qd||n instanceof Xr||n instanceof Vg)}function LI(n,e,t){if(!jS(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=HE(t);throw e.Ou("an object"===i?n+" a custom object":n+" "+i)}var i}function FI(n,e,t){if((e=(0,Sn.m9)(e))instanceof Gh)return e._internalPath;if("string"==typeof e)return WE(n,e);throw qE("Field path arguments must be of type string or ",n,!1,void 0,t)}const P1=new RegExp("[~\\*/\\[\\]]");function WE(n,e,t){if(e.search(P1)>=0)throw qE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gh(...e.split("."))._internalPath}catch(i){throw qE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qE(n,e,t,i,l){const f=i&&!i.isEmpty(),v=void 0!==l;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let M="";return(f||v)&&(M+=" (found",f&&(M+=` in field ${i}`),v&&(M+=` in document ${l}`),M+=")"),new bt(et.INVALID_ARGUMENT,b+n+M)}function zS(n,e){return n.some(t=>t.isEqual(e))}class I0{constructor(e,t,i,l,f){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new L1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(KE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class L1 extends I0{data(){return super.data()}}function KE(n,e){return"string"==typeof e?WE(n,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}class zg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $h extends I0{constructor(e,t,i,l,f,v){super(e,t,i,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(KE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class T0 extends $h{data(e={}){return super.data(e)}}class pp{constructor(e,t,i,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new zg(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new T0(this._firestore,this._userDataWriter,i.key,i,new zg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new bt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,l){if(i._snapshot.oldDocs.isEmpty()){let f=0;return i._snapshot.docChanges.map(v=>({type:"added",doc:new T0(i._firestore,i._userDataWriter,v.doc.key,v.doc,new zg(i._snapshot.mutatedKeys.has(v.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:f++}))}{let f=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(v=>l||3!==v.type).map(v=>{const b=new T0(i._firestore,i._userDataWriter,v.doc.key,v.doc,new zg(i._snapshot.mutatedKeys.has(v.doc.key),i._snapshot.fromCache),i.query.converter);let M=-1,ee=-1;return 0!==v.type&&(M=f.indexOf(v.doc.key),f=f.delete(v.doc.key)),1!==v.type&&(f=f.add(v.doc),ee=f.indexOf(v.doc.key)),{type:F1(v.type),doc:b,oldIndex:M,newIndex:ee}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function F1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zt()}}function GS(n,e){return n instanceof $h&&e instanceof $h?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pp&&e instanceof pp&&n._firestore===e._firestore&&RS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function $S(n){if(gv(n)&&0===n.explicitOrderBy.length)throw new bt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S0{}function gp(n,...e){for(const t of e)n=t._apply(n);return n}class B1 extends S0{constructor(e,t,i){super(),this.Uu=e,this.qu=t,this.Ku=i,this.type="where"}_apply(e){const t=Hg(e.firestore),i=function(l,f,v,b,M,ee,ve){let _e;if(M.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new bt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){QS(ve,ee);const qe=[];for(const ct of ve)qe.push(YS(b,l,ct));_e={arrayValue:{values:qe}}}else _e=YS(b,l,ve)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||QS(ve,ee),_e=VS(v,"where",ve,"in"===ee||"not-in"===ee);const He=lo.create(M,ee,_e);return function(qe,ct){if(ct.S()){const Gt=F_(qe);if(null!==Gt&&!Gt.isEqual(ct.field))throw new bt(et.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Gt.toString()}' and '${ct.field.toString()}'`);const bn=L_(qe);null!==bn&&JS(0,ct.field,bn)}const Mt=function(Gt,bn){for(const Wn of Gt.filters)if(bn.indexOf(Wn.op)>=0)return Wn.op;return null}(qe,function(Gt){switch(Gt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ct.op));if(null!==Mt)throw new bt(et.INVALID_ARGUMENT,Mt===ct.op?`Invalid query. You cannot use more than one '${ct.op.toString()}' filter.`:`Invalid query. You cannot use '${ct.op.toString()}' filters with '${Mt.toString()}' filters.`)}(l,He),He}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new pa(e.firestore,e.converter,function(l,f){const v=l.filters.concat([f]);return new hs(l.path,l.collectionGroup,l.explicitOrderBy.slice(),v,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,i))}}class V1 extends S0{constructor(e,t){super(),this.Uu=e,this.Gu=t,this.type="orderBy"}_apply(e){const t=function(i,l,f){if(null!==i.startAt)throw new bt(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new bt(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Zf(l,f);return function(b,M){if(null===L_(b)){const ee=F_(b);null!==ee&&JS(0,ee,M.field)}}(i,v),v}(e._query,this.Uu,this.Gu);return new pa(e.firestore,e.converter,function(i,l){const f=i.explicitOrderBy.concat([l]);return new hs(i.path,i.collectionGroup,f,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class WS extends S0{constructor(e,t,i){super(),this.type=e,this.ju=t,this.Qu=i}_apply(e){return new pa(e.firestore,e.converter,Zw(e._query,this.ju,this.Qu))}}class qS extends S0{constructor(e,t,i){super(),this.type=e,this.Wu=t,this.zu=i}_apply(e){const t=ZS(e,this.type,this.Wu,this.zu);return new pa(e.firestore,e.converter,(l=t,new hs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)));var i,l}}class KS extends S0{constructor(e,t,i){super(),this.type=e,this.Wu=t,this.zu=i}_apply(e){const t=ZS(e,this.type,this.Wu,this.zu);return new pa(e.firestore,e.converter,(l=t,new hs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,l)));var i,l}}function ZS(n,e,t,i){if(t[0]=(0,Sn.m9)(t[0]),t[0]instanceof I0)return function(l,f,v,b,M){if(!b)throw new bt(et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const ee=[];for(const ve of Uc(l))if(ve.field.isKeyField())ee.push(M_(f,b.key));else{const _e=b.data.field(ve.field);if(pg(_e))throw new bt(et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_e){const He=ve.field.canonicalString();throw new bt(et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${He}' (used as the orderBy) does not exist.`)}ee.push(_e)}return new Kf(ee,M)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const l=Hg(n.firestore);return function(f,v,b,M,ee,ve){const _e=f.explicitOrderBy;if(ee.length>_e.length)throw new bt(et.INVALID_ARGUMENT,`Too many arguments provided to ${M}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const He=[];for(let qe=0;qe<ee.length;qe++){const ct=ee[qe];if(_e[qe].field.isKeyField()){if("string"!=typeof ct)throw new bt(et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${M}(), but got a ${typeof ct}`);if(!Yf(f)&&-1!==ct.indexOf("/"))throw new bt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${M}() must be a plain document ID, but '${ct}' contains a slash.`);const Mt=f.path.child(Rn.fromString(ct));if(!zt.isDocumentKey(Mt))throw new bt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${M}() must result in a valid document path, but '${Mt}' is not because it contains an odd number of segments.`);const Gt=new zt(Mt);He.push(M_(v,Gt))}else{const Mt=VS(b,M,ct);He.push(Mt)}}return new Kf(He,ve)}(n._query,n.firestore._databaseId,l,e,t,i)}}function YS(n,e,t){if("string"==typeof(t=(0,Sn.m9)(t))){if(""===t)throw new bt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yf(e)&&-1!==t.indexOf("/"))throw new bt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Rn.fromString(t));if(!zt.isDocumentKey(i))throw new bt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return M_(n,new zt(i))}if(t instanceof Xr)return M_(n,t._key);throw new bt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HE(t)}.`)}function QS(n,e){if(!Array.isArray(n)||0===n.length)throw new bt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new bt(et.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function JS(n,e,t){if(!t.isEqual(e))throw new bt(et.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class BI{convertValue(e,t="none"){switch(Mh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ld(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zt()}}convertObject(e,t){const i={};return nu(e.fields,(l,f)=>{i[l]=this.convertValue(f,t)}),i}convertGeoPoint(e){return new zE(Zr(e.latitude),Zr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gg(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const t=Pd(e);return new Qi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Rn.fromString(e);dn(gE(i));const l=new Fd(i.get(1),i.get(3)),f=new zt(i.popFirst(5));return l.isEqual(t)||Li(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}function ZE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class K1 extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,t)}}class XS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hg(e)}set(e,t,i){this._verifyNotCommitted();const l=mp(e,this._firestore),f=ZE(l.converter,t,i),v=$E(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,i);return this._mutations.push(v.toMutation(l._key,Ei.none())),this}update(e,t,i,...l){this._verifyNotCommitted();const f=mp(e,this._firestore);let v;return v="string"==typeof(t=(0,Sn.m9)(t))||t instanceof Gh?PI(this._dataReader,"WriteBatch.update",f._key,t,i,l):NI(this._dataReader,"WriteBatch.update",f._key,t),this._mutations.push(v.toMutation(f._key,Ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mp(e,this._firestore);return this._mutations=this._mutations.concat(new tp(t._key,Ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new bt(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mp(n,e){if((n=(0,Sn.m9)(n)).firestore!==e)throw new bt(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Gg extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,t)}}function ex(n,e,t){n=jn(n,Xr);const i=jn(n.firestore,li),l=ZE(n.converter,e,t);return Zv(i,[$E(Hg(i),"setDoc",n._key,l,null!==n.converter,t).toMutation(n._key,Ei.none())])}function tx(n,e,t,...i){n=jn(n,Xr);const l=jn(n.firestore,li),f=Hg(l);let v;return v="string"==typeof(e=(0,Sn.m9)(e))||e instanceof Gh?PI(f,"updateDoc",n._key,e,t,i):NI(f,"updateDoc",n._key,e),Zv(l,[v.toMutation(n._key,Ei.exists(!0))])}function nx(n,...e){var t,i,l;n=(0,Sn.m9)(n);let f={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||OI(e[v])||(f=e[v],v++);const b={includeMetadataChanges:f.includeMetadataChanges};if(OI(e[v])){const _e=e[v];e[v]=null===(t=_e.next)||void 0===t?void 0:t.bind(_e),e[v+1]=null===(i=_e.error)||void 0===i?void 0:i.bind(_e),e[v+2]=null===(l=_e.complete)||void 0===l?void 0:l.bind(_e)}let M,ee,ve;if(n instanceof Xr)ee=jn(n.firestore,li),ve=Hd(n._key.path),M={next:_e=>{e[v]&&e[v](UI(ee,n,_e))},error:e[v+1],complete:e[v+2]};else{const _e=jn(n,pa);ee=jn(_e.firestore,li),ve=_e._query;const He=new Gg(ee);M={next:qe=>{e[v]&&e[v](new pp(ee,He,_e,qe))},error:e[v+1],complete:e[v+2]},$S(n._query)}return function(_e,He,qe,ct){const Mt=new UE(ct),Gt=new YA(He,Mt,qe);return _e.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return $A(yield Kv(_e),Gt)})),()=>{Mt.Jc(),_e.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return qA(yield Kv(_e),Gt)}))}}(vs(ee),ve,b,M)}function Zv(n,e){return function(t,i){const l=new Yi;return t.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function Hk(n,e,t){return tI.apply(this,arguments)}(yield xI(t),i,l)})),l.promise}(vs(n),e)}function UI(n,e,t){const i=t.docs.get(e._key),l=new Gg(n);return new $h(n,l,e._key,i,new zg(t.hasPendingWrites,t.fromCache),e.converter)}class iM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hg(e)}get(e){const t=mp(e,this._firestore),i=new K1(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Zt();const f=l[0];if(f.isFoundDocument())return new I0(this._firestore,i,f.key,f,t.converter);if(f.isNoDocument())return new I0(this._firestore,i,t._key,null,t.converter);throw Zt()})}set(e,t,i){const l=mp(e,this._firestore),f=ZE(l.converter,t,i),v=$E(this._dataReader,"Transaction.set",l._key,f,null!==l.converter,i);return this._transaction.set(l._key,v),this}update(e,t,i,...l){const f=mp(e,this._firestore);let v;return v="string"==typeof(t=(0,Sn.m9)(t))||t instanceof Gh?PI(this._dataReader,"Transaction.update",f._key,t,i,l):NI(this._dataReader,"Transaction.update",f._key,t),this._transaction.update(f._key,v),this}delete(e){const t=mp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mp(e,this._firestore),i=new Gg(this._firestore);return super.get(e).then(l=>new $h(this._firestore,i,t._key,l._document,new zg(!1,!1),t.converter))}}function VI(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new bt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ix(){if("undefined"==typeof Uint8Array)throw new bt("unimplemented","Uint8Arrays are not available in this environment.")}function sx(){if(!function VD(){return"undefined"!=typeof atob}())throw new bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){$f=Sd.SDK_VERSION,(0,Sd._registerComponent)(new km.wA("firestore",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),f=new li(l,new T_(t.getProvider("auth-internal")),new FD(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),f._setSettings(i),f},"PUBLIC")),(0,Sd.registerVersion)(Ow,"3.4.5",n),(0,Sd.registerVersion)(Ow,"3.4.5","esm2017")}();class x0{constructor(e){this._delegate=e}static fromBase64String(e){return sx(),new x0(Qd.fromBase64String(e))}static fromUint8Array(e){return ix(),new x0(Qd.fromUint8Array(e))}toBase64(){return sx(),this._delegate.toBase64()}toUint8Array(){return ix(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function HI(n){return function fM(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class pM{enableIndexedDbPersistence(e,t){return function w1(n,e){LS(n=jn(n,li));const t=vs(n),i=n._freezeSettings(),l=new EI;return PS(t,l,new vS(l,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function E1(n){LS(n=jn(n,li));const e=vs(n),t=n._freezeSettings(),i=new EI;return PS(e,i,new r1(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function C1(n){if(n._initialized&&!n._terminated)throw new bt(et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ht.Z)(function*(){try{yield(t=(0,ht.Z)(function*(i){if(!su.Vt())return Promise.resolve();const l=i+"main";yield su.delete(l)}),function(i){return t.apply(this,arguments)})(le(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ox{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function m1(n,e,t,i={}){var l;const f=(n=jn(n,D0))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&fg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let v,b;if("string"==typeof i.mockUserToken)v=i.mockUserToken,b=Zi.MOCK_USER;else{v=(0,Sn.Sg)(i.mockUserToken,null===(l=n._app)||void 0===l?void 0:l.options.projectId);const M=i.mockUserToken.sub||i.mockUserToken.user_id;if(!M)throw new bt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Zi(M)}n._authCredentials=new LD(new Nw(v,b))}}(this._delegate,e,t,i)}enableNetwork(){return function A1(n){return function l1(n){return n.asyncQueue.enqueue((0,ht.Z)(function*(){const e=yield wS(n),t=yield ES(n);return e.setNetworkEnabled(!0),function(i){const l=Bt(i);return l.Ko.delete(0),E0(l)}(t)}))}(vs(n=jn(n,li)))}(this._delegate)}disableNetwork(){return function I1(n){return function u1(n){return n.asyncQueue.enqueue((0,ht.Z)(function*(){const e=yield wS(n),t=yield ES(n);return e.setNetworkEnabled(!1),(i=(0,ht.Z)(function*(l){const f=Bt(l);f.Ko.add(0),yield Hv(f),f.Qo.set("Offline")}),function(l){return i.apply(this,arguments)})(t);var i}))}(vs(n=jn(n,li)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,IS("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function D1(n){return function(e){const t=new Yi;return e.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return function $k(n,e){return oI.apply(this,arguments)}(yield xI(e),t)})),t.promise}(vs(n=jn(n,li)))}(this._delegate)}onSnapshotsInSync(e){return function rM(n,e){return function h1(n,e){const t=new UE(e);return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return i=yield Kv(n),l=t,Bt(i).Zo.add(l),void l.next();var i,l})),()=>{t.Jc(),n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return i=yield Kv(n),l=t,void Bt(i).Zo.delete(l);var i,l}))}}(vs(n=jn(n,li)),OI(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yv(this,MS(this._delegate,e))}catch(t){throw Ga(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xu(this,jE(this._delegate,e))}catch(t){throw Ga(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $a(this,function v1(n,e){if(n=jn(n,D0),MI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new bt(et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pa(n,null,(t=e,new hs(Rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ga(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function sM(n,e){return function f1(n,e){const t=new Yi;return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){const i=yield(l=n,VE(l).then(f=>f.datastore));var l;new o1(n.asyncQueue,i,e,t).run()})),t.promise}(vs(n=jn(n,li)),t=>e(new iM(n,t)))}(this._delegate,t=>e(new ax(this,t)))}batch(){return vs(this._delegate),new lx(new XS(this._delegate,e=>Zv(this._delegate,e)))}loadBundle(e){return function T1(n,e){const t=vs(n=jn(n,li)),i=new _1;return function p1(n,e,t,i){const l=function(f,v){let b;return b="string"==typeof f?(new TextEncoder).encode(f):f,M=function(M,ee){if(M instanceof Uint8Array)return yS(M,void 0);if(M instanceof ArrayBuffer)return yS(new Uint8Array(M),void 0);if(M instanceof ReadableStream)return M.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new i1(M,v);var M}(t,w0(e));n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){!function n1(n,e,t){const i=Bt(n);var l;(l=(0,ht.Z)(function*(f,v,b){try{const M=yield v.getMetadata();if(yield function(He,qe){const ct=Bt(He),Mt=Ls(qe.createTime);return ct.persistence.runTransaction("hasNewerBundle","readonly",Gt=>ct.Kn.getBundleMetadata(Gt,qe.id)).then(Gt=>!!Gt&&Gt.createTime.compareTo(Mt)>=0)}(f.localStore,M))return yield v.close(),void b._completeWith((He=M,{taskState:"Success",documentsLoaded:He.totalDocuments,bytesLoaded:He.totalBytes,totalDocuments:He.totalDocuments,totalBytes:He.totalBytes}));b._updateProgress(aS(M));const ee=new Pk(M,f.localStore,v.O);let ve=yield v.Kc();for(;ve;){const He=yield ee.lc(ve);He&&b._updateProgress(He),ve=yield v.Kc()}const _e=yield ee.complete();yield zh(f,_e.ws,void 0),yield function(He,qe){const ct=Bt(He);return ct.persistence.runTransaction("Save bundle","readwrite",Mt=>ct.Kn.saveBundleMetadata(Mt,qe))}(f.localStore,M),b._completeWith(_e.progress)}catch(M){fg("SyncEngine",`Loading bundle failed with ${M}`),b._failWith(M)}var He}),function(f,v,b){return l.apply(this,arguments)})(i,e,t).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield xI(n),l,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function S1(n,e){return function g1(n,e){return n.asyncQueue.enqueue((0,ht.Z)(function*(){return function(t,i){const l=Bt(t);return l.persistence.runTransaction("Get named query","readonly",f=>l.Kn.getNamedQuery(f,i))}(yield SI(n),e)}))}(vs(n=jn(n,li)),e).then(t=>t?new pa(n,null,t.query):null)}(this._delegate,e).then(t=>t?new $a(this,t):null)}}class YE extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new x0(new Qd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xu.forKey(t,this.firestore,null)}}class ax{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new YE(e)}get(e){const t=Wg(e);return this._delegate.get(t).then(i=>new k0(this._firestore,new $h(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const l=Wg(e);return i?(VI("Transaction.set",i),this._delegate.set(l,t,i)):this._delegate.set(l,t),this}update(e,t,i,...l){const f=Wg(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,i,...l),this}delete(e){const t=Wg(e);return this._delegate.delete(t),this}}class lx{constructor(e){this._delegate=e}set(e,t,i){const l=Wg(e);return i?(VI("WriteBatch.set",i),this._delegate.set(l,t,i)):this._delegate.set(l,t),this}update(e,t,i,...l){const f=Wg(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,i,...l),this}delete(e){const t=Wg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $g{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new T0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M0(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=$g.INSTANCES;let l=i.get(e);l||(l=new WeakMap,i.set(e,l));let f=l.get(t);return f||(f=new $g(e,new YE(e),t),l.set(t,f)),f}}$g.INSTANCES=new WeakMap;class Xu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xu(t,new Xr(t._delegate,i,new zt(e)))}static forKey(e,t,i){return new Xu(t,new Xr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Yv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yv(this.firestore,MS(this._delegate,e))}catch(t){throw Ga(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Sn.m9)(e))instanceof Xr&&OS(this._delegate,e)}set(e,t){t=VI("DocumentReference.set",t);try{return t?ex(this._delegate,e,t):ex(this._delegate,e)}catch(i){throw Ga(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?tx(this._delegate,e):tx(this._delegate,e,t,...i)}catch(l){throw Ga(l,"updateDoc()","DocumentReference.update()")}}delete(){return function tM(n){return Zv(jn(n.firestore,li),[new tp(n._key,Ei.none())])}(this._delegate)}onSnapshot(...e){const t=ux(e),i=cx(e,l=>new k0(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return nx(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Y1(n){n=jn(n,Xr);const e=jn(n.firestore,li),t=vs(e),i=new Gg(e);return function c1(n,e){const t=new Yi;return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return(i=(0,ht.Z)(function*(l,f,v){try{const b=yield function(M,ee){const ve=Bt(M);return ve.persistence.runTransaction("read document","readonly",_e=>ve.Us.ys(_e,ee))}(l,f);b.isFoundDocument()?v.resolve(b):b.isNoDocument()?v.resolve(null):v.reject(new bt(et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const M=Gv(b,`Failed to get document '${f} from cache`);v.reject(M)}}),function(l,f,v){return i.apply(this,arguments)})(yield SI(n),e,t);var i})),t.promise}(t,n._key).then(l=>new $h(e,i,n._key,l,new zg(null!==l&&l.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Q1(n){n=jn(n,Xr);const e=jn(n.firestore,li);return CS(vs(e),n._key,{source:"server"}).then(t=>UI(e,n,t))}(this._delegate):function Z1(n){n=jn(n,Xr);const e=jn(n.firestore,li);return CS(vs(e),n._key).then(t=>UI(e,n,t))}(this._delegate),t.then(i=>new k0(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Xu(this.firestore,this._delegate.withConverter(e?$g.getInstance(this.firestore,e):null))}}function Ga(n,e,t){return n.message=n.message.replace(e,t),n}function ux(n){for(const e of n)if("object"==typeof e&&!HI(e))return e;return{}}function cx(n,e){var t,i;let l;return l=HI(n[0])?n[0]:HI(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:f=>{l.next&&l.next(e(f))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(i=l.complete)||void 0===i?void 0:i.bind(l)}}class k0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return GS(this._delegate,e._delegate)}}class M0 extends k0{data(e){const t=this._delegate.data(e);return function Rw(n,e){n||Zt()}(void 0!==t),t}}class $a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YE(e)}where(e,t,i){try{return new $a(this.firestore,gp(this._delegate,function U1(n,e,t){const i=e,l=KE("where",n);return new B1(l,i,t)}(e,t,i)))}catch(l){throw Ga(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $a(this.firestore,gp(this._delegate,function H1(n,e="asc"){const t=e,i=KE("orderBy",n);return new V1(i,t)}(e,t)))}catch(i){throw Ga(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $a(this.firestore,gp(this._delegate,function j1(n){return xS("limit",n),new WS("limit",n,"F")}(e)))}catch(t){throw Ga(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $a(this.firestore,gp(this._delegate,function z1(n){return xS("limitToLast",n),new WS("limitToLast",n,"L")}(e)))}catch(t){throw Ga(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $a(this.firestore,gp(this._delegate,function G1(...n){return new qS("startAt",n,!0)}(...e)))}catch(t){throw Ga(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $a(this.firestore,gp(this._delegate,function $1(...n){return new qS("startAfter",n,!1)}(...e)))}catch(t){throw Ga(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $a(this.firestore,gp(this._delegate,function W1(...n){return new KS("endBefore",n,!1)}(...e)))}catch(t){throw Ga(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $a(this.firestore,gp(this._delegate,function q1(...n){return new KS("endAt",n,!0)}(...e)))}catch(t){throw Ga(t,"endAt()","Query.endAt()")}}isEqual(e){return RS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function X1(n){n=jn(n,pa);const e=jn(n.firestore,li),t=vs(e),i=new Gg(e);return function d1(n,e){const t=new Yi;return n.asyncQueue.enqueueAndForget((0,ht.Z)(function*(){return(i=(0,ht.Z)(function*(l,f,v){try{const b=yield dp(l,f,!0),M=new cS(f,b.Ks),ee=M.Ic(b.documents),ve=M.applyChanges(ee,!1);v.resolve(ve.snapshot)}catch(b){const M=Gv(b,`Failed to execute query '${f} against cache`);v.reject(M)}}),function(l,f,v){return i.apply(this,arguments)})(yield SI(n),e,t);var i})),t.promise}(t,n._query).then(l=>new pp(e,i,n,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function eM(n){n=jn(n,pa);const e=jn(n.firestore,li),t=vs(e),i=new Gg(e);return DS(t,n._query,{source:"server"}).then(l=>new pp(e,i,n,l))}(this._delegate):function J1(n){n=jn(n,pa);const e=jn(n.firestore,li),t=vs(e),i=new Gg(e);return $S(n._query),DS(t,n._query).then(l=>new pp(e,i,n,l))}(this._delegate),t.then(i=>new jI(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=ux(e),i=cx(e,l=>new jI(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return nx(this._delegate,t,i)}withConverter(e){return new $a(this.firestore,this._delegate.withConverter(e?$g.getInstance(this.firestore,e):null))}}class mM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new M0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $a(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new M0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new mM(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new M0(this._firestore,i))})}isEqual(e){return GS(this._delegate,e._delegate)}}class Yv extends $a{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xu(this.firestore,e):null}doc(e){try{return new Xu(this.firestore,void 0===e?jE(this._delegate):jE(this._delegate,e))}catch(t){throw Ga(t,"doc()","CollectionReference.doc()")}}add(e){return function nM(n,e){const t=jn(n.firestore,li),i=jE(n),l=ZE(n.converter,e);return Zv(t,[$E(Hg(n.firestore),"addDoc",i._key,l,null!==n.converter,{}).toMutation(i._key,Ei.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Xu(this.firestore,t))}isEqual(e){return OS(this._delegate,e._delegate)}withConverter(e){return new Yv(this.firestore,this._delegate.withConverter(e?$g.getInstance(this.firestore,e):null))}}function Wg(n){return jn(n,Xr)}class zI{constructor(...e){this._delegate=new Gh(...e)}static documentId(){return new zI(Ns.keyField().canonicalString())}isEqual(e){return(e=(0,Sn.m9)(e))instanceof Gh&&this._delegate._internalPath.isEqual(e._internalPath)}}class qg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function aM(){return new RI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new qg(e)}static delete(){const e=function oM(){return new A0("deleteField")}();return e._methodName="FieldValue.delete",new qg(e)}static arrayUnion(...e){const t=function lM(...n){return new O1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new qg(t)}static arrayRemove(...e){const t=function uM(...n){return new R1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new qg(t)}static increment(e){const t=function cM(n){return new N1("increment",n)}(e);return t._methodName="FieldValue.increment",new qg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const vM={Firestore:ox,GeoPoint:zE,Timestamp:Qi,Blob:x0,Transaction:ax,WriteBatch:lx,DocumentReference:Xu,DocumentSnapshot:k0,Query:$a,QueryDocumentSnapshot:M0,QuerySnapshot:jI,CollectionReference:Yv,FieldPath:zI,FieldValue:qg,setLogLevel:function gM(n){!function ND(n){Fc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function _M(n){(function yM(n,e){n.INTERNAL.registerComponent(new km.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(i,l)},"PUBLIC").setServiceProps(Object.assign({},vM)))})(n,(e,t)=>new ox(e,t,new pM)),n.registerVersion("@firebase/firestore-compat","0.1.14")}(xb.Z);var bM=Y(6451),QE=Y(5363),wM=Y(6063);class EM extends Uo.x{constructor(e=1/0,t=1/0,i=wM.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:l,_timestampProvider:f,_windowTime:v}=this;t||(i.push(e),!l&&i.push(f.now()+v)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:l}=this,f=l.slice();for(let v=0;v<f.length&&!e.closed;v+=i?1:2)e.next(f[v]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:l}=this,f=(l?1:2)*e;if(e<1/0&&f<i.length&&i.splice(0,i.length-f),!l){const v=t.now();let b=0;for(let M=1;M<i.length&&i[M]<=v;M+=2)b=M;b&&i.splice(0,b+1)}}}function dx(n,e,t){var i,l;let f,v=!1;return n&&"object"==typeof n?(f=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,e=null!==(l=n.windowTime)&&void 0!==l?l:1/0,v=!!n.refCount,t=n.scheduler):f=null!=n?n:1/0,(0,Am.B)({connector:()=>new EM(f,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:v})}function hx(n,e){return(0,la.m)(e)?bi(()=>n,e):bi(()=>n)}var GI=Y(9468);Y(5867);const px=new Map,TM={activated:!1,tokenObservers:[]},SM={initialized:!1,enabled:!1};function fo(n){return px.get(n)||TM}function Gc(n,e){px.set(n,e)}function XE(){return SM}class RM{constructor(e,t,i,l,f){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=l,this.upperBound=f,this.pending=null,this.nextErrorWaitInterval=l,l>f)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ht.Z)(function*(){t.stop();try{t.pending=new Sn.BH,yield function NM(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Sn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wa=new Sn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mx(n){if(!fo(n).activated)throw Wa.create("use-before-activation",{appName:n.name})}function KI(n,e){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,ht.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});l&&(i["X-Firebase-Client"]=l.getPlatformInfoString());const f={method:"POST",body:JSON.stringify(e),headers:i};let v,b;try{v=yield fetch(n,f)}catch(_e){throw Wa.create("fetch-network-error",{originalErrorMessage:_e.message})}if(200!==v.status)throw Wa.create("fetch-status-error",{httpStatus:v.status});try{b=yield v.json()}catch(_e){throw Wa.create("fetch-parse-error",{originalErrorMessage:_e.message})}const M=b.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw Wa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const ee=1e3*Number(M[1]),ve=Date.now();return{token:b.attestationToken,expireTimeMillis:ve+ee,issuedAtTimeMillis:ve}}),ZI.apply(this,arguments)}function UM(n,e){const{projectId:t,appId:i,apiKey:l}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${l}`,body:{debug_token:e}}}const O0="firebase-app-check-store";let nC=null;function yx(){return nC||(nC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var l;e(Wa.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(O0,{keyPath:"compositeKey"})}}catch(t){e(Wa.create("storage-open",{originalErrorMessage:t.message}))}}),nC)}function YI(){return YI=(0,ht.Z)(function*(n,e){const i=(yield yx()).transaction(O0,"readwrite"),f=i.objectStore(O0).put({compositeKey:n,value:e});return new Promise((v,b)=>{f.onsuccess=M=>{v()},i.onerror=M=>{var ee;b(Wa.create("storage-set",{originalErrorMessage:null===(ee=M.target.error)||void 0===ee?void 0:ee.message}))}})}),YI.apply(this,arguments)}const R0=new Oc.Yd("@firebase/app-check");function Ex(n,e){return(0,Sn.hl)()?function zM(n,e){return function _x(n,e){return YI.apply(this,arguments)}(function wx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{R0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Cx(){return XE().enabled}function Dx(){return eT.apply(this,arguments)}function eT(){return eT=(0,ht.Z)(function*(){const n=XE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),eT.apply(this,arguments)}const ZM={error:"UNKNOWN_ERROR"};function YM(n){return Sn.US.encodeString(JSON.stringify(n),!1)}function rC(n){return tT.apply(this,arguments)}function tT(){return tT=(0,ht.Z)(function*(n,e=!1){const t=n.app;mx(t);const i=fo(t);let f,l=i.token;if(!l){const M=yield i.cachedTokenPromise;M&&iC(M)&&(l=M)}if(!e&&l&&iC(l))return{token:l.token};let b,v=!1;if(Cx()){i.exchangeTokenPromise||(i.exchangeTokenPromise=KI(UM(t,yield Dx()),n.platformLoggerProvider).then(ee=>(i.exchangeTokenPromise=void 0,ee)),v=!0);const M=yield i.exchangeTokenPromise;return yield Ex(t,M),Gc(t,Object.assign(Object.assign({},i),{token:M})),{token:M.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(M=>(i.exchangeTokenPromise=void 0,M)),v=!0),l=yield i.exchangeTokenPromise}catch(M){"appCheck/throttled"===M.code?R0.warn(M.message):R0.error(M),f=M}return l?(b={token:l.token},Gc(t,Object.assign(Object.assign({},i),{token:l})),yield Ex(t,l)):b=JM(f),v&&Ix(t,b),b}),tT.apply(this,arguments)}function rT(n,e){const t=fo(n),i=t.tokenObservers.filter(l=>l.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Gc(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Ax(n){const{app:e}=n,t=fo(e);let i=t.tokenRefresher;i||(i=function QM(n){const{app:e}=n;return new RM((0,ht.Z)(function*(){let i;if(i=fo(e).token?yield rC(n,!0):yield rC(n),i.error)throw i.error}),()=>!0,()=>{const t=fo(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Gc(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Ix(n,e){const t=fo(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(l){}}function iC(n){return n.expireTimeMillis-Date.now()>0}function JM(n){return{token:YM(ZM),error:n}}class XM{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=fo(this.app);for(const t of e)rT(this.app,t.next);return Promise.resolve()}}const Nx="app-check-internal";!function fO(){(0,Sd._registerComponent)(new km.wA("app-check",n=>function eO(n,e){return new XM(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Nx).initialize()})),(0,Sd._registerComponent)(new km.wA(Nx,n=>function tO(n){return{getToken:e=>rC(n,e),addTokenListener:e=>function nT(n,e,t,i){const{app:l}=n,f=fo(l),v={next:t,error:i,type:e};if(Gc(l,Object.assign(Object.assign({},f),{tokenObservers:[...f.tokenObservers,v]})),f.token&&iC(f.token)){const b=f.token;Promise.resolve().then(()=>{t({token:b.token}),Ax(n)}).catch(()=>{})}f.cachedTokenPromise.then(()=>Ax(n))}(n,"INTERNAL",e),removeTokenListener:e=>rT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Sd.registerVersion)("@firebase/app-check","0.5.3")}();class aT{constructor(){return(0,ls.vb)("app-check")}}"undefined"!=typeof window&&window;var yO=Y(127);const Lx=new m.OlP("angularfire2.auth.use-emulator"),Fx=new m.OlP("angularfire2.auth.settings"),Bx=new m.OlP("angularfire2.auth.tenant-id"),Ux=new m.OlP("angularfire2.auth.langugage-code"),Vx=new m.OlP("angularfire2.auth.use-device-language"),Hx=new m.OlP("angularfire.auth.persistence"),jx=(n,e,t,i,l,f,v,b)=>(0,Cl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const M=e.runOutsideAngular(()=>n.auth());if(t&&M.useEmulator(...t),i&&(M.tenantId=i),M.languageCode=l,f&&M.useDeviceLanguage(),v)for(const[ee,ve]of Object.entries(v))M.settings[ee]=ve;return b&&M.setPersistence(b),M},[t,i,l,f,v,b]);let zx=(()=>{class n{constructor(t,i,l,f,v,b,M,ee,ve,_e,He,qe){const ct=new Uo.x,Mt=en(void 0).pipe((0,QE.Q)(v.outsideAngular),bi(()=>f.runOutsideAngular(()=>Promise.resolve().then(Y.bind(Y,3059)))),(0,on.U)(()=>(0,Cl.on)(t,f,i)),(0,on.U)(Gt=>jx(Gt,f,b,ee,ve,_e,M,He)),dx({bufferSize:1,refCount:!1}));if(Jn(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=en(null);else{Mt.pipe(w()).subscribe();const bn=Mt.pipe(bi(Cn=>Cn.getRedirectResult().then(kr=>kr,()=>null)),ls.iC,dx({bufferSize:1,refCount:!1})),Wn=Mt.pipe(bi(Cn=>new jr.y(kr=>({unsubscribe:f.runOutsideAngular(()=>Cn.onAuthStateChanged(ou=>kr.next(ou),ou=>kr.error(ou),()=>kr.complete()))})))),rr=Mt.pipe(bi(Cn=>new jr.y(kr=>({unsubscribe:f.runOutsideAngular(()=>Cn.onIdTokenChanged(ou=>kr.next(ou),ou=>kr.error(ou),()=>kr.complete()))}))));this.authState=bn.pipe(hx(Wn),(0,GI.R)(v.outsideAngular),(0,QE.Q)(v.insideAngular)),this.user=bn.pipe(hx(rr),(0,GI.R)(v.outsideAngular),(0,QE.Q)(v.insideAngular)),this.idToken=this.user.pipe(bi(Cn=>Cn?(0,er.D)(Cn.getIdToken()):en(null))),this.idTokenResult=this.user.pipe(bi(Cn=>Cn?(0,er.D)(Cn.getIdTokenResult()):en(null))),this.credential=(0,bM.T)(bn,ct,this.authState.pipe(Wr(Cn=>!Cn))).pipe((0,on.U)(Cn=>(null==Cn?void 0:Cn.user)?Cn:null),(0,GI.R)(v.outsideAngular),(0,QE.Q)(v.insideAngular))}return(0,Cl.pX)(this,Mt,f,{spy:{apply:(Gt,bn,Wn)=>{(Gt.startsWith("signIn")||Gt.startsWith("createUser"))&&Wn.then(rr=>ct.next(rr))}}})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Cl.Dh),m.LFG(Cl.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(ls.HU),m.LFG(Lx,8),m.LFG(Fx,8),m.LFG(Bx,8),m.LFG(Ux,8),m.LFG(Vx,8),m.LFG(Hx,8),m.LFG(aT,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Gx(n,e){return function bO(n,e=Sb.z){return new jr.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function uT(n,e){return Gx(n,e).pipe((0,on.U)(t=>({payload:t,type:"query"})))}function oC(n,e){return uT(n,e).pipe(Ra(void 0),xm(),(0,on.U)(([t,i])=>{const l=i.payload.docChanges(),f=l.map(v=>({type:v.type,payload:v}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((v,b)=>{const M=l.find(ve=>ve.doc.ref.isEqual(v.ref)),ee=null==t?void 0:t.payload.docs.find(ve=>ve.ref.isEqual(v.ref));M&&JSON.stringify(M.doc.metadata)===JSON.stringify(v.metadata)||!M&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(v.metadata)||f.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:v}})}),f}))}function $x(n,e,t){return oC(n,t).pipe(Tn((i,l)=>function EO(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function CO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return cT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cT(n,e.oldIndex,1)}return n}(n,i))}),n}(i,l.map(f=>f.payload),e),[]),QC(),(0,on.U)(i=>i.map(l=>({type:l.type,payload:l}))))}function cT(n,e,t,...i){const l=n.slice();return l.splice(e,t,...i),l}function Wx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class qx{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=oC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,on.U)(i=>i.filter(l=>e.indexOf(l.type)>-1)))),t.pipe(Ra(void 0),xm(),Wr(([i,l])=>l.length>0||!i),(0,on.U)(([i,l])=>l),ls.iC)}auditTrail(e){return this.stateChanges(e).pipe(Tn((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Wx(e);return $x(this.query,t,this.afs.schedulers.outsideAngular).pipe(ls.iC)}valueChanges(e={}){return uT(this.query,this.afs.schedulers.outsideAngular).pipe((0,on.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),ls.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(ls.iC)}add(e){return this.ref.add(e)}doc(e){return new Kx(this.ref.doc(e),this.afs)}}class Kx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:l,query:f}=Qx(i,t);return new qx(l,f,this.afs)}snapshotChanges(){return function wO(n,e){return Gx(n,e).pipe(Ra(void 0),xm(),(0,on.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ls.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,on.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,er.D)(this.ref.get(e)).pipe(ls.iC)}}class DO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?oC(this.query,this.afs.schedulers.outsideAngular).pipe((0,on.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Wr(t=>t.length>0),ls.iC):oC(this.query,this.afs.schedulers.outsideAngular).pipe(ls.iC)}auditTrail(e){return this.stateChanges(e).pipe(Tn((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Wx(e);return $x(this.query,t,this.afs.schedulers.outsideAngular).pipe(ls.iC)}valueChanges(e={}){return uT(this.query,this.afs.schedulers.outsideAngular).pipe((0,on.U)(i=>i.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),ls.iC)}get(e){return(0,er.D)(this.query.get(e)).pipe(ls.iC)}}const Zx=new m.OlP("angularfire2.enableFirestorePersistence"),Yx=new m.OlP("angularfire2.firestore.persistenceSettings"),AO=new m.OlP("angularfire2.firestore.settings"),IO=new m.OlP("angularfire2.firestore.use-emulator");function Qx(n,e=(t=>t)){return{query:e(n),ref:n}}let TO=(()=>{class n{constructor(t,i,l,f,v,b,M,ee,ve,_e,He,qe,ct,Mt,Gt,bn,Wn){this.schedulers=M;const rr=(0,Cl.on)(t,b,i),Cn=ve;_e&&jx(rr,b,He,ct,Mt,Gt,qe,bn),[this.firestore,this.persistenceEnabled$]=(0,Cl.cc)(`${rr.name}.firestore`,"AngularFirestore",rr.name,()=>{const kr=b.runOutsideAngular(()=>rr.firestore());if(f&&kr.settings(f),Cn&&kr.useEmulator(...Cn),l&&!Jn(v)){const ou=()=>{try{return(0,er.D)(kr.enablePersistence(ee||void 0).then(()=>!0,()=>!1))}catch(aC){return"undefined"!=typeof console&&console.warn(aC),en(!1)}};return[kr,b.runOutsideAngular(ou)]}return[kr,en(!1)]},[f,Cn,l])}collection(t,i){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:f,query:v}=Qx(l,i),b=this.schedulers.ngZone.run(()=>f);return new qx(b,v,this)}collectionGroup(t,i){const l=i||(v=>v),f=this.firestore.collectionGroup(t);return new DO(l(f),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>i);return new Kx(l,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Cl.Dh),m.LFG(Cl.xv,8),m.LFG(Zx,8),m.LFG(AO,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(ls.HU),m.LFG(Yx,8),m.LFG(IO,8),m.LFG(zx,8),m.LFG(Lx,8),m.LFG(Fx,8),m.LFG(Bx,8),m.LFG(Ux,8),m.LFG(Vx,8),m.LFG(Hx,8),m.LFG(aT,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SO=(()=>{class n{constructor(){yO.Z.registerVersion("angularfire",ls.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Zx,useValue:!0},{provide:Yx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[TO]}),n})();const Jx_firebase={apiKey:"AIzaSyDWnUlt0Z9JWAQ5uObAy-hs37pcptnqw9s",authDomain:"naute-app.firebaseapp.com",databaseURL:"https://naute-app-default-rtdb.europe-west1.firebasedatabase.app",projectId:"naute-app",storageBucket:"naute-app.appspot.com",messagingSenderId:"362146438265",appId:"1:362146438265:web:9e4d665f5cb2f5a8a948a8"},ys=void 0;!function wt(n,e,t){(0,m.dwT)(n,e,t)}(["fr",[["AM","PM"],ys,ys],ys,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],ys,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],ys,[["av. J.-C.","ap. J.-C."],ys,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",ys],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[ys,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[ys,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[ys,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[ys,"\xa5"],KMF:[ys,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[ys,"$C"],NZD:["$NZ","$"],PHP:[ys,"\u20b1"],RHD:["$RH"],RON:[ys,"L"],RWF:[ys,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[ys,"$T"],TTD:["$TT","$"],TWD:[ys,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[ys,"$"],XPF:["FCFP"],ZMW:[ys,"Kw"]},"ltr",function xO(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,l=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===t||1===t?1:0===l&&0!==t&&t%1e6==0&&0===i||!(l>=0&&l<=5)?4:5}],"fr");let kO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n,bootstrap:[Tb]}),n.\u0275inj=m.cJS({providers:[{provide:m.soG,useValue:"fr"}],imports:[[yu,Jg,wl,Cl.hO.initializeApp(Jx_firebase),SO,Ry]]}),n})();(0,m.G48)(),ed().bootstrapModule(kO).catch(n=>console.error(n))},8375:(vt,de,Y)=>{!function(m){var S={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},T=m.Pos;function F(q,G){return"pairs"==G&&"string"==typeof q?q:"object"==typeof q&&null!=q[G]?q[G]:S[G]}m.defineOption("autoCloseBrackets",!1,function(q,G,re){re&&re!=m.Init&&(q.removeKeyMap($),q.state.closeBrackets=null),G&&(Z(F(G,"pairs")),q.state.closeBrackets=G,q.addKeyMap($))});var $={Backspace:function H(q){var G=U(q);if(!G||q.getOption("disableInput"))return m.Pass;for(var re=F(G,"pairs"),pe=q.listSelections(),fe=0;fe<pe.length;fe++){if(!pe[fe].empty())return m.Pass;var me=x(q,pe[fe].head);if(!me||re.indexOf(me)%2!=0)return m.Pass}for(fe=pe.length-1;fe>=0;fe--){var te=pe[fe].head;q.replaceRange("",T(te.line,te.ch-1),T(te.line,te.ch+1),"+delete")}},Enter:function D(q){var G=U(q),re=G&&F(G,"explode");if(!re||q.getOption("disableInput"))return m.Pass;for(var pe=q.listSelections(),fe=0;fe<pe.length;fe++){if(!pe[fe].empty())return m.Pass;var me=x(q,pe[fe].head);if(!me||re.indexOf(me)%2!=0)return m.Pass}q.operation(function(){var te=q.lineSeparator()||"\n";q.replaceSelection(te+te,null),I(q,-1),pe=q.listSelections();for(var ye=0;ye<pe.length;ye++){var xe=pe[ye].head.line;q.indentLine(xe,null,!0),q.indentLine(xe+1,null,!0)}})}};function Z(q){for(var G=0;G<q.length;G++){var re=q.charAt(G),pe="'"+re+"'";$[pe]||($[pe]=P(re))}}function P(q){return function(G){return function R(q,G){var re=U(q);if(!re||q.getOption("disableInput"))return m.Pass;var pe=F(re,"pairs"),fe=pe.indexOf(G);if(-1==fe)return m.Pass;for(var oe,me=F(re,"closeBefore"),te=F(re,"triples"),ye=pe.charAt(fe+1)==G,xe=q.listSelections(),ae=fe%2==0,k=0;k<xe.length;k++){var ie,he=xe[k],Ce=he.head,ue=q.getRange(Ce,T(Ce.line,Ce.ch+1));if(ae&&!he.empty())ie="surround";else if(!ye&&ae||ue!=G)if(ye&&Ce.ch>1&&te.indexOf(G)>=0&&q.getRange(T(Ce.line,Ce.ch-2),Ce)==G+G){if(Ce.ch>2&&/\bstring/.test(q.getTokenTypeAt(T(Ce.line,Ce.ch-2))))return m.Pass;ie="addFour"}else if(ye){var W=0==Ce.ch?" ":q.getRange(T(Ce.line,Ce.ch-1),Ce);if(m.isWordChar(ue)||W==G||m.isWordChar(W))return m.Pass;ie="both"}else{if(!ae||!(0===ue.length||/\s/.test(ue)||me.indexOf(ue)>-1))return m.Pass;ie="both"}else ie=ye&&V(q,Ce)?"both":te.indexOf(G)>=0&&q.getRange(Ce,T(Ce.line,Ce.ch+3))==G+G+G?"skipThree":"skip";if(oe){if(oe!=ie)return m.Pass}else oe=ie}var Re=fe%2?pe.charAt(fe-1):G,Ie=fe%2?G:pe.charAt(fe+1);q.operation(function(){if("skip"==oe)I(q,1);else if("skipThree"==oe)I(q,3);else if("surround"==oe){for(var se=q.getSelections(),Ee=0;Ee<se.length;Ee++)se[Ee]=Re+se[Ee]+Ie;for(q.replaceSelections(se,"around"),se=q.listSelections().slice(),Ee=0;Ee<se.length;Ee++)se[Ee]=j(se[Ee]);q.setSelections(se)}else"both"==oe?(q.replaceSelection(Re+Ie,null),q.triggerElectric(Re+Ie),I(q,-1)):"addFour"==oe&&(q.replaceSelection(Re+Re+Re+Re,"before"),I(q,1))})}(G,q)}}function U(q){var G=q.state.closeBrackets;return!G||G.override?G:q.getModeAt(q.getCursor()).closeBrackets||G}function I(q,G){for(var re=[],pe=q.listSelections(),fe=0,me=0;me<pe.length;me++){var te=pe[me];te.head==q.getCursor()&&(fe=me);var ye=te.head.ch||G>0?{line:te.head.line,ch:te.head.ch+G}:{line:te.head.line-1};re.push({anchor:ye,head:ye})}q.setSelections(re,fe)}function j(q){var G=m.cmpPos(q.anchor,q.head)>0;return{anchor:new T(q.anchor.line,q.anchor.ch+(G?-1:1)),head:new T(q.head.line,q.head.ch+(G?1:-1))}}function x(q,G){var re=q.getRange(T(G.line,G.ch-1),T(G.line,G.ch+1));return 2==re.length?re:null}function V(q,G){var re=q.getTokenAt(T(G.line,G.ch+1));return/\bstring/.test(re.type)&&re.start==G.ch&&(0==G.ch||!/\bstring/.test(q.getTokenTypeAt(G)))}Z(S.pairs+"`")}(Y(8266))},6501:(vt,de,Y)=>{!function(m){"use strict";function S(Z,P,U,H){if(U&&U.call){var D=U;U=null}else D=$(Z,U,"rangeFinder");"number"==typeof P&&(P=m.Pos(P,0));var I=$(Z,U,"minFoldSize");function j(q){var G=D(Z,P);if(!G||G.to.line-G.from.line<I)return null;if("fold"===H)return G;for(var re=Z.findMarksAt(G.from),pe=0;pe<re.length;++pe)if(re[pe].__isFold){if(!q)return null;G.cleared=!0,re[pe].clear()}return G}var R=j(!0);if($(Z,U,"scanUp"))for(;!R&&P.line>Z.firstLine();)P=m.Pos(P.line-1,0),R=j(!1);if(R&&!R.cleared&&"unfold"!==H){var x=function T(Z,P,U){var H=$(Z,P,"widget");if("function"==typeof H&&(H=H(U.from,U.to)),"string"==typeof H){var D=document.createTextNode(H);(H=document.createElement("span")).appendChild(D),H.className="CodeMirror-foldmarker"}else H&&(H=H.cloneNode(!0));return H}(Z,U,R);m.on(x,"mousedown",function(q){V.clear(),m.e_preventDefault(q)});var V=Z.markText(R.from,R.to,{replacedWith:x,clearOnEnter:$(Z,U,"clearOnEnter"),__isFold:!0});V.on("clear",function(q,G){m.signal(Z,"unfold",Z,q,G)}),m.signal(Z,"fold",Z,R.from,R.to)}}m.newFoldFunction=function(Z,P){return function(U,H){S(U,H,{rangeFinder:Z,widget:P})}},m.defineExtension("foldCode",function(Z,P,U){S(this,Z,P,U)}),m.defineExtension("isFolded",function(Z){for(var P=this.findMarksAt(Z),U=0;U<P.length;++U)if(P[U].__isFold)return!0}),m.commands.toggleFold=function(Z){Z.foldCode(Z.getCursor())},m.commands.fold=function(Z){Z.foldCode(Z.getCursor(),null,"fold")},m.commands.unfold=function(Z){Z.foldCode(Z.getCursor(),{scanUp:!1},"unfold")},m.commands.foldAll=function(Z){Z.operation(function(){for(var P=Z.firstLine(),U=Z.lastLine();P<=U;P++)Z.foldCode(m.Pos(P,0),{scanUp:!1},"fold")})},m.commands.unfoldAll=function(Z){Z.operation(function(){for(var P=Z.firstLine(),U=Z.lastLine();P<=U;P++)Z.foldCode(m.Pos(P,0),{scanUp:!1},"unfold")})},m.registerHelper("fold","combine",function(){var Z=Array.prototype.slice.call(arguments,0);return function(P,U){for(var H=0;H<Z.length;++H){var D=Z[H](P,U);if(D)return D}}}),m.registerHelper("fold","auto",function(Z,P){for(var U=Z.getHelpers(P,"fold"),H=0;H<U.length;H++){var D=U[H](Z,P);if(D)return D}});var F={rangeFinder:m.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function $(Z,P,U){if(P&&void 0!==P[U])return P[U];var H=Z.options.foldOptions;return H&&void 0!==H[U]?H[U]:F[U]}m.defineOption("foldOptions",null),m.defineExtension("foldOption",function(Z,P){return $(this,Z,P)})}(Y(8266))},3400:(vt,de,Y)=>{!function(m){"use strict";m.defineOption("foldGutter",!1,function(x,V,q){q&&q!=m.Init&&(x.clearGutter(x.state.foldGutter.options.gutter),x.state.foldGutter=null,x.off("gutterClick",D),x.off("changes",I),x.off("viewportChange",j),x.off("fold",R),x.off("unfold",R),x.off("swapDoc",I)),V&&(x.state.foldGutter=new T(function F(x){return!0===x&&(x={}),null==x.gutter&&(x.gutter="CodeMirror-foldgutter"),null==x.indicatorOpen&&(x.indicatorOpen="CodeMirror-foldgutter-open"),null==x.indicatorFolded&&(x.indicatorFolded="CodeMirror-foldgutter-folded"),x}(V)),H(x),x.on("gutterClick",D),x.on("changes",I),x.on("viewportChange",j),x.on("fold",R),x.on("unfold",R),x.on("swapDoc",I))});var S=m.Pos;function T(x){this.options=x,this.from=this.to=0}function $(x,V){for(var q=x.findMarks(S(V,0),S(V+1,0)),G=0;G<q.length;++G)if(q[G].__isFold){var re=q[G].find(-1);if(re&&re.line===V)return q[G]}}function Z(x){if("string"==typeof x){var V=document.createElement("div");return V.className=x+" CodeMirror-guttermarker-subtle",V}return x.cloneNode(!0)}function P(x,V,q){var G=x.state.foldGutter.options,re=V-1,pe=x.foldOption(G,"minFoldSize"),fe=x.foldOption(G,"rangeFinder"),me="string"==typeof G.indicatorFolded&&U(G.indicatorFolded),te="string"==typeof G.indicatorOpen&&U(G.indicatorOpen);x.eachLine(V,q,function(ye){++re;var xe=null,ae=ye.gutterMarkers;if(ae&&(ae=ae[G.gutter]),$(x,re)){if(me&&ae&&me.test(ae.className))return;xe=Z(G.indicatorFolded)}else{var oe=S(re,0),k=fe&&fe(x,oe);if(k&&k.to.line-k.from.line>=pe){if(te&&ae&&te.test(ae.className))return;xe=Z(G.indicatorOpen)}}!xe&&!ae||x.setGutterMarker(ye,G.gutter,xe)})}function U(x){return new RegExp("(^|\\s)"+x+"(?:$|\\s)\\s*")}function H(x){var V=x.getViewport(),q=x.state.foldGutter;!q||(x.operation(function(){P(x,V.from,V.to)}),q.from=V.from,q.to=V.to)}function D(x,V,q){var G=x.state.foldGutter;if(G){var re=G.options;if(q==re.gutter){var pe=$(x,V);pe?pe.clear():x.foldCode(S(V,0),re)}}}function I(x){var V=x.state.foldGutter;if(V){var q=V.options;V.from=V.to=0,clearTimeout(V.changeUpdate),V.changeUpdate=setTimeout(function(){H(x)},q.foldOnChangeTimeSpan||600)}}function j(x){var V=x.state.foldGutter;if(V){var q=V.options;clearTimeout(V.changeUpdate),V.changeUpdate=setTimeout(function(){var G=x.getViewport();V.from==V.to||G.from-V.to>20||V.from-G.to>20?H(x):x.operation(function(){G.from<V.from&&(P(x,G.from,V.from),V.from=G.from),G.to>V.to&&(P(x,V.to,G.to),V.to=G.to)})},q.updateViewportTimeSpan||400)}}function R(x,V){var q=x.state.foldGutter;if(q){var G=V.line;G>=q.from&&G<q.to&&P(x,G,G+1)}}}(Y(8266),Y(6501))},4242:(vt,de,Y)=>{!function(m){"use strict";m.registerHelper("fold","markdown",function(S,T){function $(R){var x=S.getTokenTypeAt(m.Pos(R,0));return x&&/\bheader\b/.test(x)}function Z(R,x,V){var q=x&&x.match(/^#+/);return q&&$(R)?q[0].length:(q=V&&V.match(/^[=\-]+\s*$/))&&$(R+1)?"="==V[0]?1:2:100}var P=S.getLine(T.line),U=S.getLine(T.line+1),H=Z(T.line,P,U);if(100!==H){for(var D=S.lastLine(),I=T.line,j=S.getLine(I+2);I<D&&!(Z(I+1,U,j)<=H);)++I,U=j,j=S.getLine(I+2);return{from:m.Pos(T.line,P.length),to:m.Pos(I,S.getLine(I).length)}}})}(Y(8266))},8266:function(vt){vt.exports=function(){"use strict";var de=navigator.userAgent,Y=navigator.platform,m=/gecko\/\d/i.test(de),S=/MSIE \d/.test(de),T=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(de),F=/Edge\/(\d+)/.exec(de),$=S||T||F,Z=$&&(S?document.documentMode||6:+(F||T)[1]),P=!F&&/WebKit\//.test(de),U=P&&/Qt\/\d+\.\d+/.test(de),H=!F&&/Chrome\//.test(de),D=/Opera\//.test(de),I=/Apple Computer/.test(navigator.vendor),j=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(de),R=/PhantomJS/.test(de),x=I&&(/Mobile\/\w+/.test(de)||navigator.maxTouchPoints>2),V=/Android/.test(de),q=x||V||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(de),G=x||/Mac/.test(Y),re=/\bCrOS\b/.test(de),pe=/win/i.test(Y),fe=D&&de.match(/Version\/(\d*\.\d*)/);fe&&(fe=Number(fe[1])),fe&&fe>=15&&(D=!1,P=!0);var me=G&&(U||D&&(null==fe||fe<12.11)),te=m||$&&Z>=9;function ye(r){return new RegExp("(^|\\s)"+r+"(?:$|\\s)\\s*")}var Ce,xe=function(r,s){var c=r.className,d=ye(s).exec(c);if(d){var p=c.slice(d.index+d[0].length);r.className=c.slice(0,d.index)+(p?d[1]+p:"")}};function ae(r){for(var s=r.childNodes.length;s>0;--s)r.removeChild(r.firstChild);return r}function oe(r,s){return ae(r).appendChild(s)}function k(r,s,c,d){var p=document.createElement(r);if(c&&(p.className=c),d&&(p.style.cssText=d),"string"==typeof s)p.appendChild(document.createTextNode(s));else if(s)for(var _=0;_<s.length;++_)p.appendChild(s[_]);return p}function he(r,s,c,d){var p=k(r,s,c,d);return p.setAttribute("role","presentation"),p}function ie(r,s){if(3==s.nodeType&&(s=s.parentNode),r.contains)return r.contains(s);do{if(11==s.nodeType&&(s=s.host),s==r)return!0}while(s=s.parentNode)}function ue(){var r;try{r=document.activeElement}catch(s){r=document.body||null}for(;r&&r.shadowRoot&&r.shadowRoot.activeElement;)r=r.shadowRoot.activeElement;return r}function W(r,s){var c=r.className;ye(s).test(c)||(r.className+=(c?" ":"")+s)}function Re(r,s){for(var c=r.split(" "),d=0;d<c.length;d++)c[d]&&!ye(c[d]).test(s)&&(s+=" "+c[d]);return s}Ce=document.createRange?function(r,s,c,d){var p=document.createRange();return p.setEnd(d||r,c),p.setStart(r,s),p}:function(r,s,c){var d=document.body.createTextRange();try{d.moveToElementText(r.parentNode)}catch(p){return d}return d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",s),d};var Ie=function(r){r.select()};function se(r){var s=Array.prototype.slice.call(arguments,1);return function(){return r.apply(null,s)}}function Ee(r,s,c){for(var d in s||(s={}),r)r.hasOwnProperty(d)&&(!1!==c||!s.hasOwnProperty(d))&&(s[d]=r[d]);return s}function Q(r,s,c,d,p){null==s&&-1==(s=r.search(/[^\s\u00a0]/))&&(s=r.length);for(var _=d||0,C=p||0;;){var O=r.indexOf("\t",_);if(O<0||O>=s)return C+(s-_);C+=O-_,C+=c-C%c,_=O+1}}x?Ie=function(r){r.selectionStart=0,r.selectionEnd=r.value.length}:$&&(Ie=function(r){try{r.select()}catch(s){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=se(this.onTimeout,this)};function we(r,s){for(var c=0;c<r.length;++c)if(r[c]==s)return c;return-1}B.prototype.onTimeout=function(r){r.id=0,r.time<=+new Date?r.f():setTimeout(r.handler,r.time-+new Date)},B.prototype.set=function(r,s){this.f=s;var c=+new Date+r;(!this.id||c<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,r),this.time=c)};var Oe={toString:function(){return"CodeMirror.Pass"}},rt={scroll:!1},ot={origin:"*mouse"},Je={origin:"+move"};function Pt(r,s,c){for(var d=0,p=0;;){var _=r.indexOf("\t",d);-1==_&&(_=r.length);var C=_-d;if(_==r.length||p+C>=s)return d+Math.min(C,s-p);if(p+=_-d,d=_+1,(p+=c-p%c)>=s)return d}}var Ct=[""];function J(r){for(;Ct.length<=r;)Ct.push(Ne(Ct)+" ");return Ct[r]}function Ne(r){return r[r.length-1]}function je(r,s){for(var c=[],d=0;d<r.length;d++)c[d]=s(r[d],d);return c}function be(){}function Pe(r,s){var c;return Object.create?c=Object.create(r):(be.prototype=r,c=new be),s&&Ee(s,c),c}var We=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(r){return/\w/.test(r)||r>"\x80"&&(r.toUpperCase()!=r.toLowerCase()||We.test(r))}function ze(r,s){return s?!!(s.source.indexOf("\\w")>-1&&tt(r))||s.test(r):tt(r)}function dt(r){for(var s in r)if(r.hasOwnProperty(s)&&r[s])return!1;return!0}var Dt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ye(r){return r.charCodeAt(0)>=768&&Dt.test(r)}function nt(r,s,c){for(;(c<0?s>0:s<r.length)&&Ye(r.charAt(s));)s+=c;return s}function kt(r,s,c){for(var d=s>c?-1:1;;){if(s==c)return s;var p=(s+c)/2,_=d<0?Math.ceil(p):Math.floor(p);if(_==s)return r(_)?s:c;r(_)?c=_:s=_+d}}var sn=null;function Qt(r,s,c){var d;sn=null;for(var p=0;p<r.length;++p){var _=r[p];if(_.from<s&&_.to>s)return p;_.to==s&&(_.from!=_.to&&"before"==c?d=p:sn=p),_.from==s&&(_.from!=_.to&&"before"!=c?d=p:sn=p)}return null!=d?d:sn}var Ot=function(){function c(X){return X<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(X):1424<=X&&X<=1524?"R":1536<=X&&X<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(X-1536):1774<=X&&X<=2220?"r":8192<=X&&X<=8203?"w":8204==X?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,p=/[stwN]/,_=/[LRr]/,C=/[Lb1n]/,O=/[1n]/;function z(X,ge,De){this.level=X,this.from=ge,this.to=De}return function(X,ge){var De="ltr"==ge?"L":"R";if(0==X.length||"ltr"==ge&&!d.test(X))return!1;for(var Ve=X.length,Ue=[],Qe=0;Qe<Ve;++Qe)Ue.push(c(X.charCodeAt(Qe)));for(var lt=0,_t=De;lt<Ve;++lt){var St=Ue[lt];"m"==St?Ue[lt]=_t:_t=St}for(var At=0,st=De;At<Ve;++At){var Lt=Ue[At];"1"==Lt&&"r"==st?Ue[At]="n":_.test(Lt)&&(st=Lt,"r"==Lt&&(Ue[At]="R"))}for(var Ht=1,jt=Ue[0];Ht<Ve-1;++Ht){var ln=Ue[Ht];"+"==ln&&"1"==jt&&"1"==Ue[Ht+1]?Ue[Ht]="1":","==ln&&jt==Ue[Ht+1]&&("1"==jt||"n"==jt)&&(Ue[Ht]=jt),jt=ln}for(var Vn=0;Vn<Ve;++Vn){var qr=Ue[Vn];if(","==qr)Ue[Vn]="N";else if("%"==qr){var yr=void 0;for(yr=Vn+1;yr<Ve&&"%"==Ue[yr];++yr);for(var Ar=Vn&&"!"==Ue[Vn-1]||yr<Ve&&"1"==Ue[yr]?"1":"N",os=Vn;os<yr;++os)Ue[os]=Ar;Vn=yr-1}}for(var Ir=0,Oi=De;Ir<Ve;++Ir){var Ri=Ue[Ir];"L"==Oi&&"1"==Ri?Ue[Ir]="L":_.test(Ri)&&(Oi=Ri)}for(var En=0;En<Ve;++En)if(p.test(Ue[En])){var $n=void 0;for($n=En+1;$n<Ve&&p.test(Ue[$n]);++$n);for(var Tr="L"==(En?Ue[En-1]:De),Uu=Tr==("L"==($n<Ve?Ue[$n]:De))?Tr?"L":"R":De,ks=En;ks<$n;++ks)Ue[ks]=Uu;En=$n-1}for(var ua,Ni=[],wi=0;wi<Ve;)if(C.test(Ue[wi])){var Tc=wi;for(++wi;wi<Ve&&C.test(Ue[wi]);++wi);Ni.push(new z(0,Tc,wi))}else{var bl=wi,Na=Ni.length,io="rtl"==ge?1:0;for(++wi;wi<Ve&&"L"!=Ue[wi];++wi);for(var tn=bl;tn<wi;)if(O.test(Ue[tn])){bl<tn&&(Ni.splice(Na,0,new z(1,bl,tn)),Na+=io);var ca=tn;for(++tn;tn<wi&&O.test(Ue[tn]);++tn);Ni.splice(Na,0,new z(2,ca,tn)),Na+=io,bl=tn}else++tn;bl<wi&&Ni.splice(Na,0,new z(1,bl,wi))}return"ltr"==ge&&(1==Ni[0].level&&(ua=X.match(/^\s+/))&&(Ni[0].from=ua[0].length,Ni.unshift(new z(0,0,ua[0].length))),1==Ne(Ni).level&&(ua=X.match(/\s+$/))&&(Ne(Ni).to-=ua[0].length,Ni.push(new z(0,Ve-ua[0].length,Ve)))),"rtl"==ge?Ni.reverse():Ni}}();function xt(r,s){var c=r.order;return null==c&&(c=r.order=Ot(r.text,s)),c}var cn=[],Ut=function(r,s,c){if(r.addEventListener)r.addEventListener(s,c,!1);else if(r.attachEvent)r.attachEvent("on"+s,c);else{var d=r._handlers||(r._handlers={});d[s]=(d[s]||cn).concat(c)}};function nn(r,s){return r._handlers&&r._handlers[s]||cn}function vn(r,s,c){if(r.removeEventListener)r.removeEventListener(s,c,!1);else if(r.detachEvent)r.detachEvent("on"+s,c);else{var d=r._handlers,p=d&&d[s];if(p){var _=we(p,c);_>-1&&(d[s]=p.slice(0,_).concat(p.slice(_+1)))}}}function yn(r,s){var c=nn(r,s);if(c.length)for(var d=Array.prototype.slice.call(arguments,2),p=0;p<c.length;++p)c[p].apply(null,d)}function Dn(r,s,c){return"string"==typeof s&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),yn(r,c||s.type,r,s),Ft(s)||s.codemirrorIgnore}function Me(r){var s=r._handlers&&r._handlers.cursorActivity;if(s)for(var c=r.curOp.cursorActivityHandlers||(r.curOp.cursorActivityHandlers=[]),d=0;d<s.length;++d)-1==we(c,s[d])&&c.push(s[d])}function Le(r,s){return nn(r,s).length>0}function Be(r){r.prototype.on=function(s,c){Ut(this,s,c)},r.prototype.off=function(s,c){vn(this,s,c)}}function Xe(r){r.preventDefault?r.preventDefault():r.returnValue=!1}function Ke(r){r.stopPropagation?r.stopPropagation():r.cancelBubble=!0}function Ft(r){return null!=r.defaultPrevented?r.defaultPrevented:0==r.returnValue}function Kt(r){Xe(r),Ke(r)}function Nn(r){return r.target||r.srcElement}function zn(r){var s=r.which;return null==s&&(1&r.button?s=1:2&r.button?s=3:4&r.button&&(s=2)),G&&r.ctrlKey&&1==s&&(s=3),s}var ui,pr,Kn=function(){if($&&Z<9)return!1;var r=k("div");return"draggable"in r||"dragDrop"in r}();function pn(r){if(null==ui){var s=k("span","\u200b");oe(r,k("span",[s,document.createTextNode("x")])),0!=r.firstChild.offsetHeight&&(ui=s.offsetWidth<=1&&s.offsetHeight>2&&!($&&Z<8))}var c=ui?k("span","\u200b"):k("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return c.setAttribute("cm-text",""),c}function Ci(r){if(null!=pr)return pr;var s=oe(r,document.createTextNode("A\u062eA")),c=Ce(s,0,1).getBoundingClientRect(),d=Ce(s,1,2).getBoundingClientRect();return ae(r),!(!c||c.left==c.right)&&(pr=d.right-c.right<3)}var r,ga=3!="\n\nb".split(/\n/).length?function(r){for(var s=0,c=[],d=r.length;s<=d;){var p=r.indexOf("\n",s);-1==p&&(p=r.length);var _=r.slice(s,"\r"==r.charAt(p-1)?p-1:p),C=_.indexOf("\r");-1!=C?(c.push(_.slice(0,C)),s+=C+1):(c.push(_),s=p+1)}return c}:function(r){return r.split(/\r\n?|\n/)},Sl=window.getSelection?function(r){try{return r.selectionStart!=r.selectionEnd}catch(s){return!1}}:function(r){var s;try{s=r.ownerDocument.selection.createRange()}catch(c){}return!(!s||s.parentElement()!=r)&&0!=s.compareEndPoints("StartToEnd",s)},au="oncopy"in(r=k("div"))||(r.setAttribute("oncopy","return;"),"function"==typeof r.oncopy),ma=null;var ei={},Di={};function Or(r,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),ei[r]=s}function xl(r){if("string"==typeof r&&Di.hasOwnProperty(r))r=Di[r];else if(r&&"string"==typeof r.name&&Di.hasOwnProperty(r.name)){var s=Di[r.name];"string"==typeof s&&(s={name:s}),(r=Pe(s,r)).name=s.name}else{if("string"==typeof r&&/^[\w\-]+\/[\w\-]+\+xml$/.test(r))return xl("application/xml");if("string"==typeof r&&/^[\w\-]+\/[\w\-]+\+json$/.test(r))return xl("application/json")}return"string"==typeof r?{name:r}:r||{name:"null"}}function po(r,s){s=xl(s);var c=ei[s.name];if(!c)return po(r,"text/plain");var d=c(r,s);if(Bs.hasOwnProperty(s.name)){var p=Bs[s.name];for(var _ in p)!p.hasOwnProperty(_)||(d.hasOwnProperty(_)&&(d["_"+_]=d[_]),d[_]=p[_])}if(d.name=s.name,s.helperType&&(d.helperType=s.helperType),s.modeProps)for(var C in s.modeProps)d[C]=s.modeProps[C];return d}var Bs={};function zo(r,s){Ee(s,Bs.hasOwnProperty(r)?Bs[r]:Bs[r]={})}function ir(r,s){if(!0===s)return s;if(r.copyState)return r.copyState(s);var c={};for(var d in s){var p=s[d];p instanceof Array&&(p=p.concat([])),c[d]=p}return c}function Go(r,s){for(var c;r.innerMode&&(c=r.innerMode(s))&&c.mode!=r;)s=c.state,r=c.mode;return c||{mode:r,state:s}}function Ai(r,s,c){return!r.startState||r.startState(s,c)}var pt=function(r,s,c){this.pos=this.start=0,this.string=r,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=c};function yt(r,s){if((s-=r.first)<0||s>=r.size)throw new Error("There is no line "+(s+r.first)+" in the document.");for(var c=r;!c.lines;)for(var d=0;;++d){var p=c.children[d],_=p.chunkSize();if(s<_){c=p;break}s-=_}return c.lines[s]}function An(r,s,c){var d=[],p=s.line;return r.iter(s.line,c.line+1,function(_){var C=_.text;p==c.line&&(C=C.slice(0,c.ch)),p==s.line&&(C=C.slice(s.ch)),d.push(C),++p}),d}function ti(r,s,c){var d=[];return r.iter(s,c,function(p){d.push(p.text)}),d}function Rr(r,s){var c=s-r.height;if(c)for(var d=r;d;d=d.parent)d.height+=c}function Jt(r){if(null==r.parent)return null;for(var s=r.parent,c=we(s.lines,r),d=s.parent;d;s=d,d=d.parent)for(var p=0;d.children[p]!=s;++p)c+=d.children[p].chunkSize();return c+s.first}function ci(r,s){var c=r.first;e:do{for(var d=0;d<r.children.length;++d){var p=r.children[d],_=p.height;if(s<_){r=p;continue e}s-=_,c+=p.chunkSize()}return c}while(!r.lines);for(var C=0;C<r.lines.length;++C){var z=r.lines[C].height;if(s<z)break;s-=z}return c+C}function wn(r,s){return s>=r.first&&s<r.first+r.size}function go(r,s){return String(r.lineNumberFormatter(s+r.firstLineNumber))}function at(r,s,c){if(void 0===c&&(c=null),!(this instanceof at))return new at(r,s,c);this.line=r,this.ch=s,this.sticky=c}function wt(r,s){return r.line-s.line||r.ch-s.ch}function $o(r,s){return r.sticky==s.sticky&&0==wt(r,s)}function Wo(r){return at(r.line,r.ch)}function mo(r,s){return wt(r,s)<0?s:r}function vo(r,s){return wt(r,s)<0?r:s}function lr(r,s){return Math.max(r.first,Math.min(s,r.first+r.size-1))}function qt(r,s){if(s.line<r.first)return at(r.first,0);var c=r.first+r.size-1;return s.line>c?at(c,yt(r,c).text.length):function va(r,s){var c=r.ch;return null==c||c>s?at(r.line,s):c<0?at(r.line,0):r}(s,yt(r,s.line).text.length)}function ni(r,s){for(var c=[],d=0;d<s.length;d++)c[d]=qt(r,s[d]);return c}pt.prototype.eol=function(){return this.pos>=this.string.length},pt.prototype.sol=function(){return this.pos==this.lineStart},pt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},pt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},pt.prototype.eat=function(r){var s=this.string.charAt(this.pos);if("string"==typeof r?s==r:s&&(r.test?r.test(s):r(s)))return++this.pos,s},pt.prototype.eatWhile=function(r){for(var s=this.pos;this.eat(r););return this.pos>s},pt.prototype.eatSpace=function(){for(var r=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>r},pt.prototype.skipToEnd=function(){this.pos=this.string.length},pt.prototype.skipTo=function(r){var s=this.string.indexOf(r,this.pos);if(s>-1)return this.pos=s,!0},pt.prototype.backUp=function(r){this.pos-=r},pt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Q(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Q(this.string,this.lineStart,this.tabSize):0)},pt.prototype.indentation=function(){return Q(this.string,null,this.tabSize)-(this.lineStart?Q(this.string,this.lineStart,this.tabSize):0)},pt.prototype.match=function(r,s,c){if("string"!=typeof r){var _=this.string.slice(this.pos).match(r);return _&&_.index>0?null:(_&&!1!==s&&(this.pos+=_[0].length),_)}var d=function(C){return c?C.toLowerCase():C};if(d(this.string.substr(this.pos,r.length))==d(r))return!1!==s&&(this.pos+=r.length),!0},pt.prototype.current=function(){return this.string.slice(this.start,this.pos)},pt.prototype.hideFirstChars=function(r,s){this.lineStart+=r;try{return s()}finally{this.lineStart-=r}},pt.prototype.lookAhead=function(r){var s=this.lineOracle;return s&&s.lookAhead(r)},pt.prototype.baseToken=function(){var r=this.lineOracle;return r&&r.baseToken(this.pos)};var kn=function(r,s){this.state=r,this.lookAhead=s},_s=function(r,s,c,d){this.state=s,this.doc=r,this.line=c,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};function qo(r,s,c,d){var p=[r.state.modeGen],_={};Ml(r,s.text,r.doc.mode,c,function(X,ge){return p.push(X,ge)},_,d);for(var C=c.state,O=function(X){c.baseTokens=p;var ge=r.state.overlays[X],De=1,Ve=0;c.state=!0,Ml(r,s.text,ge.mode,c,function(Ue,Qe){for(var lt=De;Ve<Ue;){var _t=p[De];_t>Ue&&p.splice(De,1,Ue,p[De+1],_t),De+=2,Ve=Math.min(Ue,_t)}if(Qe)if(ge.opaque)p.splice(lt,De-lt,Ue,"overlay "+Qe),De=lt+2;else for(;lt<De;lt+=2){var St=p[lt+1];p[lt+1]=(St?St+" ":"")+"overlay "+Qe}},_),c.state=C,c.baseTokens=null,c.baseTokenPos=1},z=0;z<r.state.overlays.length;++z)O(z);return{styles:p,classes:_.bgClass||_.textClass?_:null}}function Xi(r,s,c){if(!s.styles||s.styles[0]!=r.state.modeGen){var d=ri(r,Jt(s)),p=s.text.length>r.options.maxHighlightLength&&ir(r.doc.mode,d.state),_=qo(r,s,d);p&&(d.state=p),s.stateAfter=d.save(!p),s.styles=_.styles,_.classes?s.styleClasses=_.classes:s.styleClasses&&(s.styleClasses=null),c===r.doc.highlightFrontier&&(r.doc.modeFrontier=Math.max(r.doc.modeFrontier,++r.doc.highlightFrontier))}return s.styles}function ri(r,s,c){var d=r.doc,p=r.display;if(!d.mode.startState)return new _s(d,!0,s);var _=function _r(r,s,c){for(var d,p,_=r.doc,C=c?-1:s-(r.doc.mode.innerMode?1e3:100),O=s;O>C;--O){if(O<=_.first)return _.first;var z=yt(_,O-1),X=z.stateAfter;if(X&&(!c||O+(X instanceof kn?X.lookAhead:0)<=_.modeFrontier))return O;var ge=Q(z.text,null,r.options.tabSize);(null==p||d>ge)&&(p=O-1,d=ge)}return p}(r,s,c),C=_>d.first&&yt(d,_-1).stateAfter,O=C?_s.fromSaved(d,C,_):new _s(d,Ai(d.mode),_);return d.iter(_,s,function(z){lu(r,z.text,O);var X=O.line;z.stateAfter=X==s-1||X%5==0||X>=p.viewFrom&&X<p.viewTo?O.save():null,O.nextLine()}),c&&(d.modeFrontier=O.line),O}function lu(r,s,c,d){var p=r.doc.mode,_=new pt(s,r.options.tabSize,c);for(_.start=_.pos=d||0,""==s&&kl(p,c.state);!_.eol();)Us(p,_,c.state),_.start=_.pos}function kl(r,s){if(r.blankLine)return r.blankLine(s);if(r.innerMode){var c=Go(r,s);if(c.mode.blankLine)return c.mode.blankLine(c.state)}}function Us(r,s,c,d){for(var p=0;p<10;p++){d&&(d[0]=Go(r,c).mode);var _=r.token(s,c);if(s.pos>s.start)return _}throw new Error("Mode "+r.name+" failed to advance stream.")}_s.prototype.lookAhead=function(r){var s=this.doc.getLine(this.line+r);return null!=s&&r>this.maxLookAhead&&(this.maxLookAhead=r),s},_s.prototype.baseToken=function(r){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=r;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-r}},_s.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},_s.fromSaved=function(r,s,c){return s instanceof kn?new _s(r,ir(r.mode,s.state),c,s.lookAhead):new _s(r,ir(r.mode,s),c)},_s.prototype.save=function(r){var s=!1!==r?ir(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new kn(s,this.maxLookAhead):s};var Bi=function(r,s,c){this.start=r.start,this.end=r.pos,this.string=r.current(),this.type=s||null,this.state=c};function $c(r,s,c,d){var C,ge,p=r.doc,_=p.mode,O=yt(p,(s=qt(p,s)).line),z=ri(r,s.line,c),X=new pt(O.text,r.options.tabSize,z);for(d&&(ge=[]);(d||X.pos<s.ch)&&!X.eol();)X.start=X.pos,C=Us(_,X,z.state),d&&ge.push(new Bi(X,C,ir(p.mode,z.state)));return d?ge:new Bi(X,C,z.state)}function ec(r,s){if(r)for(;;){var c=r.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;r=r.slice(0,c.index)+r.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==s[d]?s[d]=c[2]:new RegExp("(?:^|\\s)"+c[2]+"(?:$|\\s)").test(s[d])||(s[d]+=" "+c[2])}return r}function Ml(r,s,c,d,p,_,C){var O=c.flattenSpans;null==O&&(O=r.options.flattenSpans);var De,z=0,X=null,ge=new pt(s,r.options.tabSize,d),Ve=r.options.addModeClass&&[null];for(""==s&&ec(kl(c,d.state),_);!ge.eol();){if(ge.pos>r.options.maxHighlightLength?(O=!1,C&&lu(r,s,d,ge.pos),ge.pos=s.length,De=null):De=ec(Us(c,ge,d.state,Ve),_),Ve){var Ue=Ve[0].name;Ue&&(De="m-"+(De?Ue+" "+De:Ue))}if(!O||X!=De){for(;z<ge.start;)p(z=Math.min(ge.start,z+5e3),X);X=De}ge.start=ge.pos}for(;z<ge.pos;){var Qe=Math.min(ge.pos,z+5e3);p(Qe,X),z=Qe}}var Jd=!1,Ur=!1;function tc(r,s,c){this.marker=r,this.from=s,this.to=c}function yo(r,s){if(r)for(var c=0;c<r.length;++c){var d=r[c];if(d.marker==s)return d}}function qa(r,s){for(var c,d=0;d<r.length;++d)r[d]!=s&&(c||(c=[])).push(r[d]);return c}function cu(r,s){if(s.full)return null;var c=wn(r,s.from.line)&&yt(r,s.from.line).markedSpans,d=wn(r,s.to.line)&&yt(r,s.to.line).markedSpans;if(!c&&!d)return null;var p=s.from.ch,_=s.to.ch,C=0==wt(s.from,s.to),O=function qh(r,s,c){var d;if(r)for(var p=0;p<r.length;++p){var _=r[p],C=_.marker;null!=_.from&&!(C.inclusiveLeft?_.from<=s:_.from<s)&&(_.from!=s||"bookmark"!=C.type||c&&_.marker.insertLeft)||(d||(d=[])).push(new tc(C,_.from,null==_.to||(C.inclusiveRight?_.to>=s:_.to>s)?null:_.to))}return d}(c,p,C),z=function Xd(r,s,c){var d;if(r)for(var p=0;p<r.length;++p){var _=r[p],C=_.marker;(null==_.to||(C.inclusiveRight?_.to>=s:_.to>s)||_.from==s&&"bookmark"==C.type&&(!c||_.marker.insertLeft))&&(d||(d=[])).push(new tc(C,null==_.from||(C.inclusiveLeft?_.from<=s:_.from<s)?null:_.from-s,null==_.to?null:_.to-s))}return d}(d,_,C),X=1==s.text.length,ge=Ne(s.text).length+(X?p:0);if(O)for(var De=0;De<O.length;++De){var Ve=O[De];if(null==Ve.to){var Ue=yo(z,Ve.marker);Ue?X&&(Ve.to=null==Ue.to?null:Ue.to+ge):Ve.to=p}}if(z)for(var Qe=0;Qe<z.length;++Qe){var lt=z[Qe];null!=lt.to&&(lt.to+=ge),null==lt.from?yo(O,lt.marker)||(lt.from=ge,X&&(O||(O=[])).push(lt)):(lt.from+=ge,X&&(O||(O=[])).push(lt))}O&&(O=ya(O)),z&&z!=O&&(z=ya(z));var St=[O];if(!X){var st,At=s.text.length-2;if(At>0&&O)for(var Lt=0;Lt<O.length;++Lt)null==O[Lt].to&&(st||(st=[])).push(new tc(O[Lt].marker,null,null));for(var Ht=0;Ht<At;++Ht)St.push(st);St.push(z)}return St}function ya(r){for(var s=0;s<r.length;++s){var c=r[s];null!=c.from&&c.from==c.to&&!1!==c.marker.clearWhenEmpty&&r.splice(s--,1)}return r.length?r:null}function Kc(r){var s=r.markedSpans;if(s){for(var c=0;c<s.length;++c)s[c].marker.detachLine(r);r.markedSpans=null}}function Vs(r,s){if(s){for(var c=0;c<s.length;++c)s[c].marker.attachLine(r);r.markedSpans=s}}function Zc(r){return r.inclusiveLeft?-1:0}function Ko(r){return r.inclusiveRight?1:0}function Hs(r,s){var c=r.lines.length-s.lines.length;if(0!=c)return c;var d=r.find(),p=s.find(),_=wt(d.from,p.from)||Zc(r)-Zc(s);return _?-_:wt(d.to,p.to)||Ko(r)-Ko(s)||s.id-r.id}function Ui(r,s){var d,c=Ur&&r.markedSpans;if(c)for(var p=void 0,_=0;_<c.length;++_)(p=c[_]).marker.collapsed&&null==(s?p.from:p.to)&&(!d||Hs(d,p.marker)<0)&&(d=p.marker);return d}function Zo(r){return Ui(r,!0)}function _o(r){return Ui(r,!1)}function Ka(r,s){var d,c=Ur&&r.markedSpans;if(c)for(var p=0;p<c.length;++p){var _=c[p];_.marker.collapsed&&(null==_.from||_.from<s)&&(null==_.to||_.to>s)&&(!d||Hs(d,_.marker)<0)&&(d=_.marker)}return d}function nc(r,s,c,d,p){var _=yt(r,s),C=Ur&&_.markedSpans;if(C)for(var O=0;O<C.length;++O){var z=C[O];if(z.marker.collapsed){var X=z.marker.find(0),ge=wt(X.from,c)||Zc(z.marker)-Zc(p),De=wt(X.to,d)||Ko(z.marker)-Ko(p);if(!(ge>=0&&De<=0||ge<=0&&De>=0)&&(ge<=0&&(z.marker.inclusiveRight&&p.inclusiveLeft?wt(X.to,c)>=0:wt(X.to,c)>0)||ge>=0&&(z.marker.inclusiveRight&&p.inclusiveLeft?wt(X.from,d)<=0:wt(X.from,d)<0)))return!0}}}function js(r){for(var s;s=Zo(r);)r=s.find(-1,!0).line;return r}function bs(r,s){var c=yt(r,s),d=js(c);return c==d?s:Jt(d)}function Vi(r,s){if(s>r.lastLine())return s;var d,c=yt(r,s);if(!bo(r,c))return s;for(;d=_o(c);)c=d.find(1,!0).line;return Jt(c)+1}function bo(r,s){var c=Ur&&s.markedSpans;if(c)for(var d=void 0,p=0;p<c.length;++p)if((d=c[p]).marker.collapsed){if(null==d.from)return!0;if(!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&Vr(r,s,d))return!0}}function Vr(r,s,c){if(null==c.to){var d=c.marker.find(1,!0);return Vr(r,d.line,yo(d.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==s.text.length)return!0;for(var p=void 0,_=0;_<s.markedSpans.length;++_)if((p=s.markedSpans[_]).marker.collapsed&&!p.marker.widgetNode&&p.from==c.to&&(null==p.to||p.to!=c.from)&&(p.marker.inclusiveLeft||c.marker.inclusiveRight)&&Vr(r,s,p))return!0}function Jn(r){for(var s=0,c=(r=js(r)).parent,d=0;d<c.lines.length;++d){var p=c.lines[d];if(p==r)break;s+=p.height}for(var _=c.parent;_;_=(c=_).parent)for(var C=0;C<_.children.length;++C){var O=_.children[C];if(O==c)break;s+=O.height}return s}function Ol(r){if(0==r.height)return 0;for(var c,s=r.text.length,d=r;c=Zo(d);){var p=c.find(0,!0);d=p.from.line,s+=p.from.ch-p.to.ch}for(d=r;c=_o(d);){var _=c.find(0,!0);s-=d.text.length-_.from.ch,s+=(d=_.to.line).text.length-_.to.ch}return s}function du(r){var s=r.display,c=r.doc;s.maxLine=yt(c,c.first),s.maxLineLength=Ol(s.maxLine),s.maxLineChanged=!0,c.iter(function(d){var p=Ol(d);p>s.maxLineLength&&(s.maxLineLength=p,s.maxLine=d)})}var wo=function(r,s,c){this.text=r,Vs(this,s),this.height=c?c(this):1};function fu(r){r.parent=null,Kc(r)}wo.prototype.lineNo=function(){return Jt(this)},Be(wo);var rc={},Eo={};function pu(r,s){if(!r||/^\s*$/.test(r))return null;var c=s.addModeClass?Eo:rc;return c[r]||(c[r]=r.replace(/\S+/g,"cm-$&"))}function Hn(r,s){var c=he("span",null,null,P?"padding-right: .1px":null),d={pre:he("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:r,trailingSpace:!1,splitSpaces:r.getOption("lineWrapping")};s.measure={};for(var p=0;p<=(s.rest?s.rest.length:0);p++){var _=p?s.rest[p-1]:s.line,C=void 0;d.pos=0,d.addToken=Yo,Ci(r.display.measure)&&(C=xt(_,r.doc.direction))&&(d.addToken=gu(d.addToken,C)),d.map=[],ba(_,d,Xi(r,_,s!=r.display.externalMeasured&&Jt(_))),_.styleClasses&&(_.styleClasses.bgClass&&(d.bgClass=Re(_.styleClasses.bgClass,d.bgClass||"")),_.styleClasses.textClass&&(d.textClass=Re(_.styleClasses.textClass,d.textClass||""))),0==d.map.length&&d.map.push(0,0,d.content.appendChild(pn(r.display.measure))),0==p?(s.measure.map=d.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(d.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(P){var z=d.content.lastChild;(/\bcm-tab\b/.test(z.className)||z.querySelector&&z.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return yn(r,"renderLine",r,s.line,d.pre),d.pre.className&&(d.textClass=Re(d.pre.className,d.textClass||"")),d}function Rl(r){var s=k("span","\u2022","cm-invalidchar");return s.title="\\u"+r.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function Yo(r,s,c,d,p,_,C){if(s){var ge,O=r.splitSpaces?function Bn(r,s){if(r.length>1&&!/  /.test(r))return r;for(var c=s,d="",p=0;p<r.length;p++){var _=r.charAt(p);" "==_&&c&&(p==r.length-1||32==r.charCodeAt(p+1))&&(_="\xa0"),d+=_,c=" "==_}return d}(s,r.trailingSpace):s,z=r.cm.state.specialChars,X=!1;if(z.test(s)){ge=document.createDocumentFragment();for(var De=0;;){z.lastIndex=De;var Ve=z.exec(s),Ue=Ve?Ve.index-De:s.length-De;if(Ue){var Qe=document.createTextNode(O.slice(De,De+Ue));ge.appendChild($&&Z<9?k("span",[Qe]):Qe),r.map.push(r.pos,r.pos+Ue,Qe),r.col+=Ue,r.pos+=Ue}if(!Ve)break;De+=Ue+1;var lt=void 0;if("\t"==Ve[0]){var _t=r.cm.options.tabSize,St=_t-r.col%_t;(lt=ge.appendChild(k("span",J(St),"cm-tab"))).setAttribute("role","presentation"),lt.setAttribute("cm-text","\t"),r.col+=St}else"\r"==Ve[0]||"\n"==Ve[0]?((lt=ge.appendChild(k("span","\r"==Ve[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Ve[0]),r.col+=1):((lt=r.cm.options.specialCharPlaceholder(Ve[0])).setAttribute("cm-text",Ve[0]),ge.appendChild($&&Z<9?k("span",[lt]):lt),r.col+=1);r.map.push(r.pos,r.pos+1,lt),r.pos++}}else r.col+=s.length,ge=document.createTextNode(O),r.map.push(r.pos,r.pos+s.length,ge),$&&Z<9&&(X=!0),r.pos+=s.length;if(r.trailingSpace=32==O.charCodeAt(s.length-1),c||d||p||X||_||C){var At=c||"";d&&(At+=d),p&&(At+=p);var st=k("span",[ge],At,_);if(C)for(var Lt in C)C.hasOwnProperty(Lt)&&"style"!=Lt&&"class"!=Lt&&st.setAttribute(Lt,C[Lt]);return r.content.appendChild(st)}r.content.appendChild(ge)}}function gu(r,s){return function(c,d,p,_,C,O,z){p=p?p+" cm-force-border":"cm-force-border";for(var X=c.pos,ge=X+d.length;;){for(var De=void 0,Ve=0;Ve<s.length&&!((De=s[Ve]).to>X&&De.from<=X);Ve++);if(De.to>=ge)return r(c,d,p,_,C,O,z);r(c,d.slice(0,De.to-X),p,_,null,O,z),_=null,d=d.slice(De.to-X),X=De.to}}}function Za(r,s,c,d){var p=!d&&c.widgetNode;p&&r.map.push(r.pos,r.pos+s,p),!d&&r.cm.display.input.needsContentAttribute&&(p||(p=r.content.appendChild(document.createElement("span"))),p.setAttribute("cm-marker",c.id)),p&&(r.cm.display.input.setUneditable(p),r.content.appendChild(p)),r.pos+=s,r.trailingSpace=!1}function ba(r,s,c){var d=r.markedSpans,p=r.text,_=0;if(d)for(var De,Ve,Qe,lt,_t,St,At,O=p.length,z=0,X=1,ge="",Ue=0;;){if(Ue==z){Qe=lt=_t=Ve="",At=null,St=null,Ue=1/0;for(var st=[],Lt=void 0,Ht=0;Ht<d.length;++Ht){var jt=d[Ht],ln=jt.marker;if("bookmark"==ln.type&&jt.from==z&&ln.widgetNode)st.push(ln);else if(jt.from<=z&&(null==jt.to||jt.to>z||ln.collapsed&&jt.to==z&&jt.from==z)){if(null!=jt.to&&jt.to!=z&&Ue>jt.to&&(Ue=jt.to,lt=""),ln.className&&(Qe+=" "+ln.className),ln.css&&(Ve=(Ve?Ve+";":"")+ln.css),ln.startStyle&&jt.from==z&&(_t+=" "+ln.startStyle),ln.endStyle&&jt.to==Ue&&(Lt||(Lt=[])).push(ln.endStyle,jt.to),ln.title&&((At||(At={})).title=ln.title),ln.attributes)for(var Vn in ln.attributes)(At||(At={}))[Vn]=ln.attributes[Vn];ln.collapsed&&(!St||Hs(St.marker,ln)<0)&&(St=jt)}else jt.from>z&&Ue>jt.from&&(Ue=jt.from)}if(Lt)for(var qr=0;qr<Lt.length;qr+=2)Lt[qr+1]==Ue&&(lt+=" "+Lt[qr]);if(!St||St.from==z)for(var yr=0;yr<st.length;++yr)Za(s,0,st[yr]);if(St&&(St.from||0)==z){if(Za(s,(null==St.to?O+1:St.to)-z,St.marker,null==St.from),null==St.to)return;St.to==z&&(St=!1)}}if(z>=O)break;for(var Ar=Math.min(O,Ue);;){if(ge){var os=z+ge.length;if(!St){var Ir=os>Ar?ge.slice(0,Ar-z):ge;s.addToken(s,Ir,De?De+Qe:Qe,_t,z+Ir.length==Ue?lt:"",Ve,At)}if(os>=Ar){ge=ge.slice(Ar-z),z=Ar;break}z=os,_t=""}ge=p.slice(_,_=c[X++]),De=pu(c[X++],s.cm.options)}}else for(var C=1;C<c.length;C+=2)s.addToken(s,p.slice(_,_=c[C]),pu(c[C+1],s.cm.options))}function Nr(r,s,c){this.line=s,this.rest=function Yc(r){for(var s,c;s=_o(r);)r=s.find(1,!0).line,(c||(c=[])).push(r);return c}(s),this.size=this.rest?Jt(Ne(this.rest))-c+1:1,this.node=this.text=null,this.hidden=bo(r,s)}function wa(r,s,c){for(var p,d=[],_=s;_<c;_=p){var C=new Nr(r.doc,yt(r.doc,_),_);p=_+C.size,d.push(C)}return d}var Gn=null;var Ii=null;function ur(r,s){var c=nn(r,s);if(c.length){var p,d=Array.prototype.slice.call(arguments,2);Gn?p=Gn.delayedCallbacks:Ii?p=Ii:(p=Ii=[],setTimeout(Hi,0));for(var _=function(O){p.push(function(){return c[O].apply(null,d)})},C=0;C<c.length;++C)_(C)}}function Hi(){var r=Ii;Ii=null;for(var s=0;s<r.length;++s)r[s]()}function Do(r,s,c,d){for(var p=0;p<s.changes.length;p++){var _=s.changes[p];"text"==_?Nl(r,s):"gutter"==_?Ja(r,s,c,d):"class"==_?mu(r,s):"widget"==_&&ic(r,s,d)}s.changes=null}function es(r){return r.node==r.text&&(r.node=k("div",null,null,"position: relative"),r.text.parentNode&&r.text.parentNode.replaceChild(r.node,r.text),r.node.appendChild(r.text),$&&Z<8&&(r.node.style.zIndex=2)),r.node}function Qa(r,s){var c=r.display.externalMeasured;return c&&c.line==s.line?(r.display.externalMeasured=null,s.measure=c.measure,c.built):Hn(r,s)}function Nl(r,s){var c=s.text.className,d=Qa(r,s);s.text==s.node&&(s.node=d.pre),s.text.parentNode.replaceChild(d.pre,s.text),s.text=d.pre,d.bgClass!=s.bgClass||d.textClass!=s.textClass?(s.bgClass=d.bgClass,s.textClass=d.textClass,mu(r,s)):c&&(s.text.className=c)}function mu(r,s){(function Yt(r,s){var c=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(c&&(c+=" CodeMirror-linebackground"),s.background)c?s.background.className=c:(s.background.parentNode.removeChild(s.background),s.background=null);else if(c){var d=es(s);s.background=d.insertBefore(k("div",null,c),d.firstChild),r.display.input.setUneditable(s.background)}})(r,s),s.line.wrapClass?es(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className=""),s.text.className=(s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass)||""}function Ja(r,s,c,d){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var p=es(s);s.gutterBackground=k("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(r.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),r.display.input.setUneditable(s.gutterBackground),p.insertBefore(s.gutterBackground,s.text)}var _=s.line.gutterMarkers;if(r.options.lineNumbers||_){var C=es(s),O=s.gutter=k("div",null,"CodeMirror-gutter-wrapper","left: "+(r.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(O.setAttribute("aria-hidden","true"),r.display.input.setUneditable(O),C.insertBefore(O,s.text),s.line.gutterClass&&(O.className+=" "+s.line.gutterClass),r.options.lineNumbers&&(!_||!_["CodeMirror-linenumbers"])&&(s.lineNumber=O.appendChild(k("div",go(r.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+r.display.lineNumInnerWidth+"px"))),_)for(var z=0;z<r.display.gutterSpecs.length;++z){var X=r.display.gutterSpecs[z].className,ge=_.hasOwnProperty(X)&&_[X];ge&&O.appendChild(k("div",[ge],"CodeMirror-gutter-elt","left: "+d.gutterLeft[X]+"px; width: "+d.gutterWidth[X]+"px"))}}}function ic(r,s,c){s.alignable&&(s.alignable=null);for(var d=ye("CodeMirror-linewidget"),p=s.node.firstChild,_=void 0;p;p=_)_=p.nextSibling,d.test(p.className)&&s.node.removeChild(p);Qc(r,s,c)}function Pl(r,s,c,d){var p=Qa(r,s);return s.text=s.node=p.pre,p.bgClass&&(s.bgClass=p.bgClass),p.textClass&&(s.textClass=p.textClass),mu(r,s),Ja(r,s,c,d),Qc(r,s,d),s.node}function Qc(r,s,c){if(ft(r,s.line,s,c,!0),s.rest)for(var d=0;d<s.rest.length;d++)ft(r,s.rest[d],s,c,!1)}function ft(r,s,c,d,p){if(s.widgets)for(var _=es(c),C=0,O=s.widgets;C<O.length;++C){var z=O[C],X=k("div",[z.node],"CodeMirror-linewidget"+(z.className?" "+z.className:""));z.handleMouseEvents||X.setAttribute("cm-ignore-events","true"),mn(z,X,c,d),r.display.input.setUneditable(X),p&&z.above?_.insertBefore(X,c.gutter||c.text):_.appendChild(X),ur(z,"redraw")}}function mn(r,s,c,d){if(r.noHScroll){(c.alignable||(c.alignable=[])).push(s);var p=d.wrapperWidth;s.style.left=d.fixedPos+"px",r.coverGutter||(p-=d.gutterTotalWidth,s.style.paddingLeft=d.gutterTotalWidth+"px"),s.style.width=p+"px"}r.coverGutter&&(s.style.zIndex=5,s.style.position="relative",r.noHScroll||(s.style.marginLeft=-d.gutterTotalWidth+"px"))}function Ao(r){if(null!=r.height)return r.height;var s=r.doc.cm;if(!s)return 0;if(!ie(document.body,r.node)){var c="position: relative;";r.coverGutter&&(c+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),r.noHScroll&&(c+="width: "+s.display.wrapper.clientWidth+"px;"),oe(s.display.measure,k("div",[r.node],null,c))}return r.height=r.node.parentNode.offsetHeight}function Pn(r,s){for(var c=Nn(s);c!=r.wrapper;c=c.parentNode)if(!c||1==c.nodeType&&"true"==c.getAttribute("cm-ignore-events")||c.parentNode==r.sizer&&c!=r.mover)return!0}function zs(r){return r.lineSpace.offsetTop}function Ea(r){return r.mover.offsetHeight-r.lineSpace.offsetHeight}function di(r){if(r.cachedPaddingH)return r.cachedPaddingH;var s=oe(r.measure,k("pre","x","CodeMirror-line-like")),c=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,d={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(r.cachedPaddingH=d),d}function ws(r){return 50-r.display.nativeBarWidth}function Io(r){return r.display.scroller.clientWidth-ws(r)-r.display.barWidth}function vu(r){return r.display.scroller.clientHeight-ws(r)-r.display.barHeight}function Xa(r,s,c){if(r.line==s)return{map:r.measure.map,cache:r.measure.cache};if(r.rest){for(var d=0;d<r.rest.length;d++)if(r.rest[d]==s)return{map:r.measure.maps[d],cache:r.measure.caches[d]};for(var p=0;p<r.rest.length;p++)if(Jt(r.rest[p])>c)return{map:r.measure.maps[p],cache:r.measure.caches[p],before:!0}}}function br(r,s,c,d){return wr(r,Qo(r,s),c,d)}function ji(r,s){if(s>=r.display.viewFrom&&s<r.display.viewTo)return r.display.view[Xn(r,s)];var c=r.display.externalMeasured;return c&&s>=c.lineN&&s<c.lineN+c.size?c:void 0}function Qo(r,s){var c=Jt(s),d=ji(r,c);d&&!d.text?d=null:d&&d.changes&&(Do(r,d,c,Fl(r)),r.curOp.forceUpdate=!0),d||(d=function el(r,s){var c=Jt(s=js(s)),d=r.display.externalMeasured=new Nr(r.doc,s,c);d.lineN=c;var p=d.built=Hn(r,d);return d.text=p.pre,oe(r.display.lineMeasure,p.pre),d}(r,s));var p=Xa(d,s,c);return{line:s,view:d,rect:null,map:p.map,cache:p.cache,before:p.before,hasHeights:!1}}function wr(r,s,c,d,p){s.before&&(c=-1);var C,_=c+(d||"");return s.cache.hasOwnProperty(_)?C=s.cache[_]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(function Jc(r,s,c){var d=r.options.lineWrapping,p=d&&Io(r);if(!s.measure.heights||d&&s.measure.width!=p){var _=s.measure.heights=[];if(d){s.measure.width=p;for(var C=s.text.firstChild.getClientRects(),O=0;O<C.length-1;O++){var z=C[O],X=C[O+1];Math.abs(z.bottom-X.bottom)>2&&_.push((z.bottom+X.top)/2-c.top)}}_.push(c.bottom-c.top)}}(r,s.view,s.rect),s.hasHeights=!0),(C=function Ll(r,s,c,d){var X,p=tl(s.map,c,d),_=p.node,C=p.start,O=p.end,z=p.collapse;if(3==_.nodeType){for(var ge=0;ge<4;ge++){for(;C&&Ye(s.line.text.charAt(p.coverStart+C));)--C;for(;p.coverStart+O<p.coverEnd&&Ye(s.line.text.charAt(p.coverStart+O));)++O;if((X=$&&Z<9&&0==C&&O==p.coverEnd-p.coverStart?_.parentNode.getBoundingClientRect():Xc(Ce(_,C,O).getClientRects(),d)).left||X.right||0==C)break;O=C,C-=1,z="right"}$&&Z<11&&(X=function ed(r,s){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function Mr(r){if(null!=ma)return ma;var s=oe(r,k("span","x")),c=s.getBoundingClientRect(),d=Ce(s,0,1).getBoundingClientRect();return ma=Math.abs(c.left-d.left)>1}(r))return s;var c=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*c,right:s.right*c,top:s.top*d,bottom:s.bottom*d}}(r.display.measure,X))}else{var De;C>0&&(z=d="right"),X=r.options.lineWrapping&&(De=_.getClientRects()).length>1?De["right"==d?De.length-1:0]:_.getBoundingClientRect()}if($&&Z<9&&!C&&(!X||!X.left&&!X.right)){var Ve=_.parentNode.getClientRects()[0];X=Ve?{left:Ve.left,right:Ve.left+Ca(r.display),top:Ve.top,bottom:Ve.bottom}:Gs}for(var Ue=X.top-s.rect.top,Qe=X.bottom-s.rect.top,lt=(Ue+Qe)/2,_t=s.view.measure.heights,St=0;St<_t.length-1&&!(lt<_t[St]);St++);var Lt={left:("right"==z?X.right:X.left)-s.rect.left,right:("left"==z?X.left:X.right)-s.rect.left,top:St?_t[St-1]:0,bottom:_t[St]};return!X.left&&!X.right&&(Lt.bogus=!0),r.options.singleCursorHeightPerLine||(Lt.rtop=Ue,Lt.rbottom=Qe),Lt}(r,s,c,d)).bogus||(s.cache[_]=C)),{left:C.left,right:C.right,top:p?C.rtop:C.top,bottom:p?C.rbottom:C.bottom}}var wu,Gs={left:0,right:0,top:0,bottom:0};function tl(r,s,c){for(var d,p,_,C,O,z,X=0;X<r.length;X+=3)if(z=r[X+1],s<(O=r[X])?(p=0,_=1,C="left"):s<z?_=1+(p=s-O):(X==r.length-3||s==z&&r[X+3]>s)&&(p=(_=z-O)-1,s>=z&&(C="right")),null!=p){if(d=r[X+2],O==z&&c==(d.insertLeft?"left":"right")&&(C=c),"left"==c&&0==p)for(;X&&r[X-2]==r[X-3]&&r[X-1].insertLeft;)d=r[2+(X-=3)],C="left";if("right"==c&&p==z-O)for(;X<r.length-3&&r[X+3]==r[X+4]&&!r[X+5].insertLeft;)d=r[(X+=3)+2],C="right";break}return{node:d,start:p,end:_,collapse:C,coverStart:O,coverEnd:z}}function Xc(r,s){var c=Gs;if("left"==s)for(var d=0;d<r.length&&(c=r[d]).left==c.right;d++);else for(var p=r.length-1;p>=0&&(c=r[p]).left==c.right;p--);return c}function Jo(r){if(r.measure&&(r.measure.cache={},r.measure.heights=null,r.rest))for(var s=0;s<r.rest.length;s++)r.measure.caches[s]={}}function yu(r){r.display.externalMeasure=null,ae(r.display.lineMeasure);for(var s=0;s<r.display.view.length;s++)Jo(r.display.view[s])}function To(r){yu(r),r.display.cachedCharWidth=r.display.cachedTextHeight=r.display.cachedPaddingH=null,r.options.lineWrapping||(r.display.maxLineChanged=!0),r.display.lineNumChars=null}function _u(){return H&&V?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function eh(){return H&&V?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function nl(r){var c=js(r).widgets,d=0;if(c)for(var p=0;p<c.length;++p)c[p].above&&(d+=Ao(c[p]));return d}function $s(r,s,c,d,p){if(!p){var _=nl(s);c.top+=_,c.bottom+=_}if("line"==d)return c;d||(d="local");var C=Jn(s);if("local"==d?C+=zs(r.display):C-=r.display.viewOffset,"page"==d||"window"==d){var O=r.display.lineSpace.getBoundingClientRect();C+=O.top+("window"==d?0:eh());var z=O.left+("window"==d?0:_u());c.left+=z,c.right+=z}return c.top+=C,c.bottom+=C,c}function bu(r,s,c){if("div"==c)return s;var d=s.left,p=s.top;if("page"==c)d-=_u(),p-=eh();else if("local"==c||!c){var _=r.display.sizer.getBoundingClientRect();d+=_.left,p+=_.top}var C=r.display.lineSpace.getBoundingClientRect();return{left:d-C.left,top:p-C.top}}function Ws(r,s,c,d,p){return d||(d=yt(r.doc,s.line)),$s(r,d,br(r,d,s.ch,p),c)}function ts(r,s,c,d,p,_){function C(Qe,lt){var _t=wr(r,p,Qe,lt?"right":"left",_);return lt?_t.left=_t.right:_t.right=_t.left,$s(r,d,_t,c)}d=d||yt(r.doc,s.line),p||(p=Qo(r,d));var O=xt(d,r.doc.direction),z=s.ch,X=s.sticky;if(z>=d.text.length?(z=d.text.length,X="before"):z<=0&&(z=0,X="after"),!O)return C("before"==X?z-1:z,"before"==X);function ge(Qe,lt,_t){return C(_t?Qe-1:Qe,1==O[lt].level!=_t)}var De=Qt(O,z,X),Ve=sn,Ue=ge(z,De,"before"==X);return null!=Ve&&(Ue.other=ge(z,Ve,"before"!=X)),Ue}function td(r,s){var c=0;s=qt(r.doc,s),r.options.lineWrapping||(c=Ca(r.display)*s.ch);var d=yt(r.doc,s.line),p=Jn(d)+zs(r.display);return{left:c,right:c,top:p,bottom:p+d.height}}function Xo(r,s,c,d,p){var _=at(r,s,c);return _.xRel=p,d&&(_.outside=d),_}function ns(r,s,c){var d=r.doc;if((c+=r.display.viewOffset)<0)return Xo(d.first,0,null,-1,-1);var p=ci(d,c),_=d.first+d.size-1;if(p>_)return Xo(d.first+d.size-1,yt(d,_).text.length,null,1,1);s<0&&(s=0);for(var C=yt(d,p);;){var O=cr(r,C,p,s,c),z=Ka(C,O.ch+(O.xRel>0||O.outside>0?1:0));if(!z)return O;var X=z.find(1);if(X.line==p)return X;C=yt(d,p=X.line)}}function nd(r,s,c,d){d-=nl(s);var p=s.text.length,_=kt(function(C){return wr(r,c,C-1).bottom<=d},p,0);return{begin:_,end:p=kt(function(C){return wr(r,c,C).top>d},_,p)}}function Pr(r,s,c,d){return c||(c=Qo(r,s)),nd(r,s,c,$s(r,s,wr(r,c,d),"line").top)}function Es(r,s,c,d){return!(r.bottom<=c)&&(r.top>c||(d?r.left:r.right)>s)}function cr(r,s,c,d,p){p-=Jn(s);var _=Qo(r,s),C=nl(s),O=0,z=s.text.length,X=!0,ge=xt(s,r.doc.direction);if(ge){var De=(r.options.lineWrapping?th:Kg)(r,s,c,_,ge,d,p);O=(X=1!=De.level)?De.from:De.to-1,z=X?De.to:De.from-1}var lt,_t,Ve=null,Ue=null,Qe=kt(function(Ht){var jt=wr(r,_,Ht);return jt.top+=C,jt.bottom+=C,!!Es(jt,d,p,!1)&&(jt.top<=p&&jt.left<=d&&(Ve=Ht,Ue=jt),!0)},O,z),St=!1;if(Ue){var At=d-Ue.left<Ue.right-d,st=At==X;Qe=Ve+(st?0:1),_t=st?"after":"before",lt=At?Ue.left:Ue.right}else{!X&&(Qe==z||Qe==O)&&Qe++,_t=0==Qe?"after":Qe==s.text.length?"before":wr(r,_,Qe-(X?1:0)).bottom+C<=p==X?"after":"before";var Lt=ts(r,at(c,Qe,_t),"line",s,_);lt=Lt.left,St=p<Lt.top?-1:p>=Lt.bottom?1:0}return Xo(c,Qe=nt(s.text,Qe,1),_t,St,d-lt)}function Kg(r,s,c,d,p,_,C){var O=kt(function(De){var Ve=p[De],Ue=1!=Ve.level;return Es(ts(r,at(c,Ue?Ve.to:Ve.from,Ue?"before":"after"),"line",s,d),_,C,!0)},0,p.length-1),z=p[O];if(O>0){var X=1!=z.level,ge=ts(r,at(c,X?z.from:z.to,X?"after":"before"),"line",s,d);Es(ge,_,C,!0)&&ge.top>C&&(z=p[O-1])}return z}function th(r,s,c,d,p,_,C){var O=nd(r,s,d,C),z=O.begin,X=O.end;/\s/.test(s.text.charAt(X-1))&&X--;for(var ge=null,De=null,Ve=0;Ve<p.length;Ve++){var Ue=p[Ve];if(!(Ue.from>=X||Ue.to<=z)){var lt=wr(r,d,1!=Ue.level?Math.min(X,Ue.to)-1:Math.max(z,Ue.from)).right,_t=lt<_?_-lt+1e9:lt-_;(!ge||De>_t)&&(ge=Ue,De=_t)}}return ge||(ge=p[p.length-1]),ge.from<z&&(ge={from:z,to:ge.to,level:ge.level}),ge.to>X&&(ge={from:ge.from,to:X,level:ge.level}),ge}function Eu(r){if(null!=r.cachedTextHeight)return r.cachedTextHeight;if(null==wu){wu=k("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)wu.appendChild(document.createTextNode("x")),wu.appendChild(k("br"));wu.appendChild(document.createTextNode("x"))}oe(r.measure,wu);var c=wu.offsetHeight/50;return c>3&&(r.cachedTextHeight=c),ae(r.measure),c||1}function Ca(r){if(null!=r.cachedCharWidth)return r.cachedCharWidth;var s=k("span","xxxxxxxxxx"),c=k("pre",[s],"CodeMirror-line-like");oe(r.measure,c);var d=s.getBoundingClientRect(),p=(d.right-d.left)/10;return p>2&&(r.cachedCharWidth=p),p||10}function Fl(r){for(var s=r.display,c={},d={},p=s.gutters.clientLeft,_=s.gutters.firstChild,C=0;_;_=_.nextSibling,++C){var O=r.display.gutterSpecs[C].className;c[O]=_.offsetLeft+_.clientLeft+p,d[O]=_.clientWidth}return{fixedPos:Cs(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:s.wrapper.clientWidth}}function Cs(r){return r.scroller.getBoundingClientRect().left-r.sizer.getBoundingClientRect().left}function rl(r){var s=Eu(r.display),c=r.options.lineWrapping,d=c&&Math.max(5,r.display.scroller.clientWidth/Ca(r.display)-3);return function(p){if(bo(r.doc,p))return 0;var _=0;if(p.widgets)for(var C=0;C<p.widgets.length;C++)p.widgets[C].height&&(_+=p.widgets[C].height);return c?_+(Math.ceil(p.text.length/d)||1)*s:_+s}}function Bl(r){var s=r.doc,c=rl(r);s.iter(function(d){var p=c(d);p!=d.height&&Rr(d,p)})}function qs(r,s,c,d){var p=r.display;if(!c&&"true"==Nn(s).getAttribute("cm-not-content"))return null;var _,C,O=p.lineSpace.getBoundingClientRect();try{_=s.clientX-O.left,C=s.clientY-O.top}catch(De){return null}var X,z=ns(r,_,C);if(d&&z.xRel>0&&(X=yt(r.doc,z.line).text).length==z.ch){var ge=Q(X,X.length,r.options.tabSize)-X.length;z=at(z.line,Math.max(0,Math.round((_-di(r.display).left)/Ca(r.display))-ge))}return z}function Xn(r,s){if(s>=r.display.viewTo||(s-=r.display.viewFrom)<0)return null;for(var c=r.display.view,d=0;d<c.length;d++)if((s-=c[d].size)<0)return d}function hi(r,s,c,d){null==s&&(s=r.doc.first),null==c&&(c=r.doc.first+r.doc.size),d||(d=0);var p=r.display;if(d&&c<p.viewTo&&(null==p.updateLineNumbers||p.updateLineNumbers>s)&&(p.updateLineNumbers=s),r.curOp.viewChanged=!0,s>=p.viewTo)Ur&&bs(r.doc,s)<p.viewTo&&zi(r);else if(c<=p.viewFrom)Ur&&Vi(r.doc,c+d)>p.viewFrom?zi(r):(p.viewFrom+=d,p.viewTo+=d);else if(s<=p.viewFrom&&c>=p.viewTo)zi(r);else if(s<=p.viewFrom){var _=sc(r,c,c+d,1);_?(p.view=p.view.slice(_.index),p.viewFrom=_.lineN,p.viewTo+=d):zi(r)}else if(c>=p.viewTo){var C=sc(r,s,s,-1);C?(p.view=p.view.slice(0,C.index),p.viewTo=C.lineN):zi(r)}else{var O=sc(r,s,s,-1),z=sc(r,c,c+d,1);O&&z?(p.view=p.view.slice(0,O.index).concat(wa(r,O.lineN,z.lineN)).concat(p.view.slice(z.index)),p.viewTo+=d):zi(r)}var X=p.externalMeasured;X&&(c<X.lineN?X.lineN+=d:s<X.lineN+X.size&&(p.externalMeasured=null))}function ii(r,s,c){r.curOp.viewChanged=!0;var d=r.display,p=r.display.externalMeasured;if(p&&s>=p.lineN&&s<p.lineN+p.size&&(d.externalMeasured=null),!(s<d.viewFrom||s>=d.viewTo)){var _=d.view[Xn(r,s)];if(null!=_.node){var C=_.changes||(_.changes=[]);-1==we(C,c)&&C.push(c)}}}function zi(r){r.display.viewFrom=r.display.viewTo=r.doc.first,r.display.view=[],r.display.viewOffset=0}function sc(r,s,c,d){var _,p=Xn(r,s),C=r.display.view;if(!Ur||c==r.doc.first+r.doc.size)return{index:p,lineN:c};for(var O=r.display.viewFrom,z=0;z<p;z++)O+=C[z].size;if(O!=s){if(d>0){if(p==C.length-1)return null;_=O+C[p].size-s,p++}else _=O-s;s+=_,c+=_}for(;bs(r.doc,c)!=c;){if(p==(d<0?0:C.length-1))return null;c+=d*C[p-(d<0?1:0)].size,p+=d}return{index:p,lineN:c}}function il(r){for(var s=r.display.view,c=0,d=0;d<s.length;d++){var p=s[d];!p.hidden&&(!p.node||p.changes)&&++c}return c}function ea(r){r.display.input.showSelection(r.display.input.prepareSelection())}function rd(r,s){void 0===s&&(s=!0);var c=r.doc,d={},p=d.cursors=document.createDocumentFragment(),_=d.selection=document.createDocumentFragment(),C=r.options.$customCursor;C&&(s=!0);for(var O=0;O<c.sel.ranges.length;O++)if(s||O!=c.sel.primIndex){var z=c.sel.ranges[O];if(!(z.from().line>=r.display.viewTo||z.to().line<r.display.viewFrom)){var X=z.empty();if(C){var ge=C(r,z);ge&&id(r,ge,p)}else(X||r.options.showCursorWhenSelecting)&&id(r,z.head,p);X||jr(r,z,_)}}return d}function id(r,s,c){var d=ts(r,s,"div",null,null,!r.options.singleCursorHeightPerLine),p=c.appendChild(k("div","\xa0","CodeMirror-cursor"));if(p.style.left=d.left+"px",p.style.top=d.top+"px",p.style.height=Math.max(0,d.bottom-d.top)*r.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(r.getWrapperElement().className)){var _=Ws(r,s,"div",null,null),C=_.right-_.left;p.style.width=(C>0?C:r.defaultCharWidth())+"px"}if(d.other){var O=c.appendChild(k("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));O.style.display="",O.style.left=d.other.left+"px",O.style.top=d.other.top+"px",O.style.height=.85*(d.other.bottom-d.other.top)+"px"}}function er(r,s){return r.top-s.top||r.left-s.left}function jr(r,s,c){var d=r.display,p=r.doc,_=document.createDocumentFragment(),C=di(r.display),O=C.left,z=Math.max(d.sizerWidth,Io(r)-d.sizer.offsetLeft)-C.right,X="ltr"==p.direction;function ge(st,Lt,Ht,jt){Lt<0&&(Lt=0),Lt=Math.round(Lt),jt=Math.round(jt),_.appendChild(k("div",null,"CodeMirror-selected","position: absolute; left: "+st+"px;\n                             top: "+Lt+"px; width: "+(null==Ht?z-st:Ht)+"px;\n                             height: "+(jt-Lt)+"px"))}function De(st,Lt,Ht){var Vn,qr,jt=yt(p,st),ln=jt.text.length;function yr(Ir,Oi){return Ws(r,at(st,Ir),"div",jt,Oi)}function Ar(Ir,Oi,Ri){var En=Pr(r,jt,null,Ir),$n="ltr"==Oi==("after"==Ri)?"left":"right";return yr("after"==Ri?En.begin:En.end-(/\s/.test(jt.text.charAt(En.end-1))?2:1),$n)[$n]}var os=xt(jt,p.direction);return function Rt(r,s,c,d){if(!r)return d(s,c,"ltr",0);for(var p=!1,_=0;_<r.length;++_){var C=r[_];(C.from<c&&C.to>s||s==c&&C.to==s)&&(d(Math.max(C.from,s),Math.min(C.to,c),1==C.level?"rtl":"ltr",_),p=!0)}p||d(s,c,"ltr")}(os,Lt||0,null==Ht?ln:Ht,function(Ir,Oi,Ri,En){var $n="ltr"==Ri,Tr=yr(Ir,$n?"left":"right"),as=yr(Oi-1,$n?"right":"left"),Uu=null==Lt&&0==Ir,ks=null==Ht&&Oi==ln,Ni=0==En,ua=!os||En==os.length-1;if(as.top-Tr.top<=3){var bl=(X?Uu:ks)&&Ni?O:($n?Tr:as).left;ge(bl,Tr.top,((X?ks:Uu)&&ua?z:($n?as:Tr).right)-bl,Tr.bottom)}else{var io,tn,ca,uf;$n?(io=X&&Uu&&Ni?O:Tr.left,tn=X?z:Ar(Ir,Ri,"before"),ca=X?O:Ar(Oi,Ri,"after"),uf=X&&ks&&ua?z:as.right):(io=X?Ar(Ir,Ri,"before"):O,tn=!X&&Uu&&Ni?z:Tr.right,ca=!X&&ks&&ua?O:as.left,uf=X?Ar(Oi,Ri,"after"):z),ge(io,Tr.top,tn-io,Tr.bottom),Tr.bottom<as.top&&ge(O,Tr.bottom,null,as.top),ge(ca,as.top,uf-ca,as.bottom)}(!Vn||er(Tr,Vn)<0)&&(Vn=Tr),er(as,Vn)<0&&(Vn=as),(!qr||er(Tr,qr)<0)&&(qr=Tr),er(as,qr)<0&&(qr=as)}),{start:Vn,end:qr}}var Ve=s.from(),Ue=s.to();if(Ve.line==Ue.line)De(Ve.line,Ve.ch,Ue.ch);else{var Qe=yt(p,Ve.line),lt=yt(p,Ue.line),_t=js(Qe)==js(lt),St=De(Ve.line,Ve.ch,_t?Qe.text.length+1:null).end,At=De(Ue.line,_t?0:null,Ue.ch).start;_t&&(St.top<At.top-2?(ge(St.right,St.top,null,St.bottom),ge(O,At.top,At.left,At.bottom)):ge(St.right,St.top,At.left-St.right,St.bottom)),St.bottom<At.top&&ge(O,St.bottom,null,At.top)}c.appendChild(_)}function zr(r){if(r.state.focused){var s=r.display;clearInterval(s.blinker);var c=!0;s.cursorDiv.style.visibility="",r.options.cursorBlinkRate>0?s.blinker=setInterval(function(){r.hasFocus()||Gi(r),s.cursorDiv.style.visibility=(c=!c)?"":"hidden"},r.options.cursorBlinkRate):r.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function Ks(r){r.hasFocus()||(r.display.input.focus(),r.state.focused||sl(r))}function Vl(r){r.state.delayingBlurEvent=!0,setTimeout(function(){r.state.delayingBlurEvent&&(r.state.delayingBlurEvent=!1,r.state.focused&&Gi(r))},100)}function sl(r,s){r.state.delayingBlurEvent&&!r.state.draggingText&&(r.state.delayingBlurEvent=!1),"nocursor"!=r.options.readOnly&&(r.state.focused||(yn(r,"focus",r,s),r.state.focused=!0,W(r.display.wrapper,"CodeMirror-focused"),!r.curOp&&r.display.selForContextMenu!=r.doc.sel&&(r.display.input.reset(),P&&setTimeout(function(){return r.display.input.reset(!0)},20)),r.display.input.receivedFocus()),zr(r))}function Gi(r,s){r.state.delayingBlurEvent||(r.state.focused&&(yn(r,"blur",r,s),r.state.focused=!1,xe(r.display.wrapper,"CodeMirror-focused")),clearInterval(r.display.blinker),setTimeout(function(){r.state.focused||(r.display.shift=!1)},150))}function Hl(r){for(var s=r.display,c=s.lineDiv.offsetTop,d=Math.max(0,s.scroller.getBoundingClientRect().top),p=s.lineDiv.getBoundingClientRect().top,_=0,C=0;C<s.view.length;C++){var O=s.view[C],z=r.options.lineWrapping,X=void 0,ge=0;if(!O.hidden){if(p+=O.line.height,$&&Z<8){var De=O.node.offsetTop+O.node.offsetHeight;X=De-c,c=De}else{var Ve=O.node.getBoundingClientRect();X=Ve.bottom-Ve.top,!z&&O.text.firstChild&&(ge=O.text.firstChild.getBoundingClientRect().right-Ve.left-1)}var Ue=O.line.height-X;if((Ue>.005||Ue<-.005)&&(p<d&&(_-=Ue),Rr(O.line,X),Ln(O.line),O.rest))for(var Qe=0;Qe<O.rest.length;Qe++)Ln(O.rest[Qe]);if(ge>r.display.sizerWidth){var lt=Math.ceil(ge/Ca(r.display));lt>r.display.maxLineLength&&(r.display.maxLineLength=lt,r.display.maxLine=O.line,r.display.maxLineChanged=!0)}}}Math.abs(_)>2&&(s.scroller.scrollTop+=_)}function Ln(r){if(r.widgets)for(var s=0;s<r.widgets.length;++s){var c=r.widgets[s],d=c.node.parentNode;d&&(c.height=d.offsetHeight)}}function Ds(r,s,c){var d=c&&null!=c.top?Math.max(0,c.top):r.scroller.scrollTop;d=Math.floor(d-zs(r));var p=c&&null!=c.bottom?c.bottom:d+r.wrapper.clientHeight,_=ci(s,d),C=ci(s,p);if(c&&c.ensure){var O=c.ensure.from.line,z=c.ensure.to.line;O<_?(_=O,C=ci(s,Jn(yt(s,O))+r.wrapper.clientHeight)):Math.min(z,s.lastLine())>=C&&(_=ci(s,Jn(yt(s,z))-r.wrapper.clientHeight),C=z)}return{from:_,to:Math.max(C,_+1)}}function sr(r,s){!function on(r,s){if(Dn(r,"scrollCursorIntoView"))return;let d,c=!1;const p=r.options.viewportScrollMarginTop?r.options.viewportScrollMarginTop:0,_=r.options.viewportScrollMarginBottom?r.options.viewportScrollMarginBottom:0,O=r.display.sizer.getBoundingClientRect(),z=window.scrollY,X=window.innerHeight,ge=s.bottom-s.top,De=s.top+O.top,Ve=z+De;De+ge>X-_?(d=Ve+ge-(X-_),c=!0):De<p&&(d=Ve-p,c=!0),c&&!R&&window.scrollTo({top:d})}(r,s)}function ta(r,s,c,d){var p;null==d&&(d=0),!r.options.lineWrapping&&s==c&&(c="before"==s.sticky?at(s.line,s.ch+1,"before"):s,s=s.ch?at(s.line,"before"==s.sticky?s.ch-1:s.ch,"after"):s);for(var _=0;_<5;_++){var C=!1,O=ts(r,s),z=c&&c!=s?ts(r,c):O,X=ol(r,p={left:Math.min(O.left,z.left),top:Math.min(O.top,z.top)-d,right:Math.max(O.left,z.left),bottom:Math.max(O.bottom,z.bottom)+d}),ge=r.doc.scrollTop,De=r.doc.scrollLeft;if(null!=X.scrollTop&&(ko(r,X.scrollTop),Math.abs(r.doc.scrollTop-ge)>1&&(C=!0)),null!=X.scrollLeft&&(Mo(r,X.scrollLeft),Math.abs(r.doc.scrollLeft-De)>1&&(C=!0)),!C)break}return p}function ol(r,s){var c=r.display,d=Eu(r.display);s.top<0&&(s.top=0);var p=r.curOp&&null!=r.curOp.scrollTop?r.curOp.scrollTop:c.scroller.scrollTop,_=vu(r),C={};s.bottom-s.top>_&&(s.bottom=s.top+_);var O=r.doc.height+Ea(c),X=s.bottom>O-d;if(s.top<p)C.scrollTop=s.top<d?0:s.top;else if(s.bottom>p+_){var ge=Math.min(s.top,(X?O:s.bottom)-_);ge!=p&&(C.scrollTop=ge)}var De=r.options.fixedGutter?0:c.gutters.offsetWidth,Ve=r.curOp&&null!=r.curOp.scrollLeft?r.curOp.scrollLeft:c.scroller.scrollLeft-De,Ue=Io(r)-c.gutters.offsetWidth,Qe=s.right-s.left>Ue;return Qe&&(s.right=s.left+Ue),s.left<10?C.scrollLeft=0:s.left<Ve?C.scrollLeft=Math.max(0,s.left+De-(Qe?0:10)):s.right>Ue+Ve-3&&(C.scrollLeft=s.right+(Qe?0:10)-Ue),C}function al(r,s){null!=s&&(Er(r),r.curOp.scrollTop=(null==r.curOp.scrollTop?r.doc.scrollTop:r.curOp.scrollTop)+s)}function ll(r){Er(r);var s=r.getCursor();r.curOp.scrollToPos={from:s,to:s,margin:r.options.cursorScrollMargin}}function So(r,s,c){(null!=s||null!=c)&&Er(r),null!=s&&(r.curOp.scrollLeft=s),null!=c&&(r.curOp.scrollTop=c)}function Er(r){var s=r.curOp.scrollToPos;s&&(r.curOp.scrollToPos=null,xo(r,td(r,s.from),td(r,s.to),s.margin))}function xo(r,s,c,d){var p=ol(r,{left:Math.min(s.left,c.left),top:Math.min(s.top,c.top)-d,right:Math.max(s.right,c.right),bottom:Math.max(s.bottom,c.bottom)+d});So(r,p.scrollLeft,p.scrollTop)}function ko(r,s){Math.abs(r.doc.scrollTop-s)<2||(m||Cu(r,{top:s}),fi(r,s,!0),m&&Cu(r),Is(r,100))}function fi(r,s,c){s=Math.max(0,Math.min(r.display.scroller.scrollHeight-r.display.scroller.clientHeight,s)),(r.display.scroller.scrollTop!=s||c)&&(r.doc.scrollTop=s,r.display.scrollbars.setScrollTop(s),r.display.scroller.scrollTop!=s&&(r.display.scroller.scrollTop=s))}function Mo(r,s,c,d){s=Math.max(0,Math.min(s,r.display.scroller.scrollWidth-r.display.scroller.clientWidth)),(!(c?s==r.doc.scrollLeft:Math.abs(r.doc.scrollLeft-s)<2)||d)&&(r.doc.scrollLeft=s,ud(r),r.display.scroller.scrollLeft!=s&&(r.display.scroller.scrollLeft=s),r.display.scrollbars.setScrollLeft(s))}function Oo(r){var s=r.display,c=s.gutters.offsetWidth,d=Math.round(r.doc.height+Ea(r.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:r.options.fixedGutter?c:0,docHeight:d,scrollHeight:d+ws(r)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:c}}var Si=function(r,s,c){this.cm=c;var d=this.vert=k("div",[k("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),p=this.horiz=k("div",[k("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=p.tabIndex=-1,r(d),r(p),Ut(d,"scroll",function(){d.clientHeight&&s(d.scrollTop,"vertical")}),Ut(p,"scroll",function(){p.clientWidth&&s(p.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,$&&Z<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Si.prototype.update=function(r){var s=r.scrollWidth>r.clientWidth+1,c=r.scrollHeight>r.clientHeight+1,d=r.nativeBarWidth;return c?(this.vert.style.display="block",this.vert.style.bottom=s?d+"px":"0",this.vert.firstChild.style.height=Math.max(0,r.scrollHeight-r.clientHeight+(r.viewHeight-(s?d:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),s?(this.horiz.style.display="block",this.horiz.style.right=c?d+"px":"0",this.horiz.style.left=r.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,r.scrollWidth-r.clientWidth+(r.viewWidth-r.barLeft-(c?d:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&r.clientHeight>0&&(0==d&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:c?d:0,bottom:s?d:0}},Si.prototype.setScrollLeft=function(r){this.horiz.scrollLeft!=r&&(this.horiz.scrollLeft=r),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Si.prototype.setScrollTop=function(r){this.vert.scrollTop!=r&&(this.vert.scrollTop=r),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Si.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=G&&!j?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Si.prototype.enableZeroWidthBar=function(r,s,c){r.style.pointerEvents="auto",s.set(1e3,function d(){var p=r.getBoundingClientRect();("vert"==c?document.elementFromPoint(p.right-1,(p.top+p.bottom)/2):document.elementFromPoint((p.right+p.left)/2,p.bottom-1))!=r?r.style.pointerEvents="none":s.set(1e3,d)})},Si.prototype.clear=function(){var r=this.horiz.parentNode;r.removeChild(this.horiz),r.removeChild(this.vert)};var si=function(){};function Zs(r,s){s||(s=Oo(r));var c=r.display.barWidth,d=r.display.barHeight;dr(r,s);for(var p=0;p<4&&c!=r.display.barWidth||d!=r.display.barHeight;p++)c!=r.display.barWidth&&r.options.lineWrapping&&Hl(r),dr(r,Oo(r)),c=r.display.barWidth,d=r.display.barHeight}function dr(r,s){var c=r.display,d=c.scrollbars.update(s);c.sizer.style.paddingRight=(c.barWidth=d.right)+"px",c.sizer.style.paddingBottom=(c.barHeight=d.bottom)+"px",c.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=d.bottom+"px",c.scrollbarFiller.style.width=d.right+"px"):c.scrollbarFiller.style.display="",d.bottom&&r.options.coverGutterNextToScrollbar&&r.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=d.bottom+"px",c.gutterFiller.style.width=s.gutterWidth+"px"):c.gutterFiller.style.display=""}si.prototype.update=function(){return{bottom:0,right:0}},si.prototype.setScrollLeft=function(){},si.prototype.setScrollTop=function(){},si.prototype.clear=function(){};var As={native:Si,null:si};function oc(r){r.display.scrollbars&&(r.display.scrollbars.clear(),r.display.scrollbars.addClass&&xe(r.display.wrapper,r.display.scrollbars.addClass)),r.display.scrollbars=new As[r.options.scrollbarStyle](function(s){r.display.wrapper.insertBefore(s,r.display.scrollbarFiller),Ut(s,"mousedown",function(){r.state.focused&&setTimeout(function(){return r.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,c){"horizontal"==c?Mo(r,s):ko(r,s)},r),r.display.scrollbars.addClass&&W(r.display.wrapper,r.display.scrollbars.addClass)}var Ro=0;function na(r){r.curOp={cm:r,viewChanged:!1,startHeight:r.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ro,markArrays:null},function Co(r){Gn?Gn.ops.push(r):r.ownsGroup=Gn={ops:[r],delayedCallbacks:[]}}(r.curOp)}function No(r){var s=r.curOp;s&&function Ya(r,s){var c=r.ownsGroup;if(c)try{!function Hr(r){var s=r.delayedCallbacks,c=0;do{for(;c<s.length;c++)s[c].call(null);for(var d=0;d<r.ops.length;d++){var p=r.ops[d];if(p.cursorActivityHandlers)for(;p.cursorActivityCalled<p.cursorActivityHandlers.length;)p.cursorActivityHandlers[p.cursorActivityCalled++].call(null,p.cm)}}while(c<s.length)}(c)}finally{Gn=null,s(c)}}(s,function(c){for(var d=0;d<c.ops.length;d++)c.ops[d].cm.curOp=null;!function jl(r){for(var s=r.ops,c=0;c<s.length;c++)Po(s[c]);for(var d=0;d<s.length;d++)zl(s[d]);for(var p=0;p<s.length;p++)Gl(s[p]);for(var _=0;_<s.length;_++)Da(s[_]);for(var C=0;C<s.length;C++)Aa(s[C])}(c)})}function Po(r){var s=r.cm,c=s.display;(function or(r){var s=r.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=ws(r)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=ws(r)+"px",s.scrollbarsClipped=!0)})(s),r.updateMaxLine&&du(s),r.mustUpdate=r.viewChanged||r.forceUpdate||null!=r.scrollTop||r.scrollToPos&&(r.scrollToPos.from.line<c.viewFrom||r.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&s.options.lineWrapping,r.update=r.mustUpdate&&new Ia(s,r.mustUpdate&&{top:r.scrollTop,ensure:r.scrollToPos},r.forceUpdate)}function zl(r){r.updatedDisplay=r.mustUpdate&&ac(r.cm,r.update)}function Gl(r){var s=r.cm,c=s.display;r.updatedDisplay&&Hl(s),r.barMeasure=Oo(s),c.maxLineChanged&&!s.options.lineWrapping&&(r.adjustWidthTo=br(s,c.maxLine,c.maxLine.text.length).left+3,s.display.sizerWidth=r.adjustWidthTo,r.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+r.adjustWidthTo+ws(s)+s.display.barWidth),r.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+r.adjustWidthTo-Io(s))),(r.updatedDisplay||r.selectionChanged)&&(r.preparedSelection=c.input.prepareSelection())}function Da(r){var s=r.cm;null!=r.adjustWidthTo&&(s.display.sizer.style.minWidth=r.adjustWidthTo+"px",r.maxScrollLeft<s.doc.scrollLeft&&Mo(s,Math.min(s.display.scroller.scrollLeft,r.maxScrollLeft),!0),s.display.maxLineChanged=!1);var c=r.focus&&r.focus==ue();r.preparedSelection&&s.display.input.showSelection(r.preparedSelection,c),(r.updatedDisplay||r.startHeight!=s.doc.height)&&Zs(s,r.barMeasure),r.updatedDisplay&&rs(s,r.barMeasure),r.selectionChanged&&zr(s),s.state.focused&&r.updateInput&&s.display.input.reset(r.typing),c&&Ks(r.cm)}function Aa(r){var s=r.cm,c=s.display,d=s.doc;r.updatedDisplay&&lc(s,r.update),null!=c.wheelStartX&&(null!=r.scrollTop||null!=r.scrollLeft||r.scrollToPos)&&(c.wheelStartX=c.wheelStartY=null),null!=r.scrollTop&&fi(s,r.scrollTop,r.forceScroll),null!=r.scrollLeft&&Mo(s,r.scrollLeft,!0,!0),r.scrollToPos&&sr(s,ta(s,qt(d,r.scrollToPos.from),qt(d,r.scrollToPos.to),r.scrollToPos.margin));var _=r.maybeHiddenMarkers,C=r.maybeUnhiddenMarkers;if(_)for(var O=0;O<_.length;++O)_[O].lines.length||yn(_[O],"hide");if(C)for(var z=0;z<C.length;++z)C[z].lines.length&&yn(C[z],"unhide");c.wrapper.offsetHeight&&(d.scrollTop=s.display.scroller.scrollTop),r.changeObjs&&yn(s,"changes",s,r.changeObjs),r.update&&r.update.finish()}function Zn(r,s){if(r.curOp)return s();na(r);try{return s()}finally{No(r)}}function Un(r,s){return function(){if(r.curOp)return s.apply(r,arguments);na(r);try{return s.apply(r,arguments)}finally{No(r)}}}function gr(r){return function(){if(this.curOp)return r.apply(this,arguments);na(this);try{return r.apply(this,arguments)}finally{No(this)}}}function hr(r){return function(){var s=this.cm;if(!s||s.curOp)return r.apply(this,arguments);na(s);try{return r.apply(this,arguments)}finally{No(s)}}}function Is(r,s){r.doc.highlightFrontier<r.display.viewTo&&r.state.highlight.set(s,se(od,r))}function od(r){var s=r.doc;if(!(s.highlightFrontier>=r.display.viewTo)){var c=+new Date+r.options.workTime,d=ri(r,s.highlightFrontier),p=[];s.iter(d.line,Math.min(s.first+s.size,r.display.viewTo+500),function(_){if(d.line>=r.display.viewFrom){var C=_.styles,O=_.text.length>r.options.maxHighlightLength?ir(s.mode,d.state):null,z=qo(r,_,d,!0);O&&(d.state=O),_.styles=z.styles;var X=_.styleClasses,ge=z.classes;ge?_.styleClasses=ge:X&&(_.styleClasses=null);for(var De=!C||C.length!=_.styles.length||X!=ge&&(!X||!ge||X.bgClass!=ge.bgClass||X.textClass!=ge.textClass),Ve=0;!De&&Ve<C.length;++Ve)De=C[Ve]!=_.styles[Ve];De&&p.push(d.line),_.stateAfter=d.save(),d.nextLine()}else _.text.length<=r.options.maxHighlightLength&&lu(r,_.text,d),_.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>c)return Is(r,r.options.workDelay),!0}),s.highlightFrontier=d.line,s.modeFrontier=Math.max(s.modeFrontier,d.line),p.length&&Zn(r,function(){for(var _=0;_<p.length;_++)ii(r,p[_],"text")})}}var Ia=function(r,s,c){var d=r.display;this.viewport=s,this.visible=Ds(d,r.doc,s),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Io(r),this.force=c,this.dims=Fl(r),this.events=[]};function ac(r,s){var c=r.display,d=r.doc;if(s.editorIsHidden)return zi(r),!1;if(!s.force&&s.visible.from>=c.viewFrom&&s.visible.to<=c.viewTo&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo)&&c.renderedView==c.view&&0==il(r))return!1;tr(r)&&(zi(r),s.dims=Fl(r));var p=d.first+d.size,_=Math.max(s.visible.from-r.options.viewportMargin,d.first),C=Math.min(p,s.visible.to+r.options.viewportMargin);c.viewFrom<_&&_-c.viewFrom<20&&(_=Math.max(d.first,c.viewFrom)),c.viewTo>C&&c.viewTo-C<20&&(C=Math.min(p,c.viewTo)),Ur&&(_=bs(r.doc,_),C=Vi(r.doc,C));var O=_!=c.viewFrom||C!=c.viewTo||c.lastWrapHeight!=s.wrapperHeight||c.lastWrapWidth!=s.wrapperWidth;(function Ul(r,s,c){var d=r.display;0==d.view.length||s>=d.viewTo||c<=d.viewFrom?(d.view=wa(r,s,c),d.viewFrom=s):(d.viewFrom>s?d.view=wa(r,s,d.viewFrom).concat(d.view):d.viewFrom<s&&(d.view=d.view.slice(Xn(r,s))),d.viewFrom=s,d.viewTo<c?d.view=d.view.concat(wa(r,d.viewTo,c)):d.viewTo>c&&(d.view=d.view.slice(0,Xn(r,c)))),d.viewTo=c})(r,_,C),c.viewOffset=Jn(yt(r.doc,c.viewFrom)),r.display.mover.style.top=c.viewOffset+"px";var z=il(r);if(!O&&0==z&&!s.force&&c.renderedView==c.view&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo))return!1;var X=function ad(r){if(r.hasFocus())return null;var s=ue();if(!s||!ie(r.display.lineDiv,s))return null;var c={activeElt:s};if(window.getSelection){var d=window.getSelection();d.anchorNode&&d.extend&&ie(r.display.lineDiv,d.anchorNode)&&(c.anchorNode=d.anchorNode,c.anchorOffset=d.anchorOffset,c.focusNode=d.focusNode,c.focusOffset=d.focusOffset)}return c}(r);return z>4&&(c.lineDiv.style.display="none"),function ld(r,s,c){var d=r.display,p=r.options.lineNumbers,_=d.lineDiv,C=_.firstChild;function O(Qe){var lt=Qe.nextSibling;return P&&G&&r.display.currentWheelTarget==Qe?Qe.style.display="none":Qe.parentNode.removeChild(Qe),lt}for(var z=d.view,X=d.viewFrom,ge=0;ge<z.length;ge++){var De=z[ge];if(!De.hidden)if(De.node&&De.node.parentNode==_){for(;C!=De.node;)C=O(C);var Ue=p&&null!=s&&s<=X&&De.lineNumber;De.changes&&(we(De.changes,"gutter")>-1&&(Ue=!1),Do(r,De,X,c)),Ue&&(ae(De.lineNumber),De.lineNumber.appendChild(document.createTextNode(go(r.options,X)))),C=De.node.nextSibling}else{var Ve=Pl(r,De,X,c);_.insertBefore(Ve,C)}X+=De.size}for(;C;)C=O(C)}(r,c.updateLineNumbers,s.dims),z>4&&(c.lineDiv.style.display=""),c.renderedView=c.view,function Zh(r){if(r&&r.activeElt&&r.activeElt!=ue()&&(r.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(r.activeElt.nodeName)&&r.anchorNode&&ie(document.body,r.anchorNode)&&ie(document.body,r.focusNode))){var s=window.getSelection(),c=document.createRange();c.setEnd(r.anchorNode,r.anchorOffset),c.collapse(!1),s.removeAllRanges(),s.addRange(c),s.extend(r.focusNode,r.focusOffset)}}(X),ae(c.cursorDiv),ae(c.selectionDiv),c.gutters.style.height=c.sizer.style.minHeight=0,O&&(c.lastWrapHeight=s.wrapperHeight,c.lastWrapWidth=s.wrapperWidth,Is(r,400)),c.updateLineNumbers=null,!0}function lc(r,s){for(var c=s.viewport,d=!0;;d=!1){if(d&&r.options.lineWrapping&&s.oldDisplayWidth!=Io(r))d&&(s.visible=Ds(r.display,r.doc,c));else if(c&&null!=c.top&&(c={top:Math.min(r.doc.height+Ea(r.display)-vu(r),c.top)}),s.visible=Ds(r.display,r.doc,c),s.visible.from>=r.display.viewFrom&&s.visible.to<=r.display.viewTo)break;if(!ac(r,s))break;Hl(r);var p=Oo(r);ea(r),Zs(r,p),rs(r,p),s.force=!1}s.signal(r,"update",r),(r.display.viewFrom!=r.display.reportedViewFrom||r.display.viewTo!=r.display.reportedViewTo)&&(s.signal(r,"viewportChange",r,r.display.viewFrom,r.display.viewTo),r.display.reportedViewFrom=r.display.viewFrom,r.display.reportedViewTo=r.display.viewTo)}function Cu(r,s){var c=new Ia(r,s);if(ac(r,c)){Hl(r),lc(r,c);var d=Oo(r);ea(r),Zs(r,d),rs(r,d),c.finish()}}function Du(r){r.sizer.style.marginLeft=r.gutters.offsetWidth+"px",ur(r,"gutterChanged",r)}function rs(r,s){r.display.sizer.style.minHeight=s.docHeight+"px",r.display.heightForcer.style.top=s.docHeight+"px",r.display.gutters.style.height=s.docHeight+r.display.barHeight+ws(r)+"px"}function ud(r){var s=r.display,c=s.view;if(s.alignWidgets||s.gutters.firstChild&&r.options.fixedGutter){for(var d=Cs(s)-s.scroller.scrollLeft+r.doc.scrollLeft,p=s.gutters.offsetWidth,_=d+"px",C=0;C<c.length;C++)if(!c[C].hidden){r.options.fixedGutter&&(c[C].gutter&&(c[C].gutter.style.left=_),c[C].gutterBackground&&(c[C].gutterBackground.style.left=_));var O=c[C].alignable;if(O)for(var z=0;z<O.length;z++)O[z].style.left=_}r.options.fixedGutter&&(s.gutters.style.left=d+p+"px")}}function tr(r){if(!r.options.lineNumbers)return!1;var s=r.doc,c=go(r.options,s.first+s.size-1),d=r.display;if(c.length!=d.lineNumChars){var p=d.measure.appendChild(k("div",[k("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),_=p.firstChild.offsetWidth,C=p.offsetWidth-_;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(_,d.lineGutter.offsetWidth-C)+1,d.lineNumWidth=d.lineNumInnerWidth+C,d.lineNumChars=d.lineNumInnerWidth?c.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",Du(r.display),!0}return!1}function ul(r,s){for(var c=[],d=!1,p=0;p<r.length;p++){var _=r[p],C=null;if("string"!=typeof _&&(C=_.style,_=_.className),"CodeMirror-linenumbers"==_){if(!s)continue;d=!0}c.push({className:_,style:C})}return s&&!d&&c.push({className:"CodeMirror-linenumbers",style:null}),c}function pi(r){var s=r.gutters,c=r.gutterSpecs;ae(s),r.lineGutter=null;for(var d=0;d<c.length;++d){var p=c[d],_=p.className,C=p.style,O=s.appendChild(k("div",null,"CodeMirror-gutter "+_));C&&(O.style.cssText=C),"CodeMirror-linenumbers"==_&&(r.lineGutter=O,O.style.width=(r.lineNumWidth||1)+"px")}s.style.display=c.length?"":"none",Du(r)}function Gr(r){pi(r.display),hi(r),ud(r)}function Au(r,s,c,d){var p=this;this.input=c,p.scrollbarFiller=k("div",null,"CodeMirror-scrollbar-filler"),p.scrollbarFiller.setAttribute("cm-not-content","true"),p.gutterFiller=k("div",null,"CodeMirror-gutter-filler"),p.gutterFiller.setAttribute("cm-not-content","true"),p.lineDiv=he("div",null,"CodeMirror-code"),p.selectionDiv=k("div",null,null,"position: relative; z-index: 1"),p.cursorDiv=k("div",null,"CodeMirror-cursors"),p.measure=k("div",null,"CodeMirror-measure"),p.lineMeasure=k("div",null,"CodeMirror-measure"),p.lineSpace=he("div",[p.measure,p.lineMeasure,p.selectionDiv,p.cursorDiv,p.lineDiv],null,"position: relative; outline: none");var _=he("div",[p.lineSpace],"CodeMirror-lines");p.mover=k("div",[_],null,"position: relative"),p.sizer=k("div",[p.mover],"CodeMirror-sizer"),p.sizerWidth=null,p.heightForcer=k("div",null,null,"position: absolute; height: 50px; width: 1px;"),p.gutters=k("div",null,"CodeMirror-gutters"),p.lineGutter=null,p.scroller=k("div",[p.sizer,p.heightForcer,p.gutters],"CodeMirror-scroll"),p.scroller.setAttribute("tabIndex","-1"),p.wrapper=k("div",[p.scrollbarFiller,p.gutterFiller,p.scroller],"CodeMirror"),p.wrapper.setAttribute("translate","no"),$&&Z<8&&(p.gutters.style.zIndex=-1,p.scroller.style.paddingRight=0),!P&&!(m&&q)&&(p.scroller.draggable=!0),r&&(r.appendChild?r.appendChild(p.wrapper):r(p.wrapper)),p.viewFrom=p.viewTo=s.first,p.reportedViewFrom=p.reportedViewTo=s.first,p.view=[],p.renderedView=null,p.externalMeasured=null,p.viewOffset=0,p.lastWrapHeight=p.lastWrapWidth=0,p.updateLineNumbers=null,p.nativeBarWidth=p.barHeight=p.barWidth=0,p.scrollbarsClipped=!1,p.lineNumWidth=p.lineNumInnerWidth=p.lineNumChars=null,p.alignWidgets=!1,p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null,p.maxLine=null,p.maxLineLength=0,p.maxLineChanged=!1,p.wheelDX=p.wheelDY=p.wheelStartX=p.wheelStartY=null,p.shift=!1,p.selForContextMenu=null,p.activeTouch=null,p.gutterSpecs=ul(d.gutters,d.lineNumbers),pi(p),c.init(p)}Ia.prototype.signal=function(r,s){Le(r,s)&&this.events.push(arguments)},Ia.prototype.finish=function(){for(var r=0;r<this.events.length;r++)yn.apply(null,this.events[r])};var $r=0,Cr=null;function Iu(r){var s=r.wheelDeltaX,c=r.wheelDeltaY;return null==s&&r.detail&&r.axis==r.HORIZONTAL_AXIS&&(s=r.detail),null==c&&r.detail&&r.axis==r.VERTICAL_AXIS?c=r.detail:null==c&&(c=r.wheelDelta),{x:s,y:c}}function cl(r){var s=Iu(r);return s.x*=Cr,s.y*=Cr,s}function xi(r,s){var c=Iu(s),d=c.x,p=c.y,_=Cr;0===s.deltaMode&&(d=s.deltaX,p=s.deltaY,_=1);var C=r.display,O=C.scroller,X=O.scrollHeight>O.clientHeight;if(d&&O.scrollWidth>O.clientWidth||p&&X){if(p&&G&&P)e:for(var ge=s.target,De=C.view;ge!=O;ge=ge.parentNode)for(var Ve=0;Ve<De.length;Ve++)if(De[Ve].node==ge){r.display.currentWheelTarget=ge;break e}if(d&&!m&&!D&&null!=_)return p&&X&&ko(r,Math.max(0,O.scrollTop+p*_)),Mo(r,Math.max(0,O.scrollLeft+d*_)),(!p||p&&X)&&Xe(s),void(C.wheelStartX=null);if(p&&null!=_){var Ue=p*_,Qe=r.doc.scrollTop,lt=Qe+C.wrapper.clientHeight;Ue<0?Qe=Math.max(0,Qe+Ue-50):lt=Math.min(r.doc.height,lt+Ue+50),Cu(r,{top:Qe,bottom:lt})}$r<20&&0!==s.deltaMode&&(null==C.wheelStartX?(C.wheelStartX=O.scrollLeft,C.wheelStartY=O.scrollTop,C.wheelDX=d,C.wheelDY=p,setTimeout(function(){if(null!=C.wheelStartX){var _t=O.scrollLeft-C.wheelStartX,St=O.scrollTop-C.wheelStartY,At=St&&C.wheelDY&&St/C.wheelDY||_t&&C.wheelDX&&_t/C.wheelDX;C.wheelStartX=C.wheelStartY=null,At&&(Cr=(Cr*$r+At)/($r+1),++$r)}},200)):(C.wheelDX+=d,C.wheelDY+=p))}}$?Cr=-.53:m?Cr=15:H?Cr=-.7:I&&(Cr=-1/3);var qn=function(r,s){this.ranges=r,this.primIndex=s};qn.prototype.primary=function(){return this.ranges[this.primIndex]},qn.prototype.equals=function(r){if(r==this)return!0;if(r.primIndex!=this.primIndex||r.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var c=this.ranges[s],d=r.ranges[s];if(!$o(c.anchor,d.anchor)||!$o(c.head,d.head))return!1}return!0},qn.prototype.deepCopy=function(){for(var r=[],s=0;s<this.ranges.length;s++)r[s]=new _n(Wo(this.ranges[s].anchor),Wo(this.ranges[s].head));return new qn(r,this.primIndex)},qn.prototype.somethingSelected=function(){for(var r=0;r<this.ranges.length;r++)if(!this.ranges[r].empty())return!0;return!1},qn.prototype.contains=function(r,s){s||(s=r);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(wt(s,d.from())>=0&&wt(r,d.to())<=0)return c}return-1};var _n=function(r,s){this.anchor=r,this.head=s};function gi(r,s,c){var d=r&&r.options.selectionsMayTouch,p=s[c];s.sort(function(Ve,Ue){return wt(Ve.from(),Ue.from())}),c=we(s,p);for(var _=1;_<s.length;_++){var C=s[_],O=s[_-1],z=wt(O.to(),C.from());if(d&&!C.empty()?z>0:z>=0){var X=vo(O.from(),C.from()),ge=mo(O.to(),C.to()),De=O.empty()?C.from()==C.head:O.from()==O.head;_<=c&&--c,s.splice(--_,2,new _n(De?ge:X,De?X:ge))}}return new qn(s,c)}function Lo(r,s){return new qn([new _n(r,s||r)],0)}function ra(r){return r.text?at(r.from.line+r.text.length-1,Ne(r.text).length+(1==r.text.length?r.from.ch:0)):r.to}function dl(r,s){if(wt(r,s.from)<0)return r;if(wt(r,s.to)<=0)return ra(s);var c=r.line+s.text.length-(s.to.line-s.from.line)-1,d=r.ch;return r.line==s.to.line&&(d+=ra(s).ch-s.to.ch),at(c,d)}function ki(r,s){for(var c=[],d=0;d<r.sel.ranges.length;d++){var p=r.sel.ranges[d];c.push(new _n(dl(p.anchor,s),dl(p.head,s)))}return gi(r.cm,c,r.sel.primIndex)}function cd(r,s,c){return r.line==s.line?at(c.line,r.ch-s.ch+c.ch):at(c.line+(r.line-s.line),r.ch)}function uc(r){r.doc.mode=po(r.options,r.doc.modeOption),hl(r)}function hl(r){r.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),r.doc.modeFrontier=r.doc.highlightFrontier=r.doc.first,Is(r,100),r.state.modeGen++,r.curOp&&hi(r)}function Ys(r,s){return 0==s.from.ch&&0==s.to.ch&&""==Ne(s.text)&&(!r.cm||r.cm.options.wholeLineUpdateBefore)}function Su(r,s,c,d){function p(At){return c?c[At]:null}function _(At,st,Lt){(function hu(r,s,c,d){r.text=s,r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null),null!=r.order&&(r.order=null),Kc(r),Vs(r,c);var p=d?d(r):1;p!=r.height&&Rr(r,p)})(At,st,Lt,d),ur(At,"change",At,s)}function C(At,st){for(var Lt=[],Ht=At;Ht<st;++Ht)Lt.push(new wo(X[Ht],p(Ht),d));return Lt}var O=s.from,z=s.to,X=s.text,ge=yt(r,O.line),De=yt(r,z.line),Ve=Ne(X),Ue=p(X.length-1),Qe=z.line-O.line;if(s.full)r.insert(0,C(0,X.length)),r.remove(X.length,r.size-X.length);else if(Ys(r,s)){var lt=C(0,X.length-1);_(De,De.text,Ue),Qe&&r.remove(O.line,Qe),lt.length&&r.insert(O.line,lt)}else if(ge==De)if(1==X.length)_(ge,ge.text.slice(0,O.ch)+Ve+ge.text.slice(z.ch),Ue);else{var _t=C(1,X.length-1);_t.push(new wo(Ve+ge.text.slice(z.ch),Ue,d)),_(ge,ge.text.slice(0,O.ch)+X[0],p(0)),r.insert(O.line+1,_t)}else if(1==X.length)_(ge,ge.text.slice(0,O.ch)+X[0]+De.text.slice(z.ch),p(0)),r.remove(O.line+1,Qe);else{_(ge,ge.text.slice(0,O.ch)+X[0],p(0)),_(De,Ve+De.text.slice(z.ch),Ue);var St=C(1,X.length-1);Qe>1&&r.remove(O.line+1,Qe-1),r.insert(O.line+1,St)}ur(r,"change",r,s)}function Qs(r,s,c){!function d(p,_,C){if(p.linked)for(var O=0;O<p.linked.length;++O){var z=p.linked[O];if(z.doc!=_){var X=C&&z.sharedHist;c&&!X||(s(z.doc,X),d(z.doc,p,X))}}}(r,null,!0)}function xu(r,s){if(s.cm)throw new Error("This document is already in use.");r.doc=s,s.cm=r,Bl(r),uc(r),Ts(r),r.options.direction=s.direction,r.options.lineWrapping||du(r),r.options.mode=s.modeOption,hi(r)}function Ts(r){("rtl"==r.doc.direction?W:xe)(r.display.lineDiv,"CodeMirror-rtl")}function mi(r){this.done=[],this.undone=[],this.undoDepth=r?r.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=r?r.maxGeneration:1}function ia(r,s){var c={from:Wo(s.from),to:ra(s),text:An(r,s.from,s.to)};return K(r,c,s.from.line,s.to.line+1),Qs(r,function(d){return K(d,c,s.from.line,s.to.line+1)},!0),c}function dd(r){for(;r.length&&Ne(r).ranges;)r.pop()}function Bo(r,s,c,d){var p=r.history;p.undone.length=0;var C,O,_=+new Date;if((p.lastOp==d||p.lastOrigin==s.origin&&s.origin&&("+"==s.origin.charAt(0)&&p.lastModTime>_-(r.cm?r.cm.options.historyEventDelay:500)||"*"==s.origin.charAt(0)))&&(C=function Js(r,s){return s?(dd(r.done),Ne(r.done)):r.done.length&&!Ne(r.done).ranges?Ne(r.done):r.done.length>1&&!r.done[r.done.length-2].ranges?(r.done.pop(),Ne(r.done)):void 0}(p,p.lastOp==d)))O=Ne(C.changes),0==wt(s.from,s.to)&&0==wt(s.from,O.to)?O.to=ra(s):C.changes.push(ia(r,s));else{var z=Ne(p.done);for((!z||!z.ranges)&&L(r.sel,p.done),C={changes:[ia(r,s)],generation:p.generation},p.done.push(C);p.done.length>p.undoDepth;)p.done.shift(),p.done[0].ranges||p.done.shift()}p.done.push(c),p.generation=++p.maxGeneration,p.lastModTime=p.lastSelTime=_,p.lastOp=p.lastSelOp=d,p.lastOrigin=p.lastSelOrigin=s.origin,O||yn(r,"historyAdded")}function nh(r,s,c,d){var p=r.history,_=d&&d.origin;c==p.lastSelOp||_&&p.lastSelOrigin==_&&(p.lastModTime==p.lastSelTime&&p.lastOrigin==_||function ku(r,s,c,d){var p=s.charAt(0);return"*"==p||"+"==p&&c.ranges.length==d.ranges.length&&c.somethingSelected()==d.somethingSelected()&&new Date-r.history.lastSelTime<=(r.cm?r.cm.options.historyEventDelay:500)}(r,_,Ne(p.done),s))?p.done[p.done.length-1]=s:L(s,p.done),p.lastSelTime=+new Date,p.lastSelOrigin=_,p.lastSelOp=c,d&&!1!==d.clearRedo&&dd(p.undone)}function L(r,s){var c=Ne(s);c&&c.ranges&&c.equals(r)||s.push(r)}function K(r,s,c,d){var p=s["spans_"+r.id],_=0;r.iter(Math.max(r.first,c),Math.min(r.first+r.size,d),function(C){C.markedSpans&&((p||(p=s["spans_"+r.id]={}))[_]=C.markedSpans),++_})}function ce(r){if(!r)return null;for(var s,c=0;c<r.length;++c)r[c].marker.explicitlyCleared?s||(s=r.slice(0,c)):s&&s.push(r[c]);return s?s.length?s:null:r}function Ge(r,s){var c=function Se(r,s){var c=s["spans_"+r.id];if(!c)return null;for(var d=[],p=0;p<s.text.length;++p)d.push(ce(c[p]));return d}(r,s),d=cu(r,s);if(!c)return d;if(!d)return c;for(var p=0;p<c.length;++p){var _=c[p],C=d[p];if(_&&C)e:for(var O=0;O<C.length;++O){for(var z=C[O],X=0;X<_.length;++X)if(_[X].marker==z.marker)continue e;_.push(z)}else C&&(c[p]=C)}return c}function Ze(r,s,c){for(var d=[],p=0;p<r.length;++p){var _=r[p];if(_.ranges)d.push(c?qn.prototype.deepCopy.call(_):_);else{var C=_.changes,O=[];d.push({changes:O});for(var z=0;z<C.length;++z){var X=C[z],ge=void 0;if(O.push({from:X.from,to:X.to,text:X.text}),s)for(var De in X)(ge=De.match(/^spans_(\d+)$/))&&we(s,Number(ge[1]))>-1&&(Ne(O)[De]=X[De],delete X[De])}}}return d}function mt(r,s,c,d){if(d){var p=r.anchor;if(c){var _=wt(s,p)<0;_!=wt(c,p)<0?(p=s,s=c):_!=wt(s,c)<0&&(s=c)}return new _n(p,s)}return new _n(c||s,s)}function Et(r,s,c,d,p){null==p&&(p=r.cm&&(r.cm.display.shift||r.extend)),fn(r,new qn([mt(r.sel.primary(),s,c,p)],0),d)}function Vt(r,s,c){for(var d=[],p=r.cm&&(r.cm.display.shift||r.extend),_=0;_<r.sel.ranges.length;_++)d[_]=mt(r.sel.ranges[_],s[_],null,p);fn(r,gi(r.cm,d,r.sel.primIndex),c)}function gn(r,s,c,d){var p=r.sel.ranges.slice(0);p[s]=c,fn(r,gi(r.cm,p,r.sel.primIndex),d)}function Mn(r,s,c,d){fn(r,Lo(s,c),d)}function Fr(r,s,c){var d=r.history.done,p=Ne(d);p&&p.ranges?(d[d.length-1]=s,Ss(r,s,c)):fn(r,s,c)}function fn(r,s,c){Ss(r,s,c),nh(r,r.sel,r.cm?r.cm.curOp.id:NaN,c)}function Ss(r,s,c){(Le(r,"beforeSelectionChange")||r.cm&&Le(r.cm,"beforeSelectionChange"))&&(s=function Lr(r,s,c){var d={ranges:s.ranges,update:function(p){this.ranges=[];for(var _=0;_<p.length;_++)this.ranges[_]=new _n(qt(r,p[_].anchor),qt(r,p[_].head))},origin:c&&c.origin};return yn(r,"beforeSelectionChange",r,d),r.cm&&yn(r.cm,"beforeSelectionChange",r.cm,d),d.ranges!=s.ranges?gi(r.cm,d.ranges,d.ranges.length-1):s}(r,s,c));var d=c&&c.bias||(wt(s.primary().head,r.sel.primary().head)<0?-1:1);vi(r,Xs(r,s,d,!0)),(!c||!1!==c.scroll)&&r.cm&&"nocursor"!=r.cm.getOption("readOnly")&&ll(r.cm)}function vi(r,s){s.equals(r.sel)||(r.sel=s,r.cm&&(r.cm.curOp.updateInput=1,r.cm.curOp.selectionChanged=!0,Me(r.cm)),ur(r,"cursorActivity",r))}function oi(r){vi(r,Xs(r,r.sel,null,!1))}function Xs(r,s,c,d){for(var p,_=0;_<s.ranges.length;_++){var C=s.ranges[_],O=s.ranges.length==r.sel.ranges.length&&r.sel.ranges[_],z=Ta(r,C.anchor,O&&O.anchor,c,d),X=Ta(r,C.head,O&&O.head,c,d);(p||z!=C.anchor||X!=C.head)&&(p||(p=s.ranges.slice(0,_)),p[_]=new _n(z,X))}return p?gi(r.cm,p,s.primIndex):s}function Dr(r,s,c,d,p){var _=yt(r,s.line);if(_.markedSpans)for(var C=0;C<_.markedSpans.length;++C){var O=_.markedSpans[C],z=O.marker,X="selectLeft"in z?!z.selectLeft:z.inclusiveLeft,ge="selectRight"in z?!z.selectRight:z.inclusiveRight;if((null==O.from||(X?O.from<=s.ch:O.from<s.ch))&&(null==O.to||(ge?O.to>=s.ch:O.to>s.ch))){if(p&&(yn(z,"beforeCursorEnter"),z.explicitlyCleared)){if(_.markedSpans){--C;continue}break}if(!z.atomic)continue;if(c){var De=z.find(d<0?1:-1),Ve=void 0;if((d<0?ge:X)&&(De=cc(r,De,-d,De&&De.line==s.line?_:null)),De&&De.line==s.line&&(Ve=wt(De,c))&&(d<0?Ve<0:Ve>0))return Dr(r,De,s,d,p)}var Ue=z.find(d<0?-1:1);return(d<0?X:ge)&&(Ue=cc(r,Ue,d,Ue.line==s.line?_:null)),Ue?Dr(r,Ue,s,d,p):null}}return s}function Ta(r,s,c,d,p){var _=d||1;return Dr(r,s,c,_,p)||!p&&Dr(r,s,c,_,!0)||Dr(r,s,c,-_,p)||!p&&Dr(r,s,c,-_,!0)||(r.cantEdit=!0,at(r.first,0))}function cc(r,s,c,d){return c<0&&0==s.ch?s.line>r.first?qt(r,at(s.line-1)):null:c>0&&s.ch==(d||yt(r,s.line)).text.length?s.line<r.first+r.size-1?at(s.line+1,0):null:new at(s.line,s.ch+c)}function Mu(r){r.setSelection(at(r.firstLine(),0),at(r.lastLine()),rt)}function sa(r,s,c){var d={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return d.canceled=!0}};return c&&(d.update=function(p,_,C,O){p&&(d.from=qt(r,p)),_&&(d.to=qt(r,_)),C&&(d.text=C),void 0!==O&&(d.origin=O)}),yn(r,"beforeChange",r,d),r.cm&&yn(r.cm,"beforeChange",r.cm,d),d.canceled?(r.cm&&(r.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function fl(r,s,c){if(r.cm){if(!r.cm.curOp)return Un(r.cm,fl)(r,s,c);if(r.cm.state.suppressEdits)return}if(!(Le(r,"beforeChange")||r.cm&&Le(r.cm,"beforeChange"))||(s=sa(r,s,!0))){var d=Jd&&!c&&function Kh(r,s,c){var d=null;if(r.iter(s.line,c.line+1,function(Ue){if(Ue.markedSpans)for(var Qe=0;Qe<Ue.markedSpans.length;++Qe){var lt=Ue.markedSpans[Qe].marker;lt.readOnly&&(!d||-1==we(d,lt))&&(d||(d=[])).push(lt)}}),!d)return null;for(var p=[{from:s,to:c}],_=0;_<d.length;++_)for(var C=d[_],O=C.find(0),z=0;z<p.length;++z){var X=p[z];if(!(wt(X.to,O.from)<0||wt(X.from,O.to)>0)){var ge=[z,1],De=wt(X.from,O.from),Ve=wt(X.to,O.to);(De<0||!C.inclusiveLeft&&!De)&&ge.push({from:X.from,to:O.from}),(Ve>0||!C.inclusiveRight&&!Ve)&&ge.push({from:O.to,to:X.to}),p.splice.apply(p,ge),z+=ge.length-3}}return p}(r,s.from,s.to);if(d)for(var p=d.length-1;p>=0;--p)hd(r,{from:d[p].from,to:d[p].to,text:p?[""]:s.text,origin:s.origin});else hd(r,s)}}function hd(r,s){if(1!=s.text.length||""!=s.text[0]||0!=wt(s.from,s.to)){var c=ki(r,s);Bo(r,s,c,r.cm?r.cm.curOp.id:NaN),aa(r,s,c,cu(r,s));var d=[];Qs(r,function(p,_){!_&&-1==we(d,p.history)&&(vp(p.history,s),d.push(p.history)),aa(p,s,null,cu(p,s))})}}function fd(r,s,c){var d=r.cm&&r.cm.state.suppressEdits;if(!d||c){for(var _,p=r.history,C=r.sel,O="undo"==s?p.done:p.undone,z="undo"==s?p.undone:p.done,X=0;X<O.length&&(_=O[X],!(c?_.ranges&&!_.equals(r.sel):!_.ranges));X++);if(X!=O.length){for(p.lastOrigin=p.lastSelOrigin=null;;){if(!(_=O.pop()).ranges){if(d)return void O.push(_);break}if(L(_,z),c&&!_.equals(r.sel))return void fn(r,_,{clearRedo:!1});C=_}var ge=[];L(C,z),z.push({changes:ge,generation:p.generation}),p.generation=_.generation||++p.maxGeneration;for(var De=Le(r,"beforeChange")||r.cm&&Le(r.cm,"beforeChange"),Ve=function(lt){var _t=_.changes[lt];if(_t.origin=s,De&&!sa(r,_t,!1))return O.length=0,{};ge.push(ia(r,_t));var St=lt?ki(r,_t):Ne(O);aa(r,_t,St,Ge(r,_t)),!lt&&r.cm&&r.cm.scrollIntoView({from:_t.from,to:ra(_t)});var At=[];Qs(r,function(st,Lt){!Lt&&-1==we(At,st.history)&&(vp(st.history,_t),At.push(st.history)),aa(st,_t,null,Ge(st,_t))})},Ue=_.changes.length-1;Ue>=0;--Ue){var Qe=Ve(Ue);if(Qe)return Qe.v}}}}function oa(r,s){if(0!=s&&(r.first+=s,r.sel=new qn(je(r.sel.ranges,function(p){return new _n(at(p.anchor.line+s,p.anchor.ch),at(p.head.line+s,p.head.ch))}),r.sel.primIndex),r.cm)){hi(r.cm,r.first,r.first-s,s);for(var c=r.cm.display,d=c.viewFrom;d<c.viewTo;d++)ii(r.cm,d,"gutter")}}function aa(r,s,c,d){if(r.cm&&!r.cm.curOp)return Un(r.cm,aa)(r,s,c,d);if(s.to.line<r.first)oa(r,s.text.length-1-(s.to.line-s.from.line));else if(!(s.from.line>r.lastLine())){if(s.from.line<r.first){var p=s.text.length-1-(r.first-s.from.line);oa(r,p),s={from:at(r.first,0),to:at(s.to.line+p,s.to.ch),text:[Ne(s.text)],origin:s.origin}}var _=r.lastLine();s.to.line>_&&(s={from:s.from,to:at(_,yt(r,_).text.length),text:[s.text[0]],origin:s.origin}),s.removed=An(r,s.from,s.to),c||(c=ki(r,s)),r.cm?function Yh(r,s,c){var d=r.doc,p=r.display,_=s.from,C=s.to,O=!1,z=_.line;r.options.lineWrapping||(z=Jt(js(yt(d,_.line))),d.iter(z,C.line+1,function(Ue){if(Ue==p.maxLine)return O=!0,!0})),d.sel.contains(s.from,s.to)>-1&&Me(r),Su(d,s,c,rl(r)),r.options.lineWrapping||(d.iter(z,_.line+s.text.length,function(Ue){var Qe=Ol(Ue);Qe>p.maxLineLength&&(p.maxLine=Ue,p.maxLineLength=Qe,p.maxLineChanged=!0,O=!1)}),O&&(r.curOp.updateMaxLine=!0)),function Wc(r,s){if(r.modeFrontier=Math.min(r.modeFrontier,s),!(r.highlightFrontier<s-10)){for(var c=r.first,d=s-1;d>c;d--){var p=yt(r,d).stateAfter;if(p&&(!(p instanceof kn)||d+p.lookAhead<s)){c=d+1;break}}r.highlightFrontier=Math.min(r.highlightFrontier,c)}}(d,_.line),Is(r,400);var X=s.text.length-(C.line-_.line)-1;s.full?hi(r):_.line!=C.line||1!=s.text.length||Ys(r.doc,s)?hi(r,_.line,C.line+1,X):ii(r,_.line,"text");var ge=Le(r,"changes"),De=Le(r,"change");if(De||ge){var Ve={from:_,to:C,text:s.text,removed:s.removed,origin:s.origin};De&&ur(r,"change",r,Ve),ge&&(r.curOp.changeObjs||(r.curOp.changeObjs=[])).push(Ve)}r.display.selForContextMenu=null}(r.cm,s,d):Su(r,s,d),Ss(r,c,rt),r.cantEdit&&Ta(r,at(r.firstLine(),0))&&(r.cantEdit=!1)}}function pl(r,s,c,d,p){var _;d||(d=c),wt(d,c)<0&&(c=(_=[d,c])[0],d=_[1]),"string"==typeof s&&(s=r.splitLines(s)),fl(r,{from:c,to:d,text:s,origin:p})}function pd(r,s,c,d){c<r.line?r.line+=d:s<r.line&&(r.line=s,r.ch=0)}function $l(r,s,c,d){for(var p=0;p<r.length;++p){var _=r[p],C=!0;if(_.ranges){_.copied||((_=r[p]=_.deepCopy()).copied=!0);for(var O=0;O<_.ranges.length;O++)pd(_.ranges[O].anchor,s,c,d),pd(_.ranges[O].head,s,c,d)}else{for(var z=0;z<_.changes.length;++z){var X=_.changes[z];if(c<X.from.line)X.from=at(X.from.line+d,X.from.ch),X.to=at(X.to.line+d,X.to.ch);else if(s<=X.to.line){C=!1;break}}C||(r.splice(0,p+1),p=0)}}}function vp(r,s){var c=s.from.line,d=s.to.line,p=s.text.length-(d-c)-1;$l(r.done,c,d,p),$l(r.undone,c,d,p)}function dc(r,s,c,d){var p=s,_=s;return"number"==typeof s?_=yt(r,lr(r,s)):p=Jt(s),null==p?null:(d(_,p)&&r.cm&&ii(r.cm,p,c),_)}function Sa(r){this.lines=r,this.parent=null;for(var s=0,c=0;c<r.length;++c)r[c].parent=this,s+=r[c].height;this.height=s}function Wl(r){this.children=r;for(var s=0,c=0,d=0;d<r.length;++d){var p=r[d];s+=p.chunkSize(),c+=p.height,p.parent=this}this.size=s,this.height=c,this.parent=null}_n.prototype.from=function(){return vo(this.anchor,this.head)},_n.prototype.to=function(){return mo(this.anchor,this.head)},_n.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Sa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(r,s){for(var c=r,d=r+s;c<d;++c){var p=this.lines[c];this.height-=p.height,fu(p),ur(p,"delete")}this.lines.splice(r,s)},collapse:function(r){r.push.apply(r,this.lines)},insertInner:function(r,s,c){this.height+=c,this.lines=this.lines.slice(0,r).concat(s).concat(this.lines.slice(r));for(var d=0;d<s.length;++d)s[d].parent=this},iterN:function(r,s,c){for(var d=r+s;r<d;++r)if(c(this.lines[r]))return!0}},Wl.prototype={chunkSize:function(){return this.size},removeInner:function(r,s){this.size-=s;for(var c=0;c<this.children.length;++c){var d=this.children[c],p=d.chunkSize();if(r<p){var _=Math.min(s,p-r),C=d.height;if(d.removeInner(r,_),this.height-=C-d.height,p==_&&(this.children.splice(c--,1),d.parent=null),0==(s-=_))break;r=0}else r-=p}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof Sa))){var O=[];this.collapse(O),this.children=[new Sa(O)],this.children[0].parent=this}},collapse:function(r){for(var s=0;s<this.children.length;++s)this.children[s].collapse(r)},insertInner:function(r,s,c){this.size+=s.length,this.height+=c;for(var d=0;d<this.children.length;++d){var p=this.children[d],_=p.chunkSize();if(r<=_){if(p.insertInner(r,s,c),p.lines&&p.lines.length>50){for(var C=p.lines.length%25+25,O=C;O<p.lines.length;){var z=new Sa(p.lines.slice(O,O+=25));p.height-=z.height,this.children.splice(++d,0,z),z.parent=this}p.lines=p.lines.slice(0,C),this.maybeSpill()}break}r-=_}},maybeSpill:function(){if(!(this.children.length<=10)){var r=this;do{var c=new Wl(r.children.splice(r.children.length-5,5));if(r.parent){r.size-=c.size,r.height-=c.height;var p=we(r.parent.children,r);r.parent.children.splice(p+1,0,c)}else{var d=new Wl(r.children);d.parent=r,r.children=[d,c],r=d}c.parent=r.parent}while(r.children.length>10);r.parent.maybeSpill()}},iterN:function(r,s,c){for(var d=0;d<this.children.length;++d){var p=this.children[d],_=p.chunkSize();if(r<_){var C=Math.min(s,_-r);if(p.iterN(r,C,c))return!0;if(0==(s-=C))break;r=0}else r-=_}}};var xa=function(r,s,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.doc=r,this.node=s};function rh(r,s,c){Jn(s)<(r.curOp&&r.curOp.scrollTop||r.doc.scrollTop)&&al(r,c)}xa.prototype.clear=function(){var r=this.doc.cm,s=this.line.widgets,c=this.line,d=Jt(c);if(null!=d&&s){for(var p=0;p<s.length;++p)s[p]==this&&s.splice(p--,1);s.length||(c.widgets=null);var _=Ao(this);Rr(c,Math.max(0,c.height-_)),r&&(Zn(r,function(){rh(r,c,-_),ii(r,d,"widget")}),ur(r,"lineWidgetCleared",r,this,d))}},xa.prototype.changed=function(){var r=this,s=this.height,c=this.doc.cm,d=this.line;this.height=null;var p=Ao(this)-s;!p||(bo(this.doc,d)||Rr(d,d.height+p),c&&Zn(c,function(){c.curOp.forceUpdate=!0,rh(c,d,p),ur(c,"lineWidgetChanged",c,r,Jt(d))}))},Be(xa);var yp=0,ka=function(r,s){this.lines=[],this.type=s,this.doc=r,this.id=++yp};function fc(r,s,c,d,p){if(d&&d.shared)return function ih(r,s,c,d,p){(d=Ee(d)).shared=!1;var _=[fc(r,s,c,d,p)],C=_[0],O=d.widgetNode;return Qs(r,function(z){O&&(d.widgetNode=O.cloneNode(!0)),_.push(fc(z,qt(z,s),qt(z,c),d,p));for(var X=0;X<z.linked.length;++X)if(z.linked[X].isParent)return;C=Ne(_)}),new Ma(_,C)}(r,s,c,d,p);if(r.cm&&!r.cm.curOp)return Un(r.cm,fc)(r,s,c,d,p);var _=new ka(r,p),C=wt(s,c);if(d&&Ee(d,_,!1),C>0||0==C&&!1!==_.clearWhenEmpty)return _;if(_.replacedWith&&(_.collapsed=!0,_.widgetNode=he("span",[_.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||_.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(_.widgetNode.insertLeft=!0)),_.collapsed){if(nc(r,s.line,s,c,_)||s.line!=c.line&&nc(r,c.line,s,c,_))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function uu(){Ur=!0}()}_.addToHistory&&Bo(r,{from:s,to:c,origin:"markText"},r.sel,NaN);var X,O=s.line,z=r.cm;if(r.iter(O,c.line+1,function(De){z&&_.collapsed&&!z.options.lineWrapping&&js(De)==z.display.maxLine&&(X=!0),_.collapsed&&O!=s.line&&Rr(De,0),function qc(r,s,c){var d=c&&window.WeakSet&&(c.markedSpans||(c.markedSpans=new WeakSet));d&&d.has(r.markedSpans)?r.markedSpans.push(s):(r.markedSpans=r.markedSpans?r.markedSpans.concat([s]):[s],d&&d.add(r.markedSpans)),s.marker.attachLine(r)}(De,new tc(_,O==s.line?s.ch:null,O==c.line?c.ch:null),r.cm&&r.cm.curOp),++O}),_.collapsed&&r.iter(s.line,c.line+1,function(De){bo(r,De)&&Rr(De,0)}),_.clearOnEnter&&Ut(_,"beforeCursorEnter",function(){return _.clear()}),_.readOnly&&(function Wh(){Jd=!0}(),(r.history.done.length||r.history.undone.length)&&r.clearHistory()),_.collapsed&&(_.id=++yp,_.atomic=!0),z){if(X&&(z.curOp.updateMaxLine=!0),_.collapsed)hi(z,s.line,c.line+1);else if(_.className||_.startStyle||_.endStyle||_.css||_.attributes||_.title)for(var ge=s.line;ge<=c.line;ge++)ii(z,ge,"text");_.atomic&&oi(z.doc),ur(z,"markerAdded",z,_)}return _}ka.prototype.clear=function(){if(!this.explicitlyCleared){var r=this.doc.cm,s=r&&!r.curOp;if(s&&na(r),Le(this,"clear")){var c=this.find();c&&ur(this,"clear",c.from,c.to)}for(var d=null,p=null,_=0;_<this.lines.length;++_){var C=this.lines[_],O=yo(C.markedSpans,this);r&&!this.collapsed?ii(r,Jt(C),"text"):r&&(null!=O.to&&(p=Jt(C)),null!=O.from&&(d=Jt(C))),C.markedSpans=qa(C.markedSpans,O),null==O.from&&this.collapsed&&!bo(this.doc,C)&&r&&Rr(C,Eu(r.display))}if(r&&this.collapsed&&!r.options.lineWrapping)for(var z=0;z<this.lines.length;++z){var X=js(this.lines[z]),ge=Ol(X);ge>r.display.maxLineLength&&(r.display.maxLine=X,r.display.maxLineLength=ge,r.display.maxLineChanged=!0)}null!=d&&r&&this.collapsed&&hi(r,d,p+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,r&&oi(r.doc)),r&&ur(r,"markerCleared",r,this,d,p),s&&No(r),this.parent&&this.parent.clear()}},ka.prototype.find=function(r,s){null==r&&"bookmark"==this.type&&(r=1);for(var c,d,p=0;p<this.lines.length;++p){var _=this.lines[p],C=yo(_.markedSpans,this);if(null!=C.from&&(c=at(s?_:Jt(_),C.from),-1==r))return c;if(null!=C.to&&(d=at(s?_:Jt(_),C.to),1==r))return d}return c&&{from:c,to:d}},ka.prototype.changed=function(){var r=this,s=this.find(-1,!0),c=this,d=this.doc.cm;!s||!d||Zn(d,function(){var p=s.line,_=Jt(s.line),C=ji(d,_);if(C&&(Jo(C),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!bo(c.doc,p)&&null!=c.height){var O=c.height;c.height=null;var z=Ao(c)-O;z&&Rr(p,p.height+z)}ur(d,"markerChanged",d,r)})},ka.prototype.attachLine=function(r){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||-1==we(s.maybeHiddenMarkers,this))&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(r)},ka.prototype.detachLine=function(r){if(this.lines.splice(we(this.lines,r),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},Be(ka);var Ma=function(r,s){this.markers=r,this.primary=s;for(var c=0;c<r.length;++c)r[c].parent=this};function gd(r){return r.findMarks(at(r.first,0),r.clipPos(at(r.lastLine())),function(s){return s.parent})}function sh(r){for(var s=function(d){var p=r[d],_=[p.primary.doc];Qs(p.primary.doc,function(z){return _.push(z)});for(var C=0;C<p.markers.length;C++){var O=p.markers[C];-1==we(_,O.doc)&&(O.parent=null,p.markers.splice(C--,1))}},c=0;c<r.length;c++)s(c)}Ma.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var r=0;r<this.markers.length;++r)this.markers[r].clear();ur(this,"clear")}},Ma.prototype.find=function(r,s){return this.primary.find(r,s)},Be(Ma);var Qh=0,Mi=function(r,s,c,d,p){if(!(this instanceof Mi))return new Mi(r,s,c,d,p);null==c&&(c=0),Wl.call(this,[new Sa([new wo("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=c;var _=at(c,0);this.sel=Lo(_),this.history=new mi(null),this.id=++Qh,this.modeOption=s,this.lineSep=d,this.direction="rtl"==p?"rtl":"ltr",this.extend=!1,"string"==typeof r&&(r=this.splitLines(r)),Su(this,{from:_,to:_,text:r}),fn(this,Lo(_),rt)};Mi.prototype=Pe(Wl.prototype,{constructor:Mi,iter:function(r,s,c){c?this.iterN(r-this.first,s-r,c):this.iterN(this.first,this.first+this.size,r)},insert:function(r,s){for(var c=0,d=0;d<s.length;++d)c+=s[d].height;this.insertInner(r-this.first,s,c)},remove:function(r,s){this.removeInner(r-this.first,s)},getValue:function(r){var s=ti(this,this.first,this.first+this.size);return!1===r?s:s.join(r||this.lineSeparator())},setValue:hr(function(r){var s=at(this.first,0),c=this.first+this.size-1;fl(this,{from:s,to:at(c,yt(this,c).text.length),text:this.splitLines(r),origin:"setValue",full:!0},!0),this.cm&&So(this.cm,0,0),fn(this,Lo(s),rt)}),replaceRange:function(r,s,c,d){pl(this,r,s=qt(this,s),c=c?qt(this,c):s,d)},getRange:function(r,s,c){var d=An(this,qt(this,r),qt(this,s));return!1===c?d:d.join(""===c?"":c||this.lineSeparator())},getLine:function(r){var s=this.getLineHandle(r);return s&&s.text},getLineHandle:function(r){if(wn(this,r))return yt(this,r)},getLineNumber:function(r){return Jt(r)},getLineHandleVisualStart:function(r){return"number"==typeof r&&(r=yt(this,r)),js(r)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(r){return qt(this,r)},getCursor:function(r){var s=this.sel.primary();return null==r||"head"==r?s.head:"anchor"==r?s.anchor:"end"==r||"to"==r||!1===r?s.to():s.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:hr(function(r,s,c){Mn(this,qt(this,"number"==typeof r?at(r,s||0):r),null,c)}),setSelection:hr(function(r,s,c){Mn(this,qt(this,r),qt(this,s||r),c)}),extendSelection:hr(function(r,s,c){Et(this,qt(this,r),s&&qt(this,s),c)}),extendSelections:hr(function(r,s){Vt(this,ni(this,r),s)}),extendSelectionsBy:hr(function(r,s){Vt(this,ni(this,je(this.sel.ranges,r)),s)}),setSelections:hr(function(r,s,c){if(r.length){for(var d=[],p=0;p<r.length;p++)d[p]=new _n(qt(this,r[p].anchor),qt(this,r[p].head||r[p].anchor));null==s&&(s=Math.min(r.length-1,this.sel.primIndex)),fn(this,gi(this.cm,d,s),c)}}),addSelection:hr(function(r,s,c){var d=this.sel.ranges.slice(0);d.push(new _n(qt(this,r),qt(this,s||r))),fn(this,gi(this.cm,d,d.length-1),c)}),getSelection:function(r){for(var c,s=this.sel.ranges,d=0;d<s.length;d++){var p=An(this,s[d].from(),s[d].to());c=c?c.concat(p):p}return!1===r?c:c.join(r||this.lineSeparator())},getSelections:function(r){for(var s=[],c=this.sel.ranges,d=0;d<c.length;d++){var p=An(this,c[d].from(),c[d].to());!1!==r&&(p=p.join(r||this.lineSeparator())),s[d]=p}return s},replaceSelection:function(r,s,c){for(var d=[],p=0;p<this.sel.ranges.length;p++)d[p]=r;this.replaceSelections(d,s,c||"+input")},replaceSelections:hr(function(r,s,c){for(var d=[],p=this.sel,_=0;_<p.ranges.length;_++){var C=p.ranges[_];d[_]={from:C.from(),to:C.to(),text:this.splitLines(r[_]),origin:c}}for(var O=s&&"end"!=s&&function Tu(r,s,c){for(var d=[],p=at(r.first,0),_=p,C=0;C<s.length;C++){var O=s[C],z=cd(O.from,p,_),X=cd(ra(O),p,_);if(p=O.to,_=X,"around"==c){var ge=r.sel.ranges[C],De=wt(ge.head,ge.anchor)<0;d[C]=new _n(De?X:z,De?z:X)}else d[C]=new _n(z,z)}return new qn(d,r.sel.primIndex)}(this,d,s),z=d.length-1;z>=0;z--)fl(this,d[z]);O?Fr(this,O):this.cm&&ll(this.cm)}),undo:hr(function(){fd(this,"undo")}),redo:hr(function(){fd(this,"redo")}),undoSelection:hr(function(){fd(this,"undo",!0)}),redoSelection:hr(function(){fd(this,"redo",!0)}),setExtending:function(r){this.extend=r},getExtending:function(){return this.extend},historySize:function(){for(var r=this.history,s=0,c=0,d=0;d<r.done.length;d++)r.done[d].ranges||++s;for(var p=0;p<r.undone.length;p++)r.undone[p].ranges||++c;return{undo:s,redo:c}},clearHistory:function(){var r=this;this.history=new mi(this.history),Qs(this,function(s){return s.history=r.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(r){return r&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(r){return this.history.generation==(r||this.cleanGeneration)},getHistory:function(){return{done:Ze(this.history.done),undone:Ze(this.history.undone)}},setHistory:function(r){var s=this.history=new mi(this.history);s.done=Ze(r.done.slice(0),null,!0),s.undone=Ze(r.undone.slice(0),null,!0)},setGutterMarker:hr(function(r,s,c){return dc(this,r,"gutter",function(d){var p=d.gutterMarkers||(d.gutterMarkers={});return p[s]=c,!c&&dt(p)&&(d.gutterMarkers=null),!0})}),clearGutter:hr(function(r){var s=this;this.iter(function(c){c.gutterMarkers&&c.gutterMarkers[r]&&dc(s,c,"gutter",function(){return c.gutterMarkers[r]=null,dt(c.gutterMarkers)&&(c.gutterMarkers=null),!0})})}),lineInfo:function(r){var s;if("number"==typeof r){if(!(wn(this,r)&&(s=r,r=yt(this,r))))return null}else if(null==(s=Jt(r)))return null;return{line:s,handle:r,text:r.text,gutterMarkers:r.gutterMarkers,textClass:r.textClass,bgClass:r.bgClass,wrapClass:r.wrapClass,widgets:r.widgets}},addLineClass:hr(function(r,s,c){return dc(this,r,"gutter"==s?"gutter":"class",function(d){var p="text"==s?"textClass":"background"==s?"bgClass":"gutter"==s?"gutterClass":"wrapClass";if(d[p]){if(ye(c).test(d[p]))return!1;d[p]+=" "+c}else d[p]=c;return!0})}),removeLineClass:hr(function(r,s,c){return dc(this,r,"gutter"==s?"gutter":"class",function(d){var p="text"==s?"textClass":"background"==s?"bgClass":"gutter"==s?"gutterClass":"wrapClass",_=d[p];if(!_)return!1;if(null==c)d[p]=null;else{var C=_.match(ye(c));if(!C)return!1;var O=C.index+C[0].length;d[p]=_.slice(0,C.index)+(C.index&&O!=_.length?" ":"")+_.slice(O)||null}return!0})}),addLineWidget:hr(function(r,s,c){return function hc(r,s,c,d){var p=new xa(r,c,d),_=r.cm;return _&&p.noHScroll&&(_.display.alignWidgets=!0),dc(r,s,"widget",function(C){var O=C.widgets||(C.widgets=[]);if(null==p.insertAt?O.push(p):O.splice(Math.min(O.length,Math.max(0,p.insertAt)),0,p),p.line=C,_&&!bo(r,C)){var z=Jn(C)<r.scrollTop;Rr(C,C.height+Ao(p)),z&&al(_,p.height),_.curOp.forceUpdate=!0}return!0}),_&&ur(_,"lineWidgetAdded",_,p,"number"==typeof s?s:Jt(s)),p}(this,r,s,c)}),removeLineWidget:function(r){r.clear()},markText:function(r,s,c){return fc(this,qt(this,r),qt(this,s),c,c&&c.type||"range")},setBookmark:function(r,s){var c={replacedWith:s&&(null==s.nodeType?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return fc(this,r=qt(this,r),r,c,"bookmark")},findMarksAt:function(r){var s=[],c=yt(this,(r=qt(this,r)).line).markedSpans;if(c)for(var d=0;d<c.length;++d){var p=c[d];(null==p.from||p.from<=r.ch)&&(null==p.to||p.to>=r.ch)&&s.push(p.marker.parent||p.marker)}return s},findMarks:function(r,s,c){r=qt(this,r),s=qt(this,s);var d=[],p=r.line;return this.iter(r.line,s.line+1,function(_){var C=_.markedSpans;if(C)for(var O=0;O<C.length;O++){var z=C[O];!(null!=z.to&&p==r.line&&r.ch>=z.to||null==z.from&&p!=r.line||null!=z.from&&p==s.line&&z.from>=s.ch)&&(!c||c(z.marker))&&d.push(z.marker.parent||z.marker)}++p}),d},getAllMarks:function(){var r=[];return this.iter(function(s){var c=s.markedSpans;if(c)for(var d=0;d<c.length;++d)null!=c[d].from&&r.push(c[d].marker)}),r},posFromIndex:function(r){var s,c=this.first,d=this.lineSeparator().length;return this.iter(function(p){var _=p.text.length+d;if(_>r)return s=r,!0;r-=_,++c}),qt(this,at(c,s))},indexFromPos:function(r){var s=(r=qt(this,r)).ch;if(r.line<this.first||r.ch<0)return 0;var c=this.lineSeparator().length;return this.iter(this.first,r.line,function(d){s+=d.text.length+c}),s},copy:function(r){var s=new Mi(ti(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,r&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(r){r||(r={});var s=this.first,c=this.first+this.size;null!=r.from&&r.from>s&&(s=r.from),null!=r.to&&r.to<c&&(c=r.to);var d=new Mi(ti(this,s,c),r.mode||this.modeOption,s,this.lineSep,this.direction);return r.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:r.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:r.sharedHist}],function md(r,s){for(var c=0;c<s.length;c++){var d=s[c],p=d.find(),_=r.clipPos(p.from),C=r.clipPos(p.to);if(wt(_,C)){var O=fc(r,_,C,d.primary,d.primary.type);d.markers.push(O),O.parent=d}}}(d,gd(this)),d},unlinkDoc:function(r){if(r instanceof nr&&(r=r.doc),this.linked)for(var s=0;s<this.linked.length;++s)if(this.linked[s].doc==r){this.linked.splice(s,1),r.unlinkDoc(this),sh(gd(this));break}if(r.history==this.history){var d=[r.id];Qs(r,function(p){return d.push(p.id)},!0),r.history=new mi(null),r.history.done=Ze(this.history.done,d),r.history.undone=Ze(this.history.undone,d)}},iterLinkedDocs:function(r){Qs(this,r)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(r){return this.lineSep?r.split(this.lineSep):ga(r)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:hr(function(r){"rtl"!=r&&(r="ltr"),r!=this.direction&&(this.direction=r,this.iter(function(s){return s.order=null}),this.cm&&function Fo(r){Zn(r,function(){Ts(r),hi(r)})}(this.cm))})}),Mi.prototype.eachLine=Mi.prototype.iter;var Jh=0;function Zg(r){var s=this;if(eo(s),!Dn(s,r)&&!Pn(s.display,r)){Xe(r),$&&(Jh=+new Date);var c=qs(s,r,!0),d=r.dataTransfer.files;if(c&&!s.isReadOnly())if(d&&d.length&&window.FileReader&&window.File)for(var p=d.length,_=Array(p),C=0,O=function(){++C==p&&Un(s,function(){var Ue={from:c=qt(s.doc,c),to:c,text:s.doc.splitLines(_.filter(function(Qe){return null!=Qe}).join(s.doc.lineSeparator())),origin:"paste"};fl(s.doc,Ue),Fr(s.doc,Lo(qt(s.doc,c),qt(s.doc,ra(Ue))))})()},z=function(Ue,Qe){if(s.options.allowDropFileTypes&&-1==we(s.options.allowDropFileTypes,Ue.type))O();else{var lt=new FileReader;lt.onerror=function(){return O()},lt.onload=function(){var _t=lt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(_t)||(_[Qe]=_t),O()},lt.readAsText(Ue)}},X=0;X<d.length;X++)z(d[X],X);else{if(s.state.draggingText&&s.doc.sel.contains(c)>-1)return s.state.draggingText(r),void setTimeout(function(){return s.display.input.focus()},20);try{var ge=r.dataTransfer.getData("Text");if(ge){var De;if(s.state.draggingText&&!s.state.draggingText.copy&&(De=s.listSelections()),Ss(s.doc,Lo(c,c)),De)for(var Ve=0;Ve<De.length;++Ve)pl(s.doc,"",De[Ve].anchor,De[Ve].head,"drag");s.replaceSelection(ge,"around","paste"),s.display.input.focus()}}catch(Ue){}}}}function eo(r){r.display.dragCursor&&(r.display.lineSpace.removeChild(r.display.dragCursor),r.display.dragCursor=null)}function Ou(r){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),c=[],d=0;d<s.length;d++){var p=s[d].CodeMirror;p&&c.push(p)}c.length&&c[0].operation(function(){for(var _=0;_<c.length;_++)r(c[_])})}}var yd=!1;function bp(){yd||(function Xh(){var r;Ut(window,"resize",function(){null==r&&(r=setTimeout(function(){r=null,Ou(wp)},100))}),Ut(window,"blur",function(){return Ou(Gi)})}(),yd=!0)}function wp(r){var s=r.display;if(s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,r.setSize(),r.hasFocus()){const c=r.getCursor(),d={from:c,to:c};d&&sr(r,ta(r,qt(r.doc,d.from),qt(r.doc,d.to),d.margin))}}for(var gl={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ql=0;ql<10;ql++)gl[ql+48]=gl[ql+96]=String(ql);for(var pc=65;pc<=90;pc++)gl[pc]=String.fromCharCode(pc);for(var Kl=1;Kl<=12;Kl++)gl[Kl+111]=gl[Kl+63235]="F"+Kl;var Oa={};function ef(r){var s=r.split(/-(?!$)/);r=s[s.length-1];for(var c,d,p,_,C=0;C<s.length-1;C++){var O=s[C];if(/^(cmd|meta|m)$/i.test(O))_=!0;else if(/^a(lt)?$/i.test(O))c=!0;else if(/^(c|ctrl|control)$/i.test(O))d=!0;else{if(!/^s(hift)?$/i.test(O))throw new Error("Unrecognized modifier name: "+O);p=!0}}return c&&(r="Alt-"+r),d&&(r="Ctrl-"+r),_&&(r="Cmd-"+r),p&&(r="Shift-"+r),r}function ml(r){var s={};for(var c in r)if(r.hasOwnProperty(c)){var d=r[c];if(/^(name|fallthrough|(de|at)tach)$/.test(c))continue;if("..."==d){delete r[c];continue}for(var p=je(c.split(" "),ef),_=0;_<p.length;_++){var C=void 0,O=void 0;_==p.length-1?(O=p.join(" "),C=d):(O=p.slice(0,_+1).join(" "),C="...");var z=s[O];if(z){if(z!=C)throw new Error("Inconsistent bindings for "+O)}else s[O]=C}delete r[c]}for(var X in s)r[X]=s[X];return r}function gc(r,s,c,d){var p=(s=$i(s)).call?s.call(r,d):s[r];if(!1===p)return"nothing";if("..."===p)return"multi";if(null!=p&&c(p))return"handled";if(s.fallthrough){if("[object Array]"!=Object.prototype.toString.call(s.fallthrough))return gc(r,s.fallthrough,c,d);for(var _=0;_<s.fallthrough.length;_++){var C=gc(r,s.fallthrough[_],c,d);if(C)return C}}}function oh(r){var s="string"==typeof r?r:gl[r.keyCode];return"Ctrl"==s||"Alt"==s||"Shift"==s||"Mod"==s}function Zl(r,s,c){var d=r;return s.altKey&&"Alt"!=d&&(r="Alt-"+r),(me?s.metaKey:s.ctrlKey)&&"Ctrl"!=d&&(r="Ctrl-"+r),(me?s.ctrlKey:s.metaKey)&&"Mod"!=d&&(r="Cmd-"+r),!c&&s.shiftKey&&"Shift"!=d&&(r="Shift-"+r),r}function _d(r,s){if(D&&34==r.keyCode&&r.char)return!1;var c=gl[r.keyCode];return null!=c&&!r.altGraphKey&&(3==r.keyCode&&r.code&&(c=r.code),Zl(c,r,s))}function $i(r){return"string"==typeof r?Oa[r]:r}function to(r,s){for(var c=r.doc.sel.ranges,d=[],p=0;p<c.length;p++){for(var _=s(c[p]);d.length&&wt(_.from,Ne(d).to)<=0;){var C=d.pop();if(wt(C.from,_.from)<0){_.from=C.from;break}}d.push(_)}Zn(r,function(){for(var O=d.length-1;O>=0;O--)pl(r.doc,"",d[O].from,d[O].to,"+delete");ll(r)})}function bd(r,s,c){var d=nt(r.text,s+c,c);return d<0||d>r.text.length?null:d}function Ru(r,s,c){var d=bd(r,s.ch,c);return null==d?null:new at(s.line,d,c<0?"after":"before")}function mc(r,s,c,d,p){if(r){"rtl"==s.doc.direction&&(p=-p);var _=xt(c,s.doc.direction);if(_){var X,C=p<0?Ne(_):_[0],z=p<0==(1==C.level)?"after":"before";if(C.level>0||"rtl"==s.doc.direction){var ge=Qo(s,c),De=wr(s,ge,X=p<0?c.text.length-1:0).top;X=kt(function(Ve){return wr(s,ge,Ve).top==De},p<0==(1==C.level)?C.from:C.to-1,X),"before"==z&&(X=bd(c,X,1))}else X=p<0?C.to:C.from;return new at(d,X,z)}}return new at(d,p<0?c.text.length:0,p<0?"before":"after")}Oa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Oa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Oa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Oa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Oa.default=G?Oa.macDefault:Oa.pcDefault;var vc={selectAll:Mu,singleSelection:function(r){return r.setSelection(r.getCursor("anchor"),r.getCursor("head"),rt)},killLine:function(r){return to(r,function(s){if(s.empty()){var c=yt(r.doc,s.head.line).text.length;return s.head.ch==c&&s.head.line<r.lastLine()?{from:s.head,to:at(s.head.line+1,0)}:{from:s.head,to:at(s.head.line,c)}}return{from:s.from(),to:s.to()}})},deleteLine:function(r){return to(r,function(s){return{from:at(s.from().line,0),to:qt(r.doc,at(s.to().line+1,0))}})},delLineLeft:function(r){return to(r,function(s){return{from:at(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(r){return to(r,function(s){var c=r.charCoords(s.head,"div").top+5;return{from:r.coordsChar({left:0,top:c},"div"),to:s.from()}})},delWrappedLineRight:function(r){return to(r,function(s){var c=r.charCoords(s.head,"div").top+5,d=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:c},"div");return{from:s.from(),to:d}})},undo:function(r){return r.undo()},redo:function(r){return r.redo()},undoSelection:function(r){return r.undoSelection()},redoSelection:function(r){return r.redoSelection()},goDocStart:function(r){return r.extendSelection(at(r.firstLine(),0))},goDocEnd:function(r){return r.extendSelection(at(r.lastLine()))},goLineStart:function(r){return r.extendSelectionsBy(function(s){return ah(r,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(r){return r.extendSelectionsBy(function(s){return yc(r,s.head)},{origin:"+move",bias:1})},goLineEnd:function(r){return r.extendSelectionsBy(function(s){return function lh(r,s){var c=yt(r.doc,s),d=function _a(r){for(var s;s=_o(r);)r=s.find(1,!0).line;return r}(c);return d!=c&&(s=Jt(d)),mc(!0,r,c,s,-1)}(r,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(r){return r.extendSelectionsBy(function(s){var c=r.cursorCoords(s.head,"div").top+5;return r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:c},"div")},Je)},goLineLeft:function(r){return r.extendSelectionsBy(function(s){var c=r.cursorCoords(s.head,"div").top+5;return r.coordsChar({left:0,top:c},"div")},Je)},goLineLeftSmart:function(r){return r.extendSelectionsBy(function(s){var c=r.cursorCoords(s.head,"div").top+5,d=r.coordsChar({left:0,top:c},"div");return d.ch<r.getLine(d.line).search(/\S/)?yc(r,s.head):d},Je)},goLineUp:function(r){return r.moveV(-1,"line")},goLineDown:function(r){return r.moveV(1,"line")},goPageUp:function(r){return r.moveV(-1,"page")},goPageDown:function(r){return r.moveV(1,"page")},goCharLeft:function(r){return r.moveH(-1,"char")},goCharRight:function(r){return r.moveH(1,"char")},goColumnLeft:function(r){return r.moveH(-1,"column")},goColumnRight:function(r){return r.moveH(1,"column")},goWordLeft:function(r){return r.moveH(-1,"word")},goGroupRight:function(r){return r.moveH(1,"group")},goGroupLeft:function(r){return r.moveH(-1,"group")},goWordRight:function(r){return r.moveH(1,"word")},delCharBefore:function(r){return r.deleteH(-1,"codepoint")},delCharAfter:function(r){return r.deleteH(1,"char")},delWordBefore:function(r){return r.deleteH(-1,"word")},delWordAfter:function(r){return r.deleteH(1,"word")},delGroupBefore:function(r){return r.deleteH(-1,"group")},delGroupAfter:function(r){return r.deleteH(1,"group")},indentAuto:function(r){return r.indentSelection("smart")},indentMore:function(r){return r.indentSelection("add")},indentLess:function(r){return r.indentSelection("subtract")},insertTab:function(r){return r.replaceSelection("\t")},insertSoftTab:function(r){for(var s=[],c=r.listSelections(),d=r.options.tabSize,p=0;p<c.length;p++){var _=c[p].from(),C=Q(r.getLine(_.line),_.ch,d);s.push(J(d-C%d))}r.replaceSelections(s)},defaultTab:function(r){r.somethingSelected()?r.indentSelection("add"):r.execCommand("insertTab")},transposeChars:function(r){return Zn(r,function(){for(var s=r.listSelections(),c=[],d=0;d<s.length;d++)if(s[d].empty()){var p=s[d].head,_=yt(r.doc,p.line).text;if(_)if(p.ch==_.length&&(p=new at(p.line,p.ch-1)),p.ch>0)p=new at(p.line,p.ch+1),r.replaceRange(_.charAt(p.ch-1)+_.charAt(p.ch-2),at(p.line,p.ch-2),p,"+transpose");else if(p.line>r.doc.first){var C=yt(r.doc,p.line-1).text;C&&(p=new at(p.line,1),r.replaceRange(_.charAt(0)+r.doc.lineSeparator()+C.charAt(C.length-1),at(p.line-1,C.length-1),p,"+transpose"))}c.push(new _n(p,p))}r.setSelections(c)})},newlineAndIndent:function(r){return Zn(r,function(){for(var s=r.listSelections(),c=s.length-1;c>=0;c--)r.replaceRange(r.doc.lineSeparator(),s[c].anchor,s[c].head,"+input");s=r.listSelections();for(var d=0;d<s.length;d++)r.indentLine(s[d].from().line,null,!0);ll(r)})},openLine:function(r){return r.replaceSelection("\n","start")},toggleOverwrite:function(r){return r.toggleOverwrite()}};function ah(r,s){var c=yt(r.doc,s),d=js(c);return d!=c&&(s=Jt(d)),mc(!0,r,d,s,1)}function yc(r,s){var c=ah(r,s.line),d=yt(r.doc,c.line),p=xt(d,r.doc.direction);if(!p||0==p[0].level){var _=Math.max(c.ch,d.text.search(/\S/));return at(c.line,s.line==c.line&&s.ch<=_&&s.ch?0:_,c.sticky)}return c}function Nu(r,s,c){if("string"==typeof s&&!(s=vc[s]))return!1;r.display.input.ensurePolled();var d=r.display.shift,p=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),c&&(r.display.shift=!1),p=s(r)!=Oe}finally{r.display.shift=d,r.state.suppressEdits=!1}return p}var Yl=new B;function vl(r,s,c,d){var p=r.state.keySeq;if(p){if(oh(s))return"handled";if(/\'$/.test(s)?r.state.keySeq=null:Yl.set(50,function(){r.state.keySeq==p&&(r.state.keySeq=null,r.display.input.reset())}),uh(r,p+" "+s,c,d))return!0}return uh(r,s,c,d)}function uh(r,s,c,d){var p=function Ep(r,s,c){for(var d=0;d<r.state.keyMaps.length;d++){var p=gc(s,r.state.keyMaps[d],c,r);if(p)return p}return r.options.extraKeys&&gc(s,r.options.extraKeys,c,r)||gc(s,r.options.keyMap,c,r)}(r,s,d);return"multi"==p&&(r.state.keySeq=s),"handled"==p&&ur(r,"keyHandled",r,s,c),("handled"==p||"multi"==p)&&(Xe(c),zr(r)),!!p}function tf(r,s){var c=_d(s,!0);return!!c&&(s.shiftKey&&!r.state.keySeq?vl(r,"Shift-"+c,s,function(d){return Nu(r,d,!0)})||vl(r,c,s,function(d){if("string"==typeof d?/^go[A-Z]/.test(d):d.motion)return Nu(r,d)}):vl(r,c,s,function(d){return Nu(r,d)}))}var _c=null;function ch(r){var s=this;if(!(r.target&&r.target!=s.display.input.getField()||(s.curOp.focus=ue(),Dn(s,r)))){$&&Z<11&&27==r.keyCode&&(r.returnValue=!1);var c=r.keyCode;s.display.shift=16==c||r.shiftKey;var d=tf(s,r);D&&(_c=d?c:null,!d&&88==c&&!au&&(G?r.metaKey:r.ctrlKey)&&s.replaceSelection("",null,"cut")),m&&!G&&!d&&46==c&&r.shiftKey&&!r.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==c&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&function Pu(r){var s=r.display.lineDiv;function c(d){(18==d.keyCode||!d.altKey)&&(xe(s,"CodeMirror-crosshair"),vn(document,"keyup",c),vn(document,"mouseover",c))}W(s,"CodeMirror-crosshair"),Ut(document,"keyup",c),Ut(document,"mouseover",c)}(s)}}function Lu(r){16==r.keyCode&&(this.doc.sel.shift=!1),Dn(this,r)}function Ed(r){var s=this;if(!(r.target&&r.target!=s.display.input.getField()||Pn(s.display,r)||Dn(s,r)||r.ctrlKey&&!r.altKey||G&&r.metaKey)){var c=r.keyCode,d=r.charCode;if(D&&c==_c)return _c=null,void Xe(r);if(!D||r.which&&!(r.which<10)||!tf(s,r)){var p=String.fromCharCode(null==d?c:d);"\b"!=p&&(function wd(r,s,c){return vl(r,"'"+c+"'",s,function(d){return Nu(r,d,!0)})}(s,r,p)||s.display.input.onKeyPress(r))}}}var Ql,bc,mr=function(r,s,c){this.time=r,this.pos=s,this.button=c};function dh(r){var s=this,c=s.display;if(!(Dn(s,r)||c.activeTouch&&c.input.supportsTouch())){if(c.input.ensurePolled(),c.shift=r.shiftKey,Pn(c,r))return void(P||(c.scroller.draggable=!1,setTimeout(function(){return c.scroller.draggable=!0},100)));if(!yi(s,r)){var d=qs(s,r),p=zn(r),_=d?function Cd(r,s){var c=+new Date;return bc&&bc.compare(c,r,s)?(Ql=bc=null,"triple"):Ql&&Ql.compare(c,r,s)?(bc=new mr(c,r,s),Ql=null,"double"):(Ql=new mr(c,r,s),bc=null,"single")}(d,p):"single";window.focus(),1==p&&s.state.selectingText&&s.state.selectingText(r),(!d||!function rf(r,s,c,d,p){var _="Click";return"double"==d?_="Double"+_:"triple"==d&&(_="Triple"+_),vl(r,Zl(_=(1==s?"Left":2==s?"Middle":"Right")+_,p),p,function(C){if("string"==typeof C&&(C=vc[C]),!C)return!1;var O=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),O=C(r,c)!=Oe}finally{r.state.suppressEdits=!1}return O})}(s,p,d,_,r))&&(1==p?d?function Qg(r,s,c,d){$?setTimeout(se(Ks,r),0):r.curOp.focus=ue();var C,p=function hh(r,s,c){var d=r.getOption("configureMouse"),p=d?d(r,s,c):{};return null==p.unit&&(p.unit=(re?c.shiftKey&&c.metaKey:c.altKey)?"rectangle":"single"==s?"char":"double"==s?"word":"line"),(null==p.extend||r.doc.extend)&&(p.extend=r.doc.extend||c.shiftKey),null==p.addNew&&(p.addNew=G?c.metaKey:c.ctrlKey),null==p.moveOnDrag&&(p.moveOnDrag=!(G?c.altKey:c.ctrlKey)),p}(r,c,d),_=r.doc.sel;r.options.dragDrop&&Kn&&!r.isReadOnly()&&"single"==c&&(C=_.contains(s))>-1&&(wt((C=_.ranges[C]).from(),s)<0||s.xRel>0)&&(wt(C.to(),s)>0||s.xRel<0)?function Cp(r,s,c,d){var p=r.display,_=!1,C=Un(r,function(X){P&&(p.scroller.draggable=!1),r.state.draggingText=!1,r.state.delayingBlurEvent&&(r.hasFocus()?r.state.delayingBlurEvent=!1:Vl(r)),vn(p.wrapper.ownerDocument,"mouseup",C),vn(p.wrapper.ownerDocument,"mousemove",O),vn(p.scroller,"dragstart",z),vn(p.scroller,"drop",C),_||(Xe(X),d.addNew||Et(r.doc,c,null,null,d.extend),P&&!I||$&&9==Z?setTimeout(function(){p.wrapper.ownerDocument.body.focus({preventScroll:!0}),p.input.focus()},20):p.input.focus())}),O=function(X){_=_||Math.abs(s.clientX-X.clientX)+Math.abs(s.clientY-X.clientY)>=10},z=function(){return _=!0};P&&(p.scroller.draggable=!0),r.state.draggingText=C,C.copy=!d.moveOnDrag,Ut(p.wrapper.ownerDocument,"mouseup",C),Ut(p.wrapper.ownerDocument,"mousemove",O),Ut(p.scroller,"dragstart",z),Ut(p.scroller,"drop",C),r.state.delayingBlurEvent=!0,setTimeout(function(){return p.input.focus()},20),p.scroller.dragDrop&&p.scroller.dragDrop()}(r,d,s,p):function Jg(r,s,c,d){$&&Vl(r);var p=r.display,_=r.doc;Xe(s);var C,O,z=_.sel,X=z.ranges;if(d.addNew&&!d.extend?(O=_.sel.contains(c),C=O>-1?X[O]:new _n(c,c)):(C=_.sel.primary(),O=_.sel.primIndex),"rectangle"==d.unit)d.addNew||(C=new _n(c,c)),c=qs(r,s,!0,!0),O=-1;else{var ge=sf(r,c,d.unit);C=d.extend?mt(C,ge.anchor,ge.head,d.extend):ge}d.addNew?-1==O?(O=X.length,fn(_,gi(r,X.concat([C]),O),{scroll:!1,origin:"*mouse"})):X.length>1&&X[O].empty()&&"char"==d.unit&&!d.extend?(fn(_,gi(r,X.slice(0,O).concat(X.slice(O+1)),0),{scroll:!1,origin:"*mouse"}),z=_.sel):gn(_,O,C,ot):(O=0,fn(_,new qn([C],0),ot),z=_.sel);var De=c;function Ve(st){if(0!=wt(De,st))if(De=st,"rectangle"==d.unit){for(var Lt=[],Ht=r.options.tabSize,jt=Q(yt(_,c.line).text,c.ch,Ht),ln=Q(yt(_,st.line).text,st.ch,Ht),Vn=Math.min(jt,ln),qr=Math.max(jt,ln),yr=Math.min(c.line,st.line),Ar=Math.min(r.lastLine(),Math.max(c.line,st.line));yr<=Ar;yr++){var os=yt(_,yr).text,Ir=Pt(os,Vn,Ht);Vn==qr?Lt.push(new _n(at(yr,Ir),at(yr,Ir))):os.length>Ir&&Lt.push(new _n(at(yr,Ir),at(yr,Pt(os,qr,Ht))))}Lt.length||Lt.push(new _n(c,c)),fn(_,gi(r,z.ranges.slice(0,O).concat(Lt),O),{origin:"*mouse",scroll:!1}),r.scrollIntoView(st)}else{var $n,Oi=C,Ri=sf(r,st,d.unit),En=Oi.anchor;wt(Ri.anchor,En)>0?($n=Ri.head,En=vo(Oi.from(),Ri.anchor)):($n=Ri.anchor,En=mo(Oi.to(),Ri.head));var Tr=z.ranges.slice(0);Tr[O]=function Qv(r,s){var c=s.anchor,d=s.head,p=yt(r.doc,c.line);if(0==wt(c,d)&&c.sticky==d.sticky)return s;var _=xt(p);if(!_)return s;var C=Qt(_,c.ch,c.sticky),O=_[C];if(O.from!=c.ch&&O.to!=c.ch)return s;var X,z=C+(O.from==c.ch==(1!=O.level)?0:1);if(0==z||z==_.length)return s;if(d.line!=c.line)X=(d.line-c.line)*("ltr"==r.doc.direction?1:-1)>0;else{var ge=Qt(_,d.ch,d.sticky),De=ge-C||(d.ch-c.ch)*(1==O.level?-1:1);X=ge==z-1||ge==z?De<0:De>0}var Ve=_[z+(X?-1:0)],Ue=X==(1==Ve.level),Qe=Ue?Ve.from:Ve.to,lt=Ue?"after":"before";return c.ch==Qe&&c.sticky==lt?s:new _n(new at(c.line,Qe,lt),d)}(r,new _n(qt(_,En),$n)),fn(_,gi(r,Tr,O),ot)}}var Ue=p.wrapper.getBoundingClientRect(),Qe=0;function lt(st){var Lt=++Qe,Ht=qs(r,st,!0,"rectangle"==d.unit);if(Ht)if(0!=wt(Ht,De)){r.curOp.focus=ue(),Ve(Ht);var jt=Ds(p,_);(Ht.line>=jt.to||Ht.line<jt.from)&&setTimeout(Un(r,function(){Qe==Lt&&lt(st)}),150)}else{var ln=st.clientY<Ue.top?-20:st.clientY>Ue.bottom?20:0;ln&&setTimeout(Un(r,function(){Qe==Lt&&(p.scroller.scrollTop+=ln,lt(st))}),50)}}function _t(st){r.state.selectingText=!1,Qe=1/0,st&&(Xe(st),p.input.focus()),vn(p.wrapper.ownerDocument,"mousemove",St),vn(p.wrapper.ownerDocument,"mouseup",At),_.history.lastSelOrigin=null}var St=Un(r,function(st){0!==st.buttons&&zn(st)?lt(st):_t(st)}),At=Un(r,_t);r.state.selectingText=At,Ut(p.wrapper.ownerDocument,"mousemove",St),Ut(p.wrapper.ownerDocument,"mouseup",At)}(r,d,s,p)}(s,d,_,r):Nn(r)==c.scroller&&Xe(r):2==p?(d&&Et(s.doc,d),setTimeout(function(){return c.input.focus()},20)):3==p&&(te?s.display.input.onContextMenu(r):Vl(s)))}}}function sf(r,s,c){if("char"==c)return new _n(s,s);if("word"==c)return r.findWordAt(s);if("line"==c)return new _n(at(s.line,0),qt(r.doc,at(s.line+1,0)));var d=c(r,s);return new _n(d.from,d.to)}function wc(r,s,c,d){var p,_;if(s.touches)p=s.touches[0].clientX,_=s.touches[0].clientY;else try{p=s.clientX,_=s.clientY}catch(Ve){return!1}if(p>=Math.floor(r.display.gutters.getBoundingClientRect().right))return!1;d&&Xe(s);var C=r.display,O=C.lineDiv.getBoundingClientRect();if(_>O.bottom||!Le(r,c))return Ft(s);_-=O.top-C.viewOffset;for(var z=0;z<r.display.gutterSpecs.length;++z){var X=C.gutters.childNodes[z];if(X&&X.getBoundingClientRect().right>=p)return yn(r,c,r,ci(r.doc,_),r.display.gutterSpecs[z].className,s),Ft(s)}}function yi(r,s){return wc(r,s,"gutterClick",!0)}function Ec(r,s){Pn(r.display,s)||function en(r,s){return!!Le(r,"gutterContextMenu")&&wc(r,s,"gutterContextMenu",!1)}(r,s)||Dn(r,s,"contextmenu")||te||r.display.input.onContextMenu(s)}function Uo(r){r.display.wrapper.className=r.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+r.options.theme.replace(/(^|\s)\s*/g," cm-s-"),To(r)}mr.prototype.compare=function(r,s,c){return this.time+400>r&&0==wt(s,this.pos)&&c==this.button};var In={toString:function(){return"CodeMirror.Init"}},no={},Fu={};function Cc(r,s,c){if(!s!=!(c&&c!=In)){var p=r.display.dragFunctions,_=s?Ut:vn;_(r.display.scroller,"dragstart",p.start),_(r.display.scroller,"dragenter",p.enter),_(r.display.scroller,"dragover",p.over),_(r.display.scroller,"dragleave",p.leave),_(r.display.scroller,"drop",p.drop)}}function Dd(r){r.options.lineWrapping?(W(r.display.wrapper,"CodeMirror-wrap"),r.display.sizer.style.minWidth="",r.display.sizerWidth=null):(xe(r.display.wrapper,"CodeMirror-wrap"),du(r)),Bl(r),hi(r),To(r),setTimeout(function(){return Zs(r)},100)}function nr(r,s){var c=this;if(!(this instanceof nr))return new nr(r,s);this.options=s=s?Ee(s):{},Ee(no,s,!1);var d=s.value;"string"==typeof d?d=new Mi(d,s.mode,null,s.lineSeparator,s.direction):s.mode&&(d.modeOption=s.mode),this.doc=d;var p=new nr.inputStyles[s.inputStyle](this),_=this.display=new Au(r,d,p,s);for(var C in _.wrapper.CodeMirror=this,Uo(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),oc(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},s.autofocus&&!q&&_.input.focus(),$&&Z<11&&setTimeout(function(){return c.display.input.reset(!0)},20),function Jl(r){var s=r.display;Ut(s.scroller,"mousedown",Un(r,dh)),Ut(s.scroller,"dblclick",$&&Z<11?Un(r,function(z){if(!Dn(r,z)){var X=qs(r,z);if(X&&!yi(r,z)&&!Pn(r.display,z)){Xe(z);var ge=r.findWordAt(X);Et(r.doc,ge.anchor,ge.head)}}}):function(z){return Dn(r,z)||Xe(z)}),Ut(s.scroller,"contextmenu",function(z){return Ec(r,z)}),Ut(s.input.getField(),"contextmenu",function(z){s.scroller.contains(z.target)||Ec(r,z)});var c,d={end:0};function p(){s.activeTouch&&(c=setTimeout(function(){return s.activeTouch=null},1e3),(d=s.activeTouch).end=+new Date)}function _(z){if(1!=z.touches.length)return!1;var X=z.touches[0];return X.radiusX<=1&&X.radiusY<=1}function C(z,X){if(null==X.left)return!0;var ge=X.left-z.left,De=X.top-z.top;return ge*ge+De*De>400}Ut(s.scroller,"touchstart",function(z){if(!Dn(r,z)&&!_(z)&&!yi(r,z)){s.input.ensurePolled(),clearTimeout(c);var X=+new Date;s.activeTouch={start:X,moved:!1,prev:X-d.end<=300?d:null},1==z.touches.length&&(s.activeTouch.left=z.touches[0].pageX,s.activeTouch.top=z.touches[0].pageY)}}),Ut(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),Ut(s.scroller,"touchend",function(z){var X=s.activeTouch;if(X&&!Pn(s,z)&&null!=X.left&&!X.moved&&new Date-X.start<300){var De,ge=r.coordsChar(s.activeTouch,"page");De=!X.prev||C(X,X.prev)?new _n(ge,ge):!X.prev.prev||C(X,X.prev.prev)?r.findWordAt(ge):new _n(at(ge.line,0),qt(r.doc,at(ge.line+1,0))),r.setSelection(De.anchor,De.head),r.focus(),Xe(z)}p()}),Ut(s.scroller,"touchcancel",p),Ut(s.scroller,"scroll",function(){s.scroller.clientHeight&&(ko(r,s.scroller.scrollTop),Mo(r,s.scroller.scrollLeft,!0),yn(r,"scroll",r))}),Ut(s.scroller,"mousewheel",function(z){return xi(r,z)}),Ut(s.scroller,"DOMMouseScroll",function(z){return xi(r,z)}),Ut(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(z){Dn(r,z)||Kt(z)},over:function(z){Dn(r,z)||(function _p(r,s){var c=qs(r,s);if(c){var d=document.createDocumentFragment();id(r,c,d),r.display.dragCursor||(r.display.dragCursor=k("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),r.display.lineSpace.insertBefore(r.display.dragCursor,r.display.cursorDiv)),oe(r.display.dragCursor,d)}}(r,z),Kt(z))},start:function(z){return function vd(r,s){if($&&(!r.state.draggingText||+new Date-Jh<100))Kt(s);else if(!Dn(r,s)&&!Pn(r.display,s)&&(s.dataTransfer.setData("Text",r.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!I)){var c=k("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",D&&(c.width=c.height=1,r.display.wrapper.appendChild(c),c._top=c.offsetTop),s.dataTransfer.setDragImage(c,0,0),D&&c.parentNode.removeChild(c)}}(r,z)},drop:Un(r,Zg),leave:function(z){Dn(r,z)||eo(r)}};var O=s.input.getField();Ut(O,"keyup",function(z){return Lu.call(r,z)}),Ut(O,"keydown",Un(r,ch)),Ut(O,"keypress",Un(r,Ed)),Ut(O,"focus",function(z){return sl(r,z)}),Ut(O,"blur",function(z){return Gi(r,z)})}(this),bp(),na(this),this.curOp.forceUpdate=!0,xu(this,d),s.autofocus&&!q||this.hasFocus()?setTimeout(function(){c.hasFocus()&&!c.state.focused&&sl(c)},20):Gi(this),Fu)Fu.hasOwnProperty(C)&&Fu[C](this,s[C],In);tr(this),s.finishInit&&s.finishInit(this);for(var O=0;O<yl.length;++O)yl[O](this);No(this),P&&s.lineWrapping&&"optimizelegibility"==getComputedStyle(_.lineDiv).textRendering&&(_.lineDiv.style.textRendering="auto")}nr.defaults=no,nr.optionHandlers=Fu;var yl=[];function Bu(r,s,c,d){var _,p=r.doc;null==c&&(c="add"),"smart"==c&&(p.mode.indent?_=ri(r,s).state:c="prev");var C=r.options.tabSize,O=yt(p,s),z=Q(O.text,null,C);O.stateAfter&&(O.stateAfter=null);var ge,X=O.text.match(/^\s*/)[0];if(d||/\S/.test(O.text)){if("smart"==c&&((ge=p.mode.indent(_,O.text.slice(X.length),O.text))==Oe||ge>150)){if(!d)return;c="prev"}}else ge=0,c="not";"prev"==c?ge=s>p.first?Q(yt(p,s-1).text,null,C):0:"add"==c?ge=z+r.options.indentUnit:"subtract"==c?ge=z-r.options.indentUnit:"number"==typeof c&&(ge=z+c),ge=Math.max(0,ge);var De="",Ve=0;if(r.options.indentWithTabs)for(var Ue=Math.floor(ge/C);Ue;--Ue)Ve+=C,De+="\t";if(Ve<ge&&(De+=J(ge-Ve)),De!=X)return pl(p,De,at(s,0),at(s,X.length),"+input"),O.stateAfter=null,!0;for(var Qe=0;Qe<p.sel.ranges.length;Qe++){var lt=p.sel.ranges[Qe];if(lt.head.line==s&&lt.head.ch<X.length){var _t=at(s,X.length);gn(p,Qe,new _n(_t,_t));break}}}nr.defineInitHook=function(r){return yl.push(r)};var is=null;function Dc(r){is=r}function _i(r,s,c,d,p){var _=r.doc;r.display.shift=!1,d||(d=_.sel);var C=+new Date-200,O="paste"==p||r.state.pasteIncoming>C,z=ga(s),X=null;if(O&&d.ranges.length>1)if(is&&is.text.join("\n")==s){if(d.ranges.length%is.text.length==0){X=[];for(var ge=0;ge<is.text.length;ge++)X.push(_.splitLines(is.text[ge]))}}else z.length==d.ranges.length&&r.options.pasteLinesPerSelection&&(X=je(z,function(St){return[St]}));for(var De=r.curOp.updateInput,Ve=d.ranges.length-1;Ve>=0;Ve--){var Ue=d.ranges[Ve],Qe=Ue.from(),lt=Ue.to();Ue.empty()&&(c&&c>0?Qe=at(Qe.line,Qe.ch-c):r.state.overwrite&&!O?lt=at(lt.line,Math.min(yt(_,lt.line).text.length,lt.ch+Ne(z).length)):O&&is&&is.lineWise&&is.text.join("\n")==z.join("\n")&&(Qe=lt=at(Qe.line,0)));var _t={from:Qe,to:lt,text:X?X[Ve%X.length]:z,origin:p||(O?"paste":r.state.cutIncoming>C?"cut":"+input")};fl(r.doc,_t),ur(r,"inputRead",r,_t)}s&&!O&&ss(r,s),ll(r),r.curOp.updateInput<2&&(r.curOp.updateInput=De),r.curOp.typing=!0,r.state.pasteIncoming=r.state.cutIncoming=-1}function Ad(r,s){var c=r.clipboardData&&r.clipboardData.getData("Text");if(c)return r.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&Zn(s,function(){return _i(s,c,0,null,"paste")}),!0}function ss(r,s){if(r.options.electricChars&&r.options.smartIndent)for(var c=r.doc.sel,d=c.ranges.length-1;d>=0;d--){var p=c.ranges[d];if(!(p.head.ch>100||d&&c.ranges[d-1].head.line==p.head.line)){var _=r.getModeAt(p.head),C=!1;if(_.electricChars){for(var O=0;O<_.electricChars.length;O++)if(s.indexOf(_.electricChars.charAt(O))>-1){C=Bu(r,p.head.line,"smart");break}}else _.electricInput&&_.electricInput.test(yt(r.doc,p.head.line).text.slice(0,p.head.ch))&&(C=Bu(r,p.head.line,"smart"));C&&ur(r,"electricInput",r,p.head.line)}}}function Ac(r){for(var s=[],c=[],d=0;d<r.doc.sel.ranges.length;d++){var p=r.doc.sel.ranges[d].head.line,_={anchor:at(p,0),head:at(p+1,0)};c.push(_),s.push(r.getRange(_.anchor,_.head))}return{text:s,ranges:c}}function of(r,s,c,d){r.setAttribute("autocorrect",c?"":"off"),r.setAttribute("autocapitalize",d?"":"off"),r.setAttribute("spellcheck",!!s)}function bi(){var r=k("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=k("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return P?r.style.width="1000px":r.setAttribute("wrap","off"),x&&(r.style.border="1px solid black"),of(r),s}function Ra(r,s,c,d,p){var _=s,C=c,O=yt(r,s.line),z=p&&"rtl"==r.direction?-c:c;function ge(At){var st;if("codepoint"==d){var Lt=O.text.charCodeAt(s.ch+(c>0?0:-1));st=isNaN(Lt)?null:new at(s.line,Math.max(0,Math.min(O.text.length,s.ch+c*((c>0?Lt>=55296&&Lt<56320:Lt>=56320&&Lt<57343)?2:1))),-c)}else st=p?function Yg(r,s,c,d){var p=xt(s,r.doc.direction);if(!p)return Ru(s,c,d);c.ch>=s.text.length?(c.ch=s.text.length,c.sticky="before"):c.ch<=0&&(c.ch=0,c.sticky="after");var _=Qt(p,c.ch,c.sticky),C=p[_];if("ltr"==r.doc.direction&&C.level%2==0&&(d>0?C.to>c.ch:C.from<c.ch))return Ru(s,c,d);var z,O=function(St,At){return bd(s,St instanceof at?St.ch:St,At)},X=function(St){return r.options.lineWrapping?(z=z||Qo(r,s),Pr(r,s,z,St)):{begin:0,end:s.text.length}},ge=X("before"==c.sticky?O(c,-1):c.ch);if("rtl"==r.doc.direction||1==C.level){var De=1==C.level==d<0,Ve=O(c,De?1:-1);if(null!=Ve&&(De?Ve<=C.to&&Ve<=ge.end:Ve>=C.from&&Ve>=ge.begin))return new at(c.line,Ve,De?"before":"after")}var Qe=function(St,At,st){for(;St>=0&&St<p.length;St+=At){var Ht=p[St],jt=At>0==(1!=Ht.level),ln=jt?st.begin:O(st.end,-1);if(Ht.from<=ln&&ln<Ht.to||(ln=jt?Ht.from:O(Ht.to,-1),st.begin<=ln&&ln<st.end))return Vn=ln,jt?new at(c.line,O(Vn,1),"before"):new at(c.line,Vn,"after")}var Vn},lt=Qe(_+d,d,ge);if(lt)return lt;var _t=d>0?ge.end:O(ge.begin,-1);return null==_t||d>0&&_t==s.text.length||!(lt=Qe(d>0?0:p.length-1,d,X(_t)))?null:lt}(r.cm,O,s,c):Ru(O,s,c);if(null==st){if(At||!function X(){var At=s.line+z;return!(At<r.first||At>=r.first+r.size)&&(s=new at(At,s.ch,s.sticky),O=yt(r,At))}())return!1;s=mc(p,r.cm,O,s.line,z)}else s=st;return!0}if("char"==d||"codepoint"==d)ge();else if("column"==d)ge(!0);else if("word"==d||"group"==d)for(var De=null,Ve="group"==d,Ue=r.cm&&r.cm.getHelper(s,"wordChars"),Qe=!0;!(c<0)||ge(!Qe);Qe=!1){var lt=O.text.charAt(s.ch)||"\n",_t=ze(lt,Ue)?"w":Ve&&"\n"==lt?"n":!Ve||/\s/.test(lt)?null:"p";if(Ve&&!Qe&&!_t&&(_t="s"),De&&De!=_t){c<0&&(c=1,ge(),s.sticky="after");break}if(_t&&(De=_t),c>0&&!ge(!Qe))break}var St=Ta(r,s,_,C,!0);return $o(_,St)&&(St.hitSide=!0),St}function Id(r,s,c,d){var C,X,p=r.doc,_=s.left;if("page"==d){var O=Math.min(r.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),z=Math.max(O-.5*Eu(r.display),3);C=(c>0?s.bottom:s.top)+c*z}else"line"==d&&(C=c>0?s.bottom+3:s.top-3);for(;(X=ns(r,_,C)).outside;){if(c<0?C<=0:C>=p.height){X.hitSide=!0;break}C+=5*c}return X}var Tn=function(r){this.cm=r,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Wr(r,s){var c=ji(r,s.line);if(!c||c.hidden)return null;var d=yt(r.doc,s.line),p=Xa(c,d,s.line),_=xt(d,r.doc.direction),C="left";_&&(C=Qt(_,s.ch)%2?"right":"left");var z=tl(p.map,s.ch,C);return z.offset="right"==z.collapse?z.end:z.start,z}function ar(r,s){return s&&(r.bad=!0),r}function _l(r,s,c){var d;if(s==r.display.lineDiv){if(!(d=r.display.lineDiv.childNodes[c]))return ar(r.clipPos(at(r.display.viewTo-1)),!0);s=null,c=0}else for(d=s;;d=d.parentNode){if(!d||d==r.display.lineDiv)return null;if(d.parentNode&&d.parentNode==r.display.lineDiv)break}for(var p=0;p<r.display.view.length;p++){var _=r.display.view[p];if(_.node==d)return Ic(_,s,c)}}function Ic(r,s,c){var d=r.text.firstChild,p=!1;if(!s||!ie(d,s))return ar(at(Jt(r.line),0),!0);if(s==d&&(p=!0,s=d.childNodes[c],c=0,!s)){var _=r.rest?Ne(r.rest):r.line;return ar(at(Jt(_),_.text.length),p)}var C=3==s.nodeType?s:null,O=s;for(!C&&1==s.childNodes.length&&3==s.firstChild.nodeType&&(C=s.firstChild,c&&(c=C.nodeValue.length));O.parentNode!=d;)O=O.parentNode;var z=r.measure,X=z.maps;function ge(_t,St,At){for(var st=-1;st<(X?X.length:0);st++)for(var Lt=st<0?z.map:X[st],Ht=0;Ht<Lt.length;Ht+=3){var jt=Lt[Ht+2];if(jt==_t||jt==St){var ln=Jt(st<0?r.line:r.rest[st]),Vn=Lt[Ht]+At;return(At<0||jt!=_t)&&(Vn=Lt[Ht+(At?1:0)]),at(ln,Vn)}}}var De=ge(C,O,c);if(De)return ar(De,p);for(var Ve=O.nextSibling,Ue=C?C.nodeValue.length-c:0;Ve;Ve=Ve.nextSibling){if(De=ge(Ve,Ve.firstChild,0))return ar(at(De.line,De.ch-Ue),p);Ue+=Ve.textContent.length}for(var Qe=O.previousSibling,lt=c;Qe;Qe=Qe.previousSibling){if(De=ge(Qe,Qe.firstChild,-1))return ar(at(De.line,De.ch+lt),p);lt+=Qe.textContent.length}}Tn.prototype.init=function(r){var s=this,c=this,d=c.cm,p=c.div=r.lineDiv;function _(O){for(var z=O.target;z;z=z.parentNode){if(z==p)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(z.className))break}return!1}function C(O){if(_(O)&&!Dn(d,O)){if(d.somethingSelected())Dc({lineWise:!1,text:d.getSelections()}),"cut"==O.type&&d.replaceSelection("",null,"cut");else{if(!d.options.lineWiseCopyCut)return;var z=Ac(d);Dc({lineWise:!0,text:z.text}),"cut"==O.type&&d.operation(function(){d.setSelections(z.ranges,0,rt),d.replaceSelection("",null,"cut")})}if(O.clipboardData){O.clipboardData.clearData();var X=is.text.join("\n");if(O.clipboardData.setData("Text",X),O.clipboardData.getData("Text")==X)return void O.preventDefault()}var ge=bi(),De=ge.firstChild;d.display.lineSpace.insertBefore(ge,d.display.lineSpace.firstChild),De.value=is.text.join("\n");var Ve=ue();Ie(De),setTimeout(function(){d.display.lineSpace.removeChild(ge),Ve.focus(),Ve==p&&c.showPrimarySelection()},50)}}p.contentEditable=!0,of(p,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize),Ut(p,"paste",function(O){!_(O)||Dn(d,O)||Ad(O,d)||Z<=11&&setTimeout(Un(d,function(){return s.updateFromDOM()}),20)}),Ut(p,"compositionstart",function(O){s.composing={data:O.data,done:!1}}),Ut(p,"compositionupdate",function(O){s.composing||(s.composing={data:O.data,done:!1})}),Ut(p,"compositionend",function(O){s.composing&&(O.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),Ut(p,"touchstart",function(){return c.forceCompositionEnd()}),Ut(p,"input",function(){s.composing||s.readFromDOMSoon()}),Ut(p,"copy",C),Ut(p,"cut",C)},Tn.prototype.screenReaderLabelChanged=function(r){r?this.div.setAttribute("aria-label",r):this.div.removeAttribute("aria-label")},Tn.prototype.prepareSelection=function(){var r=rd(this.cm,!1);return r.focus=ue()==this.div,r},Tn.prototype.showSelection=function(r,s){!r||!this.cm.display.view.length||((r.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(r))},Tn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Tn.prototype.showPrimarySelection=function(){var r=this.getSelection(),s=this.cm,c=s.doc.sel.primary(),d=c.from(),p=c.to();if(s.display.viewTo==s.display.viewFrom||d.line>=s.display.viewTo||p.line<s.display.viewFrom)r.removeAllRanges();else{var _=_l(s,r.anchorNode,r.anchorOffset),C=_l(s,r.focusNode,r.focusOffset);if(!_||_.bad||!C||C.bad||0!=wt(vo(_,C),d)||0!=wt(mo(_,C),p)){var O=s.display.view,z=d.line>=s.display.viewFrom&&Wr(s,d)||{node:O[0].measure.map[2],offset:0},X=p.line<s.display.viewTo&&Wr(s,p);if(!X){var ge=O[O.length-1].measure,De=ge.maps?ge.maps[ge.maps.length-1]:ge.map;X={node:De[De.length-1],offset:De[De.length-2]-De[De.length-3]}}if(!z||!X)return void r.removeAllRanges();var Ue,Ve=r.rangeCount&&r.getRangeAt(0);try{Ue=Ce(z.node,z.offset,X.offset,X.node)}catch(Qe){}Ue&&(!m&&s.state.focused?(r.collapse(z.node,z.offset),Ue.collapsed||(r.removeAllRanges(),r.addRange(Ue))):(r.removeAllRanges(),r.addRange(Ue)),Ve&&null==r.anchorNode?r.addRange(Ve):m&&this.startGracePeriod()),this.rememberSelection()}}},Tn.prototype.startGracePeriod=function(){var r=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){r.gracePeriod=!1,r.selectionChanged()&&r.cm.operation(function(){return r.cm.curOp.selectionChanged=!0})},20)},Tn.prototype.showMultipleSelections=function(r){oe(this.cm.display.cursorDiv,r.cursors),oe(this.cm.display.selectionDiv,r.selection)},Tn.prototype.rememberSelection=function(){var r=this.getSelection();this.lastAnchorNode=r.anchorNode,this.lastAnchorOffset=r.anchorOffset,this.lastFocusNode=r.focusNode,this.lastFocusOffset=r.focusOffset},Tn.prototype.selectionInEditor=function(){var r=this.getSelection();if(!r.rangeCount)return!1;var s=r.getRangeAt(0).commonAncestorContainer;return ie(this.div,s)},Tn.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||ue()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Tn.prototype.blur=function(){this.div.blur()},Tn.prototype.getField=function(){return this.div},Tn.prototype.supportsTouch=function(){return!0},Tn.prototype.receivedFocus=function(){var r=this,s=this;this.selectionInEditor()?setTimeout(function(){return r.pollSelection()},20):Zn(this.cm,function(){return s.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function c(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,c))})},Tn.prototype.selectionChanged=function(){var r=this.getSelection();return r.anchorNode!=this.lastAnchorNode||r.anchorOffset!=this.lastAnchorOffset||r.focusNode!=this.lastFocusNode||r.focusOffset!=this.lastFocusOffset},Tn.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var r=this.getSelection(),s=this.cm;if(V&&H&&this.cm.display.gutterSpecs.length&&function ro(r){for(var s=r;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}(r.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var c=_l(s,r.anchorNode,r.anchorOffset),d=_l(s,r.focusNode,r.focusOffset);c&&d&&Zn(s,function(){fn(s.doc,Lo(c,d),rt),(c.bad||d.bad)&&(s.curOp.selectionChanged=!0)})}}},Tn.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var _,C,O,r=this.cm,s=r.display,c=r.doc.sel.primary(),d=c.from(),p=c.to();if(0==d.ch&&d.line>r.firstLine()&&(d=at(d.line-1,yt(r.doc,d.line-1).length)),p.ch==yt(r.doc,p.line).text.length&&p.line<r.lastLine()&&(p=at(p.line+1,0)),d.line<s.viewFrom||p.line>s.viewTo-1)return!1;d.line==s.viewFrom||0==(_=Xn(r,d.line))?(C=Jt(s.view[0].line),O=s.view[0].node):(C=Jt(s.view[_].line),O=s.view[_-1].node.nextSibling);var X,ge,z=Xn(r,p.line);if(z==s.view.length-1?(X=s.viewTo-1,ge=s.lineDiv.lastChild):(X=Jt(s.view[z+1].line)-1,ge=s.view[z+1].node.previousSibling),!O)return!1;for(var De=r.doc.splitLines(function la(r,s,c,d,p){var _="",C=!1,O=r.doc.lineSeparator(),z=!1;function ge(){C&&(_+=O,z&&(_+=O),C=z=!1)}function De(Ue){Ue&&(ge(),_+=Ue)}function Ve(Ue){if(1==Ue.nodeType){var Qe=Ue.getAttribute("cm-text");if(Qe)return void De(Qe);var _t,lt=Ue.getAttribute("cm-marker");if(lt){var St=r.findMarks(at(d,0),at(p+1,0),function X(Ue){return function(Qe){return Qe.id==Ue}}(+lt));return void(St.length&&(_t=St[0].find(0))&&De(An(r.doc,_t.from,_t.to).join(O)))}if("false"==Ue.getAttribute("contenteditable"))return;var At=/^(pre|div|p|li|table|br)$/i.test(Ue.nodeName);if(!/^br$/i.test(Ue.nodeName)&&0==Ue.textContent.length)return;At&&ge();for(var st=0;st<Ue.childNodes.length;st++)Ve(Ue.childNodes[st]);/^(pre|p)$/i.test(Ue.nodeName)&&(z=!0),At&&(C=!0)}else 3==Ue.nodeType&&De(Ue.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ve(s),s!=c;)s=s.nextSibling,z=!1;return _}(r,O,ge,C,X)),Ve=An(r.doc,at(C,0),at(X,yt(r.doc,X).text.length));De.length>1&&Ve.length>1;)if(Ne(De)==Ne(Ve))De.pop(),Ve.pop(),X--;else{if(De[0]!=Ve[0])break;De.shift(),Ve.shift(),C++}for(var Ue=0,Qe=0,lt=De[0],_t=Ve[0],St=Math.min(lt.length,_t.length);Ue<St&&lt.charCodeAt(Ue)==_t.charCodeAt(Ue);)++Ue;for(var At=Ne(De),st=Ne(Ve),Lt=Math.min(At.length-(1==De.length?Ue:0),st.length-(1==Ve.length?Ue:0));Qe<Lt&&At.charCodeAt(At.length-Qe-1)==st.charCodeAt(st.length-Qe-1);)++Qe;if(1==De.length&&1==Ve.length&&C==d.line)for(;Ue&&Ue>d.ch&&At.charCodeAt(At.length-Qe-1)==st.charCodeAt(st.length-Qe-1);)Ue--,Qe++;De[De.length-1]=At.slice(0,At.length-Qe).replace(/^\u200b+/,""),De[0]=De[0].slice(Ue).replace(/\u200b+$/,"");var Ht=at(C,Ue),jt=at(X,Ve.length?Ne(Ve).length-Qe:0);return De.length>1||De[0]||wt(Ht,jt)?(pl(r.doc,De,Ht,jt,"+input"),!0):void 0},Tn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Tn.prototype.reset=function(){this.forceCompositionEnd()},Tn.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Tn.prototype.readFromDOMSoon=function(){var r=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(r.readDOMTimeout=null,r.composing){if(!r.composing.done)return;r.composing=null}r.updateFromDOM()},80))},Tn.prototype.updateFromDOM=function(){var r=this;(this.cm.isReadOnly()||!this.pollContent())&&Zn(this.cm,function(){return hi(r.cm)})},Tn.prototype.setUneditable=function(r){r.contentEditable="false"},Tn.prototype.onKeyPress=function(r){0==r.charCode||this.composing||(r.preventDefault(),this.cm.isReadOnly()||Un(this.cm,_i)(this.cm,String.fromCharCode(null==r.charCode?r.keyCode:r.charCode),0))},Tn.prototype.readOnlyChanged=function(r){this.div.contentEditable=String("nocursor"!=r)},Tn.prototype.onContextMenu=function(){},Tn.prototype.resetPosition=function(){},Tn.prototype.needsContentAttribute=!0;var fr=function(r){this.cm=r,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};fr.prototype.init=function(r){var s=this,c=this,d=this.cm;this.createField(r);var p=this.textarea;function _(C){if(!Dn(d,C)){if(d.somethingSelected())Dc({lineWise:!1,text:d.getSelections()});else{if(!d.options.lineWiseCopyCut)return;var O=Ac(d);Dc({lineWise:!0,text:O.text}),"cut"==C.type?d.setSelections(O.ranges,null,rt):(c.prevInput="",p.value=O.text.join("\n"),Ie(p))}"cut"==C.type&&(d.state.cutIncoming=+new Date)}}r.wrapper.insertBefore(this.wrapper,r.wrapper.firstChild),x&&(p.style.width="0px"),Ut(p,"input",function(){$&&Z>=9&&s.hasSelection&&(s.hasSelection=null),c.poll()}),Ut(p,"paste",function(C){Dn(d,C)||Ad(C,d)||(d.state.pasteIncoming=+new Date,c.fastPoll())}),Ut(p,"cut",_),Ut(p,"copy",_),Ut(r.scroller,"paste",function(C){if(!Pn(r,C)&&!Dn(d,C)){if(!p.dispatchEvent)return d.state.pasteIncoming=+new Date,void c.focus();var O=new Event("paste");O.clipboardData=C.clipboardData,p.dispatchEvent(O)}}),Ut(r.lineSpace,"selectstart",function(C){Pn(r,C)||Xe(C)}),Ut(p,"compositionstart",function(){var C=d.getCursor("from");c.composing&&c.composing.range.clear(),c.composing={start:C,range:d.markText(C,d.getCursor("to"),{className:"CodeMirror-composing"})}}),Ut(p,"compositionend",function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},fr.prototype.createField=function(r){this.wrapper=bi(),this.textarea=this.wrapper.firstChild},fr.prototype.screenReaderLabelChanged=function(r){r?this.textarea.setAttribute("aria-label",r):this.textarea.removeAttribute("aria-label")},fr.prototype.prepareSelection=function(){var r=this.cm,s=r.display,c=r.doc,d=rd(r);if(r.options.moveInputWithCursor){var p=ts(r,c.sel.primary().head,"div"),_=s.wrapper.getBoundingClientRect(),C=s.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,p.top+C.top-_.top)),d.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,p.left+C.left-_.left))}return d},fr.prototype.showSelection=function(r){var c=this.cm.display;oe(c.cursorDiv,r.cursors),oe(c.selectionDiv,r.selection),null!=r.teTop&&(this.wrapper.style.top=r.teTop+"px",this.wrapper.style.left=r.teLeft+"px")},fr.prototype.reset=function(r){if(!this.contextMenuPending&&!this.composing){var s=this.cm;if(s.somethingSelected()){this.prevInput="";var c=s.getSelection();this.textarea.value=c,s.state.focused&&Ie(this.textarea),$&&Z>=9&&(this.hasSelection=c)}else r||(this.prevInput=this.textarea.value="",$&&Z>=9&&(this.hasSelection=null))}},fr.prototype.getField=function(){return this.textarea},fr.prototype.supportsTouch=function(){return!1},fr.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!q||ue()!=this.textarea))try{this.textarea.focus()}catch(r){}},fr.prototype.blur=function(){this.textarea.blur()},fr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},fr.prototype.receivedFocus=function(){this.slowPoll()},fr.prototype.slowPoll=function(){var r=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){r.poll(),r.cm.state.focused&&r.slowPoll()})},fr.prototype.fastPoll=function(){var r=!1,s=this;s.pollingFast=!0,s.polling.set(20,function c(){s.poll()||r?(s.pollingFast=!1,s.slowPoll()):(r=!0,s.polling.set(60,c))})},fr.prototype.poll=function(){var r=this,s=this.cm,c=this.textarea,d=this.prevInput;if(this.contextMenuPending||!s.state.focused||Sl(c)&&!d&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var p=c.value;if(p==d&&!s.somethingSelected())return!1;if($&&Z>=9&&this.hasSelection===p||G&&/[\uf700-\uf7ff]/.test(p))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var _=p.charCodeAt(0);if(8203==_&&!d&&(d="\u200b"),8666==_)return this.reset(),this.cm.execCommand("undo")}for(var C=0,O=Math.min(d.length,p.length);C<O&&d.charCodeAt(C)==p.charCodeAt(C);)++C;return Zn(s,function(){_i(s,p.slice(C),d.length-C,null,r.composing?"*compose":null),p.length>1e3||p.indexOf("\n")>-1?c.value=r.prevInput="":r.prevInput=p,r.composing&&(r.composing.range.clear(),r.composing.range=s.markText(r.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},fr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},fr.prototype.onKeyPress=function(){$&&Z>=9&&(this.hasSelection=null),this.fastPoll()},fr.prototype.onContextMenu=function(r){var s=this,c=s.cm,d=c.display,p=s.textarea;s.contextMenuPending&&s.contextMenuPending();var _=qs(c,r),C=d.scroller.scrollTop;if(_&&!D){c.options.resetSelectionOnContextMenu&&-1==c.doc.sel.contains(_)&&Un(c,fn)(c.doc,Lo(_),rt);var De,z=p.style.cssText,X=s.wrapper.style.cssText,ge=s.wrapper.offsetParent.getBoundingClientRect();if(s.wrapper.style.cssText="position: static",p.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(r.clientY-ge.top-5)+"px; left: "+(r.clientX-ge.left-5)+"px;\n      z-index: 1000; background: "+($?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",P&&(De=window.scrollY),d.input.focus(),P&&window.scrollTo(null,De),d.input.reset(),c.somethingSelected()||(p.value=s.prevInput=" "),s.contextMenuPending=Ue,d.selForContextMenu=c.doc.sel,clearTimeout(d.detectingSelectAll),$&&Z>=9&&Ve(),te){Kt(r);var Qe=function(){vn(window,"mouseup",Qe),setTimeout(Ue,20)};Ut(window,"mouseup",Qe)}else setTimeout(Ue,50)}function Ve(){if(null!=p.selectionStart){var lt=c.somethingSelected(),_t="\u200b"+(lt?p.value:"");p.value="\u21da",p.value=_t,s.prevInput=lt?"":"\u200b",p.selectionStart=1,p.selectionEnd=_t.length,d.selForContextMenu=c.doc.sel}}function Ue(){if(s.contextMenuPending==Ue&&(s.contextMenuPending=!1,s.wrapper.style.cssText=X,p.style.cssText=z,$&&Z<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=C),null!=p.selectionStart)){(!$||$&&Z<9)&&Ve();var lt=0,_t=function(){d.selForContextMenu==c.doc.sel&&0==p.selectionStart&&p.selectionEnd>0&&"\u200b"==s.prevInput?Un(c,Mu)(c):lt++<10?d.detectingSelectAll=setTimeout(_t,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(_t,200)}}},fr.prototype.readOnlyChanged=function(r){r||this.reset(),this.textarea.disabled="nocursor"==r,this.textarea.readOnly=!!r},fr.prototype.setUneditable=function(){},fr.prototype.needsContentAttribute=!1,function xs(r){var s=r.optionHandlers;function c(d,p,_,C){r.defaults[d]=p,_&&(s[d]=C?function(O,z,X){X!=In&&_(O,z,X)}:_)}r.defineOption=c,r.Init=In,c("value","",function(d,p){return d.setValue(p)},!0),c("mode",null,function(d,p){d.doc.modeOption=p,uc(d)},!0),c("indentUnit",2,uc,!0),c("indentWithTabs",!1),c("smartIndent",!0),c("tabSize",4,function(d){hl(d),To(d),hi(d)},!0),c("lineSeparator",null,function(d,p){if(d.doc.lineSep=p,p){var _=[],C=d.doc.first;d.doc.iter(function(z){for(var X=0;;){var ge=z.text.indexOf(p,X);if(-1==ge)break;X=ge+p.length,_.push(at(C,ge))}C++});for(var O=_.length-1;O>=0;O--)pl(d.doc,p,_[O],at(_[O].line,_[O].ch+p.length))}}),c("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(d,p,_){d.state.specialChars=new RegExp(p.source+(p.test("\t")?"":"|\t"),"g"),_!=In&&d.refresh()}),c("specialCharPlaceholder",Rl,function(d){return d.refresh()},!0),c("electricChars",!0),c("inputStyle",q?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),c("spellcheck",!1,function(d,p){return d.getInputField().spellcheck=p},!0),c("autocorrect",!1,function(d,p){return d.getInputField().autocorrect=p},!0),c("autocapitalize",!1,function(d,p){return d.getInputField().autocapitalize=p},!0),c("rtlMoveVisually",!pe),c("wholeLineUpdateBefore",!0),c("theme","default",function(d){Uo(d),Gr(d)},!0),c("keyMap","default",function(d,p,_){var C=$i(p),O=_!=In&&$i(_);O&&O.detach&&O.detach(d,C),C.attach&&C.attach(d,O||null)}),c("extraKeys",null),c("configureMouse",null),c("lineWrapping",!1,Dd,!0),c("gutters",[],function(d,p){d.display.gutterSpecs=ul(p,d.options.lineNumbers),Gr(d)},!0),c("fixedGutter",!0,function(d,p){d.display.gutters.style.left=p?Cs(d.display)+"px":"0",d.refresh()},!0),c("coverGutterNextToScrollbar",!1,function(d){return Zs(d)},!0),c("scrollbarStyle","native",function(d){oc(d),Zs(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),c("lineNumbers",!1,function(d,p){d.display.gutterSpecs=ul(d.options.gutters,p),Gr(d)},!0),c("firstLineNumber",1,Gr,!0),c("lineNumberFormatter",function(d){return d},Gr,!0),c("showCursorWhenSelecting",!1,ea,!0),c("resetSelectionOnContextMenu",!0),c("lineWiseCopyCut",!0),c("pasteLinesPerSelection",!0),c("selectionsMayTouch",!1),c("readOnly",!1,function(d,p){"nocursor"==p&&(Gi(d),d.display.input.blur()),d.display.input.readOnlyChanged(p)}),c("screenReaderLabel",null,function(d,p){d.display.input.screenReaderLabelChanged(p=""===p?null:p)}),c("disableInput",!1,function(d,p){p||d.display.input.reset()},!0),c("dragDrop",!0,Cc),c("allowDropFileTypes",null),c("cursorBlinkRate",530),c("cursorScrollMargin",0),c("cursorHeight",1,ea,!0),c("singleCursorHeightPerLine",!0,ea,!0),c("workTime",100),c("workDelay",100),c("flattenSpans",!0,hl,!0),c("addModeClass",!1,hl,!0),c("pollInterval",100),c("undoDepth",200,function(d,p){return d.doc.history.undoDepth=p}),c("historyEventDelay",1250),c("viewportMargin",10,function(d){return d.refresh()},!0),c("maxHighlightLength",1e4,hl,!0),c("moveInputWithCursor",!0,function(d,p){p||d.display.input.resetPosition()}),c("tabindex",null,function(d,p){return d.display.input.getField().tabIndex=p||""}),c("autofocus",null),c("direction","ltr",function(d,p){return d.doc.setDirection(p)},!0),c("phrases",null)}(nr),function vr(r){var s=r.optionHandlers,c=r.helpers={};r.prototype={constructor:r,focus:function(){window.focus(),this.display.input.focus()},setOption:function(d,p){var _=this.options,C=_[d];_[d]==p&&"mode"!=d||(_[d]=p,s.hasOwnProperty(d)&&Un(this,s[d])(this,p,C),yn(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,p){this.state.keyMaps[p?"push":"unshift"]($i(d))},removeKeyMap:function(d){for(var p=this.state.keyMaps,_=0;_<p.length;++_)if(p[_]==d||p[_].name==d)return p.splice(_,1),!0},addOverlay:gr(function(d,p){var _=d.token?d:r.getMode(this.options,d);if(_.startState)throw new Error("Overlays may not be stateful.");(function Te(r,s,c){for(var d=0,p=c(s);d<r.length&&c(r[d])<=p;)d++;r.splice(d,0,s)})(this.state.overlays,{mode:_,modeSpec:d,opaque:p&&p.opaque,priority:p&&p.priority||0},function(C){return C.priority}),this.state.modeGen++,hi(this)}),removeOverlay:gr(function(d){for(var p=this.state.overlays,_=0;_<p.length;++_){var C=p[_].modeSpec;if(C==d||"string"==typeof d&&C.name==d)return p.splice(_,1),this.state.modeGen++,void hi(this)}}),indentLine:gr(function(d,p,_){"string"!=typeof p&&"number"!=typeof p&&(p=null==p?this.options.smartIndent?"smart":"prev":p?"add":"subtract"),wn(this.doc,d)&&Bu(this,d,p,_)}),indentSelection:gr(function(d){for(var p=this.doc.sel.ranges,_=-1,C=0;C<p.length;C++){var O=p[C];if(O.empty())O.head.line>_&&(Bu(this,O.head.line,d,!0),_=O.head.line,C==this.doc.sel.primIndex&&ll(this));else{var z=O.from(),X=O.to(),ge=Math.max(_,z.line);_=Math.min(this.lastLine(),X.line-(X.ch?0:1))+1;for(var De=ge;De<_;++De)Bu(this,De,d);var Ve=this.doc.sel.ranges;0==z.ch&&p.length==Ve.length&&Ve[C].from().ch>0&&gn(this.doc,C,new _n(z,Ve[C].to()),rt)}}}),getTokenAt:function(d,p){return $c(this,d,p)},getLineTokens:function(d,p){return $c(this,at(d),p,!0)},getTokenTypeAt:function(d){d=qt(this.doc,d);var z,p=Xi(this,yt(this.doc,d.line)),_=0,C=(p.length-1)/2,O=d.ch;if(0==O)z=p[2];else for(;;){var X=_+C>>1;if((X?p[2*X-1]:0)>=O)C=X;else{if(!(p[2*X+1]<O)){z=p[2*X+2];break}_=X+1}}var ge=z?z.indexOf("overlay "):-1;return ge<0?z:0==ge?null:z.slice(0,ge-1)},getModeAt:function(d){var p=this.doc.mode;return p.innerMode?r.innerMode(p,this.getTokenAt(d).state).mode:p},getHelper:function(d,p){return this.getHelpers(d,p)[0]},getHelpers:function(d,p){var _=[];if(!c.hasOwnProperty(p))return _;var C=c[p],O=this.getModeAt(d);if("string"==typeof O[p])C[O[p]]&&_.push(C[O[p]]);else if(O[p])for(var z=0;z<O[p].length;z++){var X=C[O[p][z]];X&&_.push(X)}else O.helperType&&C[O.helperType]?_.push(C[O.helperType]):C[O.name]&&_.push(C[O.name]);for(var ge=0;ge<C._global.length;ge++){var De=C._global[ge];De.pred(O,this)&&-1==we(_,De.val)&&_.push(De.val)}return _},getStateAfter:function(d,p){var _=this.doc;return ri(this,(d=lr(_,null==d?_.first+_.size-1:d))+1,p).state},cursorCoords:function(d,p){var C=this.doc.sel.primary();return ts(this,null==d?C.head:"object"==typeof d?qt(this.doc,d):d?C.from():C.to(),p||"page")},charCoords:function(d,p){return Ws(this,qt(this.doc,d),p||"page")},coordsChar:function(d,p){return ns(this,(d=bu(this,d,p||"page")).left,d.top)},lineAtHeight:function(d,p){return d=bu(this,{top:d,left:0},p||"page").top,ci(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,p,_){var O,C=!1;if("number"==typeof d){var z=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>z&&(d=z,C=!0),O=yt(this.doc,d)}else O=d;return $s(this,O,{top:0,left:0},p||"page",_||C).top+(C?this.doc.height-Jn(O):0)},defaultTextHeight:function(){return Eu(this.display)},defaultCharWidth:function(){return Ca(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,p,_,C,O){var z=this.display,X=(d=ts(this,qt(this.doc,d))).bottom,ge=d.left;if(p.style.position="absolute",p.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(p),z.sizer.appendChild(p),"over"==C)X=d.top;else if("above"==C||"near"==C){var De=Math.max(z.wrapper.clientHeight,this.doc.height),Ve=Math.max(z.sizer.clientWidth,z.lineSpace.clientWidth);("above"==C||d.bottom+p.offsetHeight>De)&&d.top>p.offsetHeight?X=d.top-p.offsetHeight:d.bottom+p.offsetHeight<=De&&(X=d.bottom),ge+p.offsetWidth>Ve&&(ge=Ve-p.offsetWidth)}p.style.top=X+"px",p.style.left=p.style.right="","right"==O?(ge=z.sizer.clientWidth-p.offsetWidth,p.style.right="0px"):("left"==O?ge=0:"middle"==O&&(ge=(z.sizer.clientWidth-p.offsetWidth)/2),p.style.left=ge+"px"),_&&function sd(r,s){var c=ol(r,s);null!=c.scrollTop&&ko(r,c.scrollTop),null!=c.scrollLeft&&Mo(r,c.scrollLeft)}(this,{left:ge,top:X,right:ge+p.offsetWidth,bottom:X+p.offsetHeight})},triggerOnKeyDown:gr(ch),triggerOnKeyPress:gr(Ed),triggerOnKeyUp:Lu,triggerOnMouseDown:gr(dh),execCommand:function(d){if(vc.hasOwnProperty(d))return vc[d].call(null,this)},triggerElectric:gr(function(d){ss(this,d)}),findPosH:function(d,p,_,C){var O=1;p<0&&(O=-1,p=-p);for(var z=qt(this.doc,d),X=0;X<p&&!(z=Ra(this.doc,z,O,_,C)).hitSide;++X);return z},moveH:gr(function(d,p){var _=this;this.extendSelectionsBy(function(C){return _.display.shift||_.doc.extend||C.empty()?Ra(_.doc,C.head,d,p,_.options.rtlMoveVisually):d<0?C.from():C.to()},Je)}),deleteH:gr(function(d,p){var C=this.doc;this.doc.sel.somethingSelected()?C.replaceSelection("",null,"+delete"):to(this,function(O){var z=Ra(C,O.head,d,p,!1);return d<0?{from:z,to:O.head}:{from:O.head,to:z}})}),findPosV:function(d,p,_,C){var O=1,z=C;p<0&&(O=-1,p=-p);for(var X=qt(this.doc,d),ge=0;ge<p;++ge){var De=ts(this,X,"div");if(null==z?z=De.left:De.left=z,(X=Id(this,De,O,_)).hitSide)break}return X},moveV:gr(function(d,p){var _=this,C=this.doc,O=[],z=!this.display.shift&&!C.extend&&C.sel.somethingSelected();if(C.extendSelectionsBy(function(ge){if(z)return d<0?ge.from():ge.to();var De=ts(_,ge.head,"div");null!=ge.goalColumn&&(De.left=ge.goalColumn),O.push(De.left);var Ve=Id(_,De,d,p);return"page"==p&&ge==C.sel.primary()&&al(_,Ws(_,Ve,"div").top-De.top),Ve},Je),O.length)for(var X=0;X<C.sel.ranges.length;X++)C.sel.ranges[X].goalColumn=O[X]}),findWordAt:function(d){var _=yt(this.doc,d.line).text,C=d.ch,O=d.ch;if(_){var z=this.getHelper(d,"wordChars");"before"!=d.sticky&&O!=_.length||!C?++O:--C;for(var X=_.charAt(C),ge=ze(X,z)?function(De){return ze(De,z)}:/\s/.test(X)?function(De){return/\s/.test(De)}:function(De){return!/\s/.test(De)&&!ze(De)};C>0&&ge(_.charAt(C-1));)--C;for(;O<_.length&&ge(_.charAt(O));)++O}return new _n(at(d.line,C),at(d.line,O))},toggleOverwrite:function(d){null!=d&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?W(this.display.cursorDiv,"CodeMirror-overwrite"):xe(this.display.cursorDiv,"CodeMirror-overwrite"),yn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ue()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:gr(function(d,p){So(this,d,p)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-ws(this)-this.display.barHeight,width:d.scrollWidth-ws(this)-this.display.barWidth,clientHeight:vu(this),clientWidth:Io(this)}},scrollIntoView:gr(function(d,p){null==d?(d={from:this.doc.sel.primary().head,to:null},null==p&&(p=this.options.cursorScrollMargin)):"number"==typeof d?d={from:at(d,0),to:null}:null==d.from&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=p||0,null!=d.from.line?function Ti(r,s){Er(r),r.curOp.scrollToPos=s}(this,d):xo(this,d.from,d.to,d.margin)}),setSize:gr(function(d,p){var _=this,C=function(z){return"number"==typeof z||/^\d+$/.test(String(z))?z+"px":z};null!=d&&(this.display.wrapper.style.width=C(d)),null!=p&&(this.display.wrapper.style.height=C(p)),this.options.lineWrapping&&yu(this);var O=this.display.viewFrom;this.doc.iter(O,this.display.viewTo,function(z){if(z.widgets)for(var X=0;X<z.widgets.length;X++)if(z.widgets[X].noHScroll){ii(_,O,"widget");break}++O}),this.curOp.forceUpdate=!0,yn(this,"refresh",this)}),operation:function(d){return Zn(this,d)},startOperation:function(){return na(this)},endOperation:function(){return No(this)},refresh:gr(function(){var d=this.display.cachedTextHeight;hi(this),this.curOp.forceUpdate=!0,To(this),So(this,this.doc.scrollLeft,this.doc.scrollTop),Du(this.display),(null==d||Math.abs(d-Eu(this.display))>.5||this.options.lineWrapping)&&Bl(this),yn(this,"refresh",this)}),swapDoc:gr(function(d){var p=this.doc;return p.cm=null,this.state.selectingText&&this.state.selectingText(),xu(this,d),To(this),this.display.input.reset(),So(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,ur(this,"swapDoc",this,p),p}),phrase:function(d){var p=this.options.phrases;return p&&Object.prototype.hasOwnProperty.call(p,d)?p[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Be(r),r.registerHelper=function(d,p,_){c.hasOwnProperty(d)||(c[d]=r[d]={_global:[]}),c[d][p]=_},r.registerGlobalHelper=function(d,p,_,C){r.registerHelper(d,p,C),c[d]._global.push({pred:_,val:C})}}(nr);var Dp="iter insert remove copy getEditor constructor".split(" ");for(var w in Mi.prototype)Mi.prototype.hasOwnProperty(w)&&we(Dp,w)<0&&(nr.prototype[w]=function(r){return function(){return r.apply(this.doc,arguments)}}(Mi.prototype[w]));return Be(Mi),nr.inputStyles={textarea:fr,contenteditable:Tn},nr.defineMode=function(r){!nr.defaults.mode&&"null"!=r&&(nr.defaults.mode=r),Or.apply(this,arguments)},nr.defineMIME=function Fi(r,s){Di[r]=s},nr.defineMode("null",function(){return{token:function(r){return r.skipToEnd()}}}),nr.defineMIME("text/plain","null"),nr.defineExtension=function(r,s){nr.prototype[r]=s},nr.defineDocExtension=function(r,s){Mi.prototype[r]=s},nr.fromTextArea=function af(r,s){if((s=s?Ee(s):{}).value=r.value,!s.tabindex&&r.tabIndex&&(s.tabindex=r.tabIndex),!s.placeholder&&r.placeholder&&(s.placeholder=r.placeholder),null==s.autofocus){var c=ue();s.autofocus=c==r||null!=r.getAttribute("autofocus")&&c==document.body}function d(){r.value=O.getValue()}var p;if(r.form&&(Ut(r.form,"submit",d),!s.leaveSubmitMethodAlone)){var _=r.form;p=_.submit;try{var C=_.submit=function(){d(),_.submit=p,_.submit(),_.submit=C}}catch(z){}}s.finishInit=function(z){z.save=d,z.getTextArea=function(){return r},z.toTextArea=function(){z.toTextArea=isNaN,d(),r.parentNode.removeChild(z.getWrapperElement()),r.style.display="",r.form&&(vn(r.form,"submit",d),!s.leaveSubmitMethodAlone&&"function"==typeof r.form.submit&&(r.form.submit=p))}},r.style.display="none";var O=nr(function(z){return r.parentNode.insertBefore(z,r.nextSibling)},s);return O},function lf(r){r.off=vn,r.on=Ut,r.wheelEventPixels=cl,r.Doc=Mi,r.splitLines=ga,r.countColumn=Q,r.findColumn=Pt,r.isWordChar=tt,r.Pass=Oe,r.signal=yn,r.Line=wo,r.changeEnd=ra,r.scrollbarModel=As,r.Pos=at,r.cmpPos=wt,r.modes=ei,r.mimeModes=Di,r.resolveMode=xl,r.getMode=po,r.modeExtensions=Bs,r.extendMode=zo,r.copyState=ir,r.startState=Ai,r.innerMode=Go,r.commands=vc,r.keyMap=Oa,r.keyName=_d,r.isModifierKey=oh,r.lookupKey=gc,r.normalizeKeyMap=ml,r.StringStream=pt,r.SharedTextMarker=Ma,r.TextMarker=ka,r.LineWidget=xa,r.e_preventDefault=Xe,r.e_stopPropagation=Ke,r.e_stop=Kt,r.addClass=W,r.contains=ie,r.rmClass=xe,r.keyNames=gl}(nr),nr.version="5.65.2",nr}()},521:(vt,de,Y)=>{!function(m){"use strict";m.defineMode("markdown",function(S,T){var F=m.getMode(S,"text/html"),$="null"==F.name;void 0===T.highlightFormatting&&(T.highlightFormatting=!1),void 0===T.maxBlockquoteDepth&&(T.maxBlockquoteDepth=0),void 0===T.taskLists&&(T.taskLists=!1),void 0===T.strikethrough&&(T.strikethrough=!1),void 0===T.emoji&&(T.emoji=!1),void 0===T.fencedCodeBlockHighlighting&&(T.fencedCodeBlockHighlighting=!0),void 0===T.fencedCodeBlockDefaultMode&&(T.fencedCodeBlockDefaultMode="text/plain"),void 0===T.xml&&(T.xml=!0),void 0===T.tokenTypeOverrides&&(T.tokenTypeOverrides={});var P={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var U in P)P.hasOwnProperty(U)&&T.tokenTypeOverrides[U]&&(P[U]=T.tokenTypeOverrides[U]);var H=/^([*\-_])(?:\s*\1){2,}\s*$/,D=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,I=/^\[(x| )\](?=\s)/i,j=T.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,R=/^ {0,3}(?:\={1,}|-{2,})\s*$/,x=/^[^#!\[\]*_\\<>` "'(~:]+/,V=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,q=/^\s*\[[^\]]+?\]:.*$/,G=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function pe(Q,B,we){return B.f=B.inline=we,we(Q,B)}function fe(Q,B,we){return B.f=B.block=we,we(Q,B)}function te(Q){if(Q.linkTitle=!1,Q.linkHref=!1,Q.linkText=!1,Q.em=!1,Q.strong=!1,Q.strikethrough=!1,Q.quote=0,Q.indentedCode=!1,Q.f==xe){var B=$;if(!B){var we=m.innerMode(F,Q.htmlState);B="xml"==we.mode.name&&null===we.state.tagStart&&!we.state.context&&we.state.tokenize.isInText}B&&(Q.f=he,Q.block=ye,Q.htmlState=null)}return Q.trailingSpace=0,Q.trailingSpaceNewLine=!1,Q.prevLine=Q.thisLine,Q.thisLine={stream:null},null}function ye(Q,B){var we=Q.column()===B.indentation,ke=function me(Q){return!Q||!/\S/.test(Q.string)}(B.prevLine.stream),Oe=B.indentedCode,rt=B.prevLine.hr,ot=!1!==B.list,Je=(B.listStack[B.listStack.length-1]||0)+3;B.indentedCode=!1;var Pt=B.indentation;if(null===B.indentationDiff&&(B.indentationDiff=B.indentation,ot)){for(B.list=null;Pt<B.listStack[B.listStack.length-1];)B.listStack.pop(),B.listStack.length?B.indentation=B.listStack[B.listStack.length-1]:B.list=!1;!1!==B.list&&(B.indentationDiff=Pt-B.listStack[B.listStack.length-1])}var Ct=!(ke||rt||B.prevLine.header||ot&&Oe||B.prevLine.fencedCodeEnd),J=(!1===B.list||rt||ke)&&B.indentation<=Je&&Q.match(H),Ne=null;if(B.indentationDiff>=4&&(Oe||B.prevLine.fencedCodeEnd||B.prevLine.header||ke))return Q.skipToEnd(),B.indentedCode=!0,P.code;if(Q.eatSpace())return null;if(we&&B.indentation<=Je&&(Ne=Q.match(j))&&Ne[1].length<=6)return B.quote=0,B.header=Ne[1].length,B.thisLine.header=!0,T.highlightFormatting&&(B.formatting="header"),B.f=B.inline,oe(B);if(B.indentation<=Je&&Q.eat(">"))return B.quote=we?1:B.quote+1,T.highlightFormatting&&(B.formatting="quote"),Q.eatSpace(),oe(B);if(!J&&!B.setext&&we&&B.indentation<=Je&&(Ne=Q.match(D))){var je=Ne[1]?"ol":"ul";return B.indentation=Pt+Q.current().length,B.list=!0,B.quote=0,B.listStack.push(B.indentation),B.em=!1,B.strong=!1,B.code=!1,B.strikethrough=!1,T.taskLists&&Q.match(I,!1)&&(B.taskList=!0),B.f=B.inline,T.highlightFormatting&&(B.formatting=["list","list-"+je]),oe(B)}return we&&B.indentation<=Je&&(Ne=Q.match(V,!0))?(B.quote=0,B.fencedEndRE=new RegExp(Ne[1]+"+ *$"),B.localMode=T.fencedCodeBlockHighlighting&&function Z(Q){if(m.findModeByName){var B=m.findModeByName(Q);B&&(Q=B.mime||B.mimes[0])}var we=m.getMode(S,Q);return"null"==we.name?null:we}(Ne[2]||T.fencedCodeBlockDefaultMode),B.localMode&&(B.localState=m.startState(B.localMode)),B.f=B.block=ae,T.highlightFormatting&&(B.formatting="code-block"),B.code=-1,oe(B)):B.setext||!(Ct&&ot||B.quote||!1!==B.list||B.code||J||q.test(Q.string))&&(Ne=Q.lookAhead(1))&&(Ne=Ne.match(R))?(B.setext?(B.header=B.setext,B.setext=0,Q.skipToEnd(),T.highlightFormatting&&(B.formatting="header")):(B.header="="==Ne[0].charAt(0)?1:2,B.setext=B.header),B.thisLine.header=!0,B.f=B.inline,oe(B)):J?(Q.skipToEnd(),B.hr=!0,B.thisLine.hr=!0,P.hr):"["===Q.peek()?pe(Q,B,Re):pe(Q,B,B.inline)}function xe(Q,B){var we=F.token(Q,B.htmlState);if(!$){var ke=m.innerMode(F,B.htmlState);("xml"==ke.mode.name&&null===ke.state.tagStart&&!ke.state.context&&ke.state.tokenize.isInText||B.md_inside&&Q.current().indexOf(">")>-1)&&(B.f=he,B.block=ye,B.htmlState=null)}return we}function ae(Q,B){var rt,we=B.listStack[B.listStack.length-1]||0,ke=B.indentation<we;return B.fencedEndRE&&B.indentation<=we+3&&(ke||Q.match(B.fencedEndRE))?(T.highlightFormatting&&(B.formatting="code-block"),ke||(rt=oe(B)),B.localMode=B.localState=null,B.block=ye,B.f=he,B.fencedEndRE=null,B.code=0,B.thisLine.fencedCodeEnd=!0,ke?fe(Q,B,B.block):rt):B.localMode?B.localMode.token(Q,B.localState):(Q.skipToEnd(),P.code)}function oe(Q){var B=[];if(Q.formatting){B.push(P.formatting),"string"==typeof Q.formatting&&(Q.formatting=[Q.formatting]);for(var we=0;we<Q.formatting.length;we++)B.push(P.formatting+"-"+Q.formatting[we]),"header"===Q.formatting[we]&&B.push(P.formatting+"-"+Q.formatting[we]+"-"+Q.header),"quote"===Q.formatting[we]&&B.push(!T.maxBlockquoteDepth||T.maxBlockquoteDepth>=Q.quote?P.formatting+"-"+Q.formatting[we]+"-"+Q.quote:"error")}if(Q.taskOpen)return B.push("meta"),B.length?B.join(" "):null;if(Q.taskClosed)return B.push("property"),B.length?B.join(" "):null;if(Q.linkHref?B.push(P.linkHref,"url"):(Q.strong&&B.push(P.strong),Q.em&&B.push(P.em),Q.strikethrough&&B.push(P.strikethrough),Q.emoji&&B.push(P.emoji),Q.linkText&&B.push(P.linkText),Q.code&&B.push(P.code),Q.image&&B.push(P.image),Q.imageAltText&&B.push(P.imageAltText,"link"),Q.imageMarker&&B.push(P.imageMarker)),Q.header&&B.push(P.header,P.header+"-"+Q.header),Q.quote&&(B.push(P.quote),B.push(!T.maxBlockquoteDepth||T.maxBlockquoteDepth>=Q.quote?P.quote+"-"+Q.quote:P.quote+"-"+T.maxBlockquoteDepth)),!1!==Q.list){var ke=(Q.listStack.length-1)%3;B.push(ke?1===ke?P.list2:P.list3:P.list1)}return Q.trailingSpaceNewLine?B.push("trailing-space-new-line"):Q.trailingSpace&&B.push("trailing-space-"+(Q.trailingSpace%2?"a":"b")),B.length?B.join(" "):null}function k(Q,B){if(Q.match(x,!0))return oe(B)}function he(Q,B){var we=B.text(Q,B);if(void 0!==we)return we;if(B.list)return B.list=null,oe(B);if(B.taskList)return" "===Q.match(I,!0)[1]?B.taskOpen=!0:B.taskClosed=!0,T.highlightFormatting&&(B.formatting="task"),B.taskList=!1,oe(B);if(B.taskOpen=!1,B.taskClosed=!1,B.header&&Q.match(/^#+$/,!0))return T.highlightFormatting&&(B.formatting="header"),oe(B);var Oe=Q.next();if(B.linkTitle){B.linkTitle=!1;var rt=Oe;if("("===Oe&&(rt=")"),rt=(rt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"),Q.match(new RegExp("^\\s*(?:[^"+rt+"\\\\]+|\\\\\\\\|\\\\.)"+rt),!0))return P.linkHref}if("`"===Oe){var Je=B.formatting;T.highlightFormatting&&(B.formatting="code"),Q.eatWhile("`");var Pt=Q.current().length;if(0==B.code&&(!B.quote||1==Pt))return B.code=Pt,oe(B);if(Pt==B.code){var Ct=oe(B);return B.code=0,Ct}return B.formatting=Je,oe(B)}if(B.code)return oe(B);if("\\"===Oe&&(Q.next(),T.highlightFormatting)){var J=oe(B),Ne=P.formatting+"-escape";return J?J+" "+Ne:Ne}if("!"===Oe&&Q.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return B.imageMarker=!0,B.image=!0,T.highlightFormatting&&(B.formatting="image"),oe(B);if("["===Oe&&B.imageMarker&&Q.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return B.imageMarker=!1,B.imageAltText=!0,T.highlightFormatting&&(B.formatting="image"),oe(B);if("]"===Oe&&B.imageAltText){T.highlightFormatting&&(B.formatting="image");J=oe(B);return B.imageAltText=!1,B.image=!1,B.inline=B.f=ie,J}if("["===Oe&&!B.image)return B.linkText&&Q.match(/^.*?\]/)||(B.linkText=!0,T.highlightFormatting&&(B.formatting="link")),oe(B);if("]"===Oe&&B.linkText){T.highlightFormatting&&(B.formatting="link");J=oe(B);return B.linkText=!1,B.inline=B.f=Q.match(/\(.*?\)| ?\[.*?\]/,!1)?ie:he,J}if("<"===Oe&&Q.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return B.f=B.inline=Ce,T.highlightFormatting&&(B.formatting="link"),(J=oe(B))?J+=" ":J="",J+P.linkInline;if("<"===Oe&&Q.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return B.f=B.inline=Ce,T.highlightFormatting&&(B.formatting="link"),(J=oe(B))?J+=" ":J="",J+P.linkEmail;if(T.xml&&"<"===Oe&&Q.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var je=Q.string.indexOf(">",Q.pos);if(-1!=je){var Te=Q.string.substring(Q.start,je);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Te)&&(B.md_inside=!0)}return Q.backUp(1),B.htmlState=m.startState(F),fe(Q,B,xe)}if(T.xml&&"<"===Oe&&Q.match(/^\/\w*?>/))return B.md_inside=!1,"tag";if("*"===Oe||"_"===Oe){for(var be=1,Pe=1==Q.pos?" ":Q.string.charAt(Q.pos-2);be<3&&Q.eat(Oe);)be++;var We=Q.peek()||" ",tt=!/\s/.test(We)&&(!G.test(We)||/\s/.test(Pe)||G.test(Pe)),ze=!/\s/.test(Pe)&&(!G.test(Pe)||/\s/.test(We)||G.test(We)),dt=null,Dt=null;if(be%2&&(B.em||!tt||"*"!==Oe&&ze&&!G.test(Pe)?B.em==Oe&&ze&&("*"===Oe||!tt||G.test(We))&&(dt=!1):dt=!0),be>1&&(B.strong||!tt||"*"!==Oe&&ze&&!G.test(Pe)?B.strong==Oe&&ze&&("*"===Oe||!tt||G.test(We))&&(Dt=!1):Dt=!0),null!=Dt||null!=dt)return T.highlightFormatting&&(B.formatting=null==dt?"strong":null==Dt?"em":"strong em"),!0===dt&&(B.em=Oe),!0===Dt&&(B.strong=Oe),Ct=oe(B),!1===dt&&(B.em=!1),!1===Dt&&(B.strong=!1),Ct}else if(" "===Oe&&(Q.eat("*")||Q.eat("_"))){if(" "===Q.peek())return oe(B);Q.backUp(1)}if(T.strikethrough)if("~"===Oe&&Q.eatWhile(Oe)){if(B.strikethrough)return T.highlightFormatting&&(B.formatting="strikethrough"),Ct=oe(B),B.strikethrough=!1,Ct;if(Q.match(/^[^\s]/,!1))return B.strikethrough=!0,T.highlightFormatting&&(B.formatting="strikethrough"),oe(B)}else if(" "===Oe&&Q.match("~~",!0)){if(" "===Q.peek())return oe(B);Q.backUp(2)}if(T.emoji&&":"===Oe&&Q.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){B.emoji=!0,T.highlightFormatting&&(B.formatting="emoji");var Ye=oe(B);return B.emoji=!1,Ye}return" "===Oe&&(Q.match(/^ +$/,!1)?B.trailingSpace++:B.trailingSpace&&(B.trailingSpaceNewLine=!0)),oe(B)}function Ce(Q,B){if(">"===Q.next()){B.f=B.inline=he,T.highlightFormatting&&(B.formatting="link");var ke=oe(B);return ke?ke+=" ":ke="",ke+P.linkInline}return Q.match(/^[^>]+/,!0),P.linkInline}function ie(Q,B){if(Q.eatSpace())return null;var we=Q.next();return"("===we||"["===we?(B.f=B.inline=function W(Q){return function(B,we){if(B.next()===Q){we.f=we.inline=he,T.highlightFormatting&&(we.formatting="link-string");var Oe=oe(we);return we.linkHref=!1,Oe}return B.match(ue[Q]),we.linkHref=!0,oe(we)}}("("===we?")":"]"),T.highlightFormatting&&(B.formatting="link-string"),B.linkHref=!0,oe(B)):"error"}var ue={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Re(Q,B){return Q.match(/^([^\]\\]|\\.)*\]:/,!1)?(B.f=Ie,Q.next(),T.highlightFormatting&&(B.formatting="link"),B.linkText=!0,oe(B)):pe(Q,B,he)}function Ie(Q,B){if(Q.match("]:",!0)){B.f=B.inline=se,T.highlightFormatting&&(B.formatting="link");var we=oe(B);return B.linkText=!1,we}return Q.match(/^([^\]\\]|\\.)+/,!0),P.linkText}function se(Q,B){return Q.eatSpace()?null:(Q.match(/^[^\s]+/,!0),void 0===Q.peek()?B.linkTitle=!0:Q.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),B.f=B.inline=he,P.linkHref+" url")}var Ee={startState:function(){return{f:ye,prevLine:{stream:null},thisLine:{stream:null},block:ye,htmlState:null,indentation:0,inline:he,text:k,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(Q){return{f:Q.f,prevLine:Q.prevLine,thisLine:Q.thisLine,block:Q.block,htmlState:Q.htmlState&&m.copyState(F,Q.htmlState),indentation:Q.indentation,localMode:Q.localMode,localState:Q.localMode?m.copyState(Q.localMode,Q.localState):null,inline:Q.inline,text:Q.text,formatting:!1,linkText:Q.linkText,linkTitle:Q.linkTitle,linkHref:Q.linkHref,code:Q.code,em:Q.em,strong:Q.strong,strikethrough:Q.strikethrough,emoji:Q.emoji,header:Q.header,setext:Q.setext,hr:Q.hr,taskList:Q.taskList,list:Q.list,listStack:Q.listStack.slice(0),quote:Q.quote,indentedCode:Q.indentedCode,trailingSpace:Q.trailingSpace,trailingSpaceNewLine:Q.trailingSpaceNewLine,md_inside:Q.md_inside,fencedEndRE:Q.fencedEndRE}},token:function(Q,B){if(B.formatting=!1,Q!=B.thisLine.stream){if(B.header=0,B.hr=!1,Q.match(/^\s*$/,!0))return te(B),null;if(B.prevLine=B.thisLine,B.thisLine={stream:Q},B.taskList=!1,B.trailingSpace=0,B.trailingSpaceNewLine=!1,!B.localState&&(B.f=B.block,B.f!=xe)){var we=Q.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(B.indentation=we,B.indentationDiff=null,we>0)return null}}return B.f(Q,B)},innerMode:function(Q){return Q.block==xe?{state:Q.htmlState,mode:F}:Q.localState?{state:Q.localState,mode:Q.localMode}:{state:Q,mode:Ee}},indent:function(Q,B,we){return Q.block==xe&&F.indent?F.indent(Q.htmlState,B,we):Q.localState&&Q.localMode.indent?Q.localMode.indent(Q.localState,B,we):m.Pass},blankLine:te,getType:oe,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Ee},"xml"),m.defineMIME("text/markdown","markdown"),m.defineMIME("text/x-markdown","markdown")}(Y(8266),Y(7684),Y(8834))},8834:(vt,de,Y)=>{!function(m){"use strict";m.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var S=0;S<m.modeInfo.length;S++){var T=m.modeInfo[S];T.mimes&&(T.mime=T.mimes[0])}m.findModeByMIME=function(F){F=F.toLowerCase();for(var $=0;$<m.modeInfo.length;$++){var Z=m.modeInfo[$];if(Z.mime==F)return Z;if(Z.mimes)for(var P=0;P<Z.mimes.length;P++)if(Z.mimes[P]==F)return Z}return/\+xml$/.test(F)?m.findModeByMIME("application/xml"):/\+json$/.test(F)?m.findModeByMIME("application/json"):void 0},m.findModeByExtension=function(F){F=F.toLowerCase();for(var $=0;$<m.modeInfo.length;$++){var Z=m.modeInfo[$];if(Z.ext)for(var P=0;P<Z.ext.length;P++)if(Z.ext[P]==F)return Z}},m.findModeByFileName=function(F){for(var $=0;$<m.modeInfo.length;$++){var Z=m.modeInfo[$];if(Z.file&&Z.file.test(F))return Z}var P=F.lastIndexOf("."),U=P>-1&&F.substring(P+1,F.length);if(U)return m.findModeByExtension(U)},m.findModeByName=function(F){F=F.toLowerCase();for(var $=0;$<m.modeInfo.length;$++){var Z=m.modeInfo[$];if(Z.name.toLowerCase()==F)return Z;if(Z.alias)for(var P=0;P<Z.alias.length;P++)if(Z.alias[P].toLowerCase()==F)return Z}}}(Y(8266))},7684:(vt,de,Y)=>{!function(m){"use strict";var S={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},T={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};m.defineMode("xml",function(F,$){var D,I,Z=F.indentUnit,P={},U=$.htmlMode?S:T;for(var H in U)P[H]=U[H];for(var H in $)P[H]=$[H];function j(ie,ue){function W(se){return ue.tokenize=se,se(ie,ue)}var Re=ie.next();return"<"==Re?ie.eat("!")?ie.eat("[")?ie.match("CDATA[")?W(V("atom","]]>")):null:ie.match("--")?W(V("comment","--\x3e")):ie.match("DOCTYPE",!0,!0)?(ie.eatWhile(/[\w\._\-]/),W(q(1))):null:ie.eat("?")?(ie.eatWhile(/[\w\._\-]/),ue.tokenize=V("meta","?>"),"meta"):(D=ie.eat("/")?"closeTag":"openTag",ue.tokenize=R,"tag bracket"):"&"==Re?(ie.eat("#")?ie.eat("x")?ie.eatWhile(/[a-fA-F\d]/)&&ie.eat(";"):ie.eatWhile(/[\d]/)&&ie.eat(";"):ie.eatWhile(/[\w\.\-:]/)&&ie.eat(";"))?"atom":"error":(ie.eatWhile(/[^&<]/),null)}function R(ie,ue){var W=ie.next();if(">"==W||"/"==W&&ie.eat(">"))return ue.tokenize=j,D=">"==W?"endTag":"selfcloseTag","tag bracket";if("="==W)return D="equals",null;if("<"==W){ue.tokenize=j,ue.state=me,ue.tagName=ue.tagStart=null;var Re=ue.tokenize(ie,ue);return Re?Re+" tag error":"tag error"}return/[\'\"]/.test(W)?(ue.tokenize=function x(ie){var ue=function(W,Re){for(;!W.eol();)if(W.next()==ie){Re.tokenize=R;break}return"string"};return ue.isInAttribute=!0,ue}(W),ue.stringStartCol=ie.column(),ue.tokenize(ie,ue)):(ie.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function V(ie,ue){return function(W,Re){for(;!W.eol();){if(W.match(ue)){Re.tokenize=j;break}W.next()}return ie}}function q(ie){return function(ue,W){for(var Re;null!=(Re=ue.next());){if("<"==Re)return W.tokenize=q(ie+1),W.tokenize(ue,W);if(">"==Re){if(1==ie){W.tokenize=j;break}return W.tokenize=q(ie-1),W.tokenize(ue,W)}}return"meta"}}function G(ie){return ie&&ie.toLowerCase()}function re(ie,ue,W){this.prev=ie.context,this.tagName=ue||"",this.indent=ie.indented,this.startOfLine=W,(P.doNotIndent.hasOwnProperty(ue)||ie.context&&ie.context.noIndent)&&(this.noIndent=!0)}function pe(ie){ie.context&&(ie.context=ie.context.prev)}function fe(ie,ue){for(var W;;){if(!ie.context||!P.contextGrabbers.hasOwnProperty(G(W=ie.context.tagName))||!P.contextGrabbers[G(W)].hasOwnProperty(G(ue)))return;pe(ie)}}function me(ie,ue,W){return"openTag"==ie?(W.tagStart=ue.column(),te):"closeTag"==ie?ye:me}function te(ie,ue,W){return"word"==ie?(W.tagName=ue.current(),I="tag",oe):P.allowMissingTagName&&"endTag"==ie?(I="tag bracket",oe(ie,0,W)):(I="error",te)}function ye(ie,ue,W){if("word"==ie){var Re=ue.current();return W.context&&W.context.tagName!=Re&&P.implicitlyClosed.hasOwnProperty(G(W.context.tagName))&&pe(W),W.context&&W.context.tagName==Re||!1===P.matchClosing?(I="tag",xe):(I="tag error",ae)}return P.allowMissingTagName&&"endTag"==ie?(I="tag bracket",xe(ie,0,W)):(I="error",ae)}function xe(ie,ue,W){return"endTag"!=ie?(I="error",xe):(pe(W),me)}function ae(ie,ue,W){return I="error",xe(ie,0,W)}function oe(ie,ue,W){if("word"==ie)return I="attribute",k;if("endTag"==ie||"selfcloseTag"==ie){var Re=W.tagName,Ie=W.tagStart;return W.tagName=W.tagStart=null,"selfcloseTag"==ie||P.autoSelfClosers.hasOwnProperty(G(Re))?fe(W,Re):(fe(W,Re),W.context=new re(W,Re,Ie==W.indented)),me}return I="error",oe}function k(ie,ue,W){return"equals"==ie?he:(P.allowMissing||(I="error"),oe(ie,0,W))}function he(ie,ue,W){return"string"==ie?Ce:"word"==ie&&P.allowUnquoted?(I="string",oe):(I="error",oe(ie,0,W))}function Ce(ie,ue,W){return"string"==ie?Ce:oe(ie,0,W)}return j.isInText=!0,{startState:function(ie){var ue={tokenize:j,state:me,indented:ie||0,tagName:null,tagStart:null,context:null};return null!=ie&&(ue.baseIndent=ie),ue},token:function(ie,ue){if(!ue.tagName&&ie.sol()&&(ue.indented=ie.indentation()),ie.eatSpace())return null;D=null;var W=ue.tokenize(ie,ue);return(W||D)&&"comment"!=W&&(I=null,ue.state=ue.state(D||W,ie,ue),I&&(W="error"==I?W+" error":I)),W},indent:function(ie,ue,W){var Re=ie.context;if(ie.tokenize.isInAttribute)return ie.tagStart==ie.indented?ie.stringStartCol+1:ie.indented+Z;if(Re&&Re.noIndent)return m.Pass;if(ie.tokenize!=R&&ie.tokenize!=j)return W?W.match(/^(\s*)/)[0].length:0;if(ie.tagName)return!1!==P.multilineTagIndentPastTag?ie.tagStart+ie.tagName.length+2:ie.tagStart+Z*(P.multilineTagIndentFactor||1);if(P.alignCDATA&&/<!\[CDATA\[/.test(ue))return 0;var Ie=ue&&/^<(\/)?([\w_:\.-]*)/.exec(ue);if(Ie&&Ie[1])for(;Re;){if(Re.tagName==Ie[2]){Re=Re.prev;break}if(!P.implicitlyClosed.hasOwnProperty(G(Re.tagName)))break;Re=Re.prev}else if(Ie)for(;Re;){var se=P.contextGrabbers[G(Re.tagName)];if(!se||!se.hasOwnProperty(G(Ie[2])))break;Re=Re.prev}for(;Re&&Re.prev&&!Re.startOfLine;)Re=Re.prev;return Re?Re.indent+Z:ie.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:P.htmlMode?"html":"xml",helperType:P.htmlMode?"html":"xml",skipAttribute:function(ie){ie.state==he&&(ie.state=oe)},xmlCurrentTag:function(ie){return ie.tagName?{name:ie.tagName,close:"closeTag"==ie.type}:null},xmlCurrentContext:function(ie){for(var ue=[],W=ie.context;W;W=W.prev)ue.push(W.tagName);return ue.reverse()}}}),m.defineMIME("text/xml","xml"),m.defineMIME("application/xml","xml"),m.mimeModes.hasOwnProperty("text/html")||m.defineMIME("text/html",{name:"xml",htmlMode:!0})}(Y(8266))},4327:function(vt,de){var S;void 0!==(S=function(){"use strict";function F(D,I,j){var R=new XMLHttpRequest;R.open("GET",D),R.responseType="blob",R.onload=function(){H(R.response,I,j)},R.onerror=function(){console.error("could not download file")},R.send()}function $(D){var I=new XMLHttpRequest;I.open("HEAD",D,!1);try{I.send()}catch(j){}return 200<=I.status&&299>=I.status}function Z(D){try{D.dispatchEvent(new MouseEvent("click"))}catch(j){var I=document.createEvent("MouseEvents");I.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),D.dispatchEvent(I)}}var P="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,U=P.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),H=P.saveAs||("object"!=typeof window||window!==P?function(){}:"download"in HTMLAnchorElement.prototype&&!U?function(D,I,j){var R=P.URL||P.webkitURL,x=document.createElement("a");x.download=I=I||D.name||"download",x.rel="noopener","string"==typeof D?(x.href=D,x.origin===location.origin?Z(x):$(x.href)?F(D,I,j):Z(x,x.target="_blank")):(x.href=R.createObjectURL(D),setTimeout(function(){R.revokeObjectURL(x.href)},4e4),setTimeout(function(){Z(x)},0))}:"msSaveOrOpenBlob"in navigator?function(D,I,j){if(I=I||D.name||"download","string"!=typeof D)navigator.msSaveOrOpenBlob(function T(D,I){return void 0===I?I={autoBom:!1}:"object"!=typeof I&&(console.warn("Deprecated: Expected third argument to be a object"),I={autoBom:!I}),I.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(D.type)?new Blob(["\ufeff",D],{type:D.type}):D}(D,j),I);else if($(D))F(D,I,j);else{var R=document.createElement("a");R.href=D,R.target="_blank",setTimeout(function(){Z(R)})}}:function(D,I,j,R){if((R=R||open("","_blank"))&&(R.document.title=R.document.body.innerText="downloading..."),"string"==typeof D)return F(D,I,j);var x="application/octet-stream"===D.type,V=/constructor/i.test(P.HTMLElement)||P.safari,q=/CriOS\/[\d]+/.test(navigator.userAgent);if((q||x&&V||U)&&"undefined"!=typeof FileReader){var G=new FileReader;G.onloadend=function(){var fe=G.result;fe=q?fe:fe.replace(/^data:[^;]*;/,"data:attachment/file;"),R?R.location.href=fe:location=fe,R=null},G.readAsDataURL(D)}else{var re=P.URL||P.webkitURL,pe=re.createObjectURL(D);R?R.location=pe:location.href=pe,R=null,setTimeout(function(){re.revokeObjectURL(pe)},4e4)}});P.saveAs=H.saveAs=H,vt.exports=H}.apply(de,[]))&&(vt.exports=S)},5867:(vt,de,Y)=>{"use strict";Y.d(de,{Mq:()=>m.getApp,C6:()=>m.getApps});var m=Y(9681);(0,m.registerVersion)("firebase","9.6.7","app")},127:(vt,de,Y)=>{"use strict";Y.d(de,{Z:()=>m.Z});var m=Y(3942);m.Z.registerVersion("firebase","9.6.7","app-compat")},3059:(vt,de,Y)=>{"use strict";Y.r(de);var m=Y(5861),S=Y(3942),T=Y(2090),F=Y(9681),$=Y(655),Z=Y(1877),P=Y(4859);const V=function R(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},q=function x(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},G=new T.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new Z.Yd("@firebase/auth");function fe(w,...r){pe.logLevel<=Z.in.ERROR&&pe.error(`Auth (${F.SDK_VERSION}): ${w}`,...r)}function me(w,...r){throw ae(w,...r)}function te(w,...r){return ae(w,...r)}function ye(w,r,s){const c=Object.assign(Object.assign({},q()),{[r]:s});return new T.LL("auth","Firebase",c).create(r,{appName:w.name})}function xe(w,r,s){if(!(r instanceof s))throw s.name!==r.constructor.name&&me(w,"argument-error"),ye(w,"argument-error",`Type of ${r.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ae(w,...r){if("string"!=typeof w){const s=r[0],c=[...r.slice(1)];return c[0]&&(c[0].appName=w.name),w._errorFactory.create(s,...c)}return G.create(w,...r)}function oe(w,r,...s){if(!w)throw ae(r,...s)}function k(w){const r="INTERNAL ASSERTION FAILED: "+w;throw fe(r),new Error(r)}function he(w,r){w||k(r)}const Ce=new Map;function ie(w){he(w instanceof Function,"Expected a class definition");let r=Ce.get(w);return r?(he(r instanceof w,"Instance stored in cache mismatched with class"),r):(r=new w,Ce.set(w,r),r)}function Re(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ie(){return"http:"===se()||"https:"===se()}function se(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class B{constructor(r,s){this.shortDelay=r,this.longDelay=s,he(s>r,"Short delay should be less than long delay!"),this.isMobile=(0,T.uI)()||(0,T.b$)()}get(){return function Ee(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ie()||(0,T.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function we(w,r){he(w.emulator,"Emulator should always be set here");const{url:s}=w.emulator;return r?`${s}${r.startsWith("/")?r.slice(1):r}`:s}class ke{static initialize(r,s,c){this.fetchImpl=r,s&&(this.headersImpl=s),c&&(this.responseImpl=c)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void k("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void k("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void k("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rt=new B(3e4,6e4);function ot(w,r){return w.tenantId&&!r.tenantId?Object.assign(Object.assign({},r),{tenantId:w.tenantId}):r}function Je(w,r,s,c){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(w,r,s,c,d={}){return Ct(w,d,(0,m.Z)(function*(){let p={},_={};c&&("GET"===r?_=c:p={body:JSON.stringify(c)});const C=(0,T.xO)(Object.assign({key:w.config.apiKey},_)).slice(1),O=yield w._getAdditionalHeaders();return O["Content-Type"]="application/json",w.languageCode&&(O["X-Firebase-Locale"]=w.languageCode),ke.fetch()(Te(w,w.config.apiHost,s,C),Object.assign({method:r,headers:O,referrerPolicy:"no-referrer"},p))}))})).apply(this,arguments)}function Ct(w,r,s){return J.apply(this,arguments)}function J(){return(J=(0,m.Z)(function*(w,r,s){w._canInitEmulator=!1;const c=Object.assign(Object.assign({},Oe),r);try{const d=new be(w),p=yield Promise.race([s(),d.promise]);d.clearNetworkTimeout();const _=yield p.json();if("needConfirmation"in _)throw Pe(w,"account-exists-with-different-credential",_);if(p.ok&&!("errorMessage"in _))return _;{const C=p.ok?_.errorMessage:_.error.message,[O,z]=C.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===O)throw Pe(w,"credential-already-in-use",_);if("EMAIL_EXISTS"===O)throw Pe(w,"email-already-in-use",_);const X=c[O]||O.toLowerCase().replace(/[_\s]+/g,"-");if(z)throw ye(w,X,z);me(w,X)}}catch(d){if(d instanceof T.ZR)throw d;me(w,"network-request-failed")}})).apply(this,arguments)}function Ne(w,r,s,c){return je.apply(this,arguments)}function je(){return(je=(0,m.Z)(function*(w,r,s,c,d={}){const p=yield Je(w,r,s,c,d);return"mfaPendingCredential"in p&&me(w,"multi-factor-auth-required",{_serverResponse:p}),p})).apply(this,arguments)}function Te(w,r,s,c){const d=`${r}${s}?${c}`;return w.config.emulator?we(w.config,d):`${w.config.apiScheme}://${d}`}class be{constructor(r){this.auth=r,this.timer=null,this.promise=new Promise((s,c)=>{this.timer=setTimeout(()=>c(te(this.auth,"network-request-failed")),rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pe(w,r,s){const c={appName:w.name};s.email&&(c.email=s.email),s.phoneNumber&&(c.phoneNumber=s.phoneNumber);const d=te(w,r,c);return d.customData._tokenResponse=s,d}function tt(){return(tt=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}function ze(w,r){return dt.apply(this,arguments)}function dt(){return(dt=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:update",r)})).apply(this,arguments)}function Dt(w,r){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}function nt(w){if(w)try{const r=new Date(Number(w));if(!isNaN(r.getTime()))return r.toUTCString()}catch(r){}}function sn(){return(sn=(0,m.Z)(function*(w,r=!1){const s=(0,T.m9)(w),c=yield s.getIdToken(r),d=Ot(c);oe(d&&d.exp&&d.auth_time&&d.iat,s.auth,"internal-error");const p="object"==typeof d.firebase?d.firebase:void 0,_=null==p?void 0:p.sign_in_provider;return{claims:d,token:c,authTime:nt(Qt(d.auth_time)),issuedAtTime:nt(Qt(d.iat)),expirationTime:nt(Qt(d.exp)),signInProvider:_||null,signInSecondFactor:(null==p?void 0:p.sign_in_second_factor)||null}})).apply(this,arguments)}function Qt(w){return 1e3*Number(w)}function Ot(w){const[r,s,c]=w.split(".");if(void 0===r||void 0===s||void 0===c)return fe("JWT malformed, contained fewer than 3 sections"),null;try{const d=(0,T.tV)(s);return d?JSON.parse(d):(fe("Failed to decode base64 JWT payload"),null)}catch(d){return fe("Caught error parsing JWT payload as JSON",d),null}}function cn(w,r){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,m.Z)(function*(w,r,s=!1){if(s)return r;try{return yield r}catch(c){throw c instanceof T.ZR&&nn(c)&&w.auth.currentUser===w&&(yield w.auth.signOut()),c}})).apply(this,arguments)}function nn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class vn{constructor(r){this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(r){var s;if(r){const c=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),c}{this.errorBackoff=3e4;const d=(null!==(s=this.user.stsTokenManager.expirationTime)&&void 0!==s?s:0)-Date.now()-3e5;return Math.max(0,d)}}schedule(r=!1){var s=this;if(!this.isRunning)return;const c=this.getInterval(r);this.timerId=setTimeout((0,m.Z)(function*(){yield s.iteration()}),c)}iteration(){var r=this;return(0,m.Z)(function*(){try{yield r.user.getIdToken(!0)}catch(s){return void("auth/network-request-failed"===s.code&&r.schedule(!0))}r.schedule()})()}}class yn{constructor(r,s){this.createdAt=r,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=nt(this.lastLoginAt),this.creationTime=nt(this.createdAt)}_copy(r){this.createdAt=r.createdAt,this.lastLoginAt=r.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dn(w){return Me.apply(this,arguments)}function Me(){return(Me=(0,m.Z)(function*(w){var r;const s=w.auth,c=yield w.getIdToken(),d=yield cn(w,Dt(s,{idToken:c}));oe(null==d?void 0:d.users.length,s,"internal-error");const p=d.users[0];w._notifyReloadListener(p);const _=(null===(r=p.providerUserInfo)||void 0===r?void 0:r.length)?Ke(p.providerUserInfo):[],C=Xe(w.providerData,_),X=!!w.isAnonymous&&!(w.email&&p.passwordHash||(null==C?void 0:C.length)),ge={uid:p.localId,displayName:p.displayName||null,photoURL:p.photoUrl||null,email:p.email||null,emailVerified:p.emailVerified||!1,phoneNumber:p.phoneNumber||null,tenantId:p.tenantId||null,providerData:C,metadata:new yn(p.createdAt,p.lastLoginAt),isAnonymous:X};Object.assign(w,ge)})).apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(w){const r=(0,T.m9)(w);yield Dn(r),yield r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)})).apply(this,arguments)}function Xe(w,r){return[...w.filter(c=>!r.some(d=>d.providerId===c.providerId)),...r]}function Ke(w){return w.map(r=>{var{providerId:s}=r,c=(0,$._T)(r,["providerId"]);return{providerId:s,uid:c.rawId||"",displayName:c.displayName||null,email:c.email||null,phoneNumber:c.phoneNumber||null,photoURL:c.photoUrl||null}})}function Kt(){return(Kt=(0,m.Z)(function*(w,r){const s=yield Ct(w,{},(0,m.Z)(function*(){const c=(0,T.xO)({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:d,apiKey:p}=w.config,_=Te(w,d,"/v1/token",`key=${p}`),C=yield w._getAdditionalHeaders();return C["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(_,{method:"POST",headers:C,body:c})}));return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}})).apply(this,arguments)}class Nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(r){oe(r.idToken,"internal-error"),oe(void 0!==r.idToken,"internal-error"),oe(void 0!==r.refreshToken,"internal-error");const s="expiresIn"in r&&void 0!==r.expiresIn?Number(r.expiresIn):function xt(w){const r=Ot(w);return oe(r,"internal-error"),oe(void 0!==r.exp,"internal-error"),oe(void 0!==r.iat,"internal-error"),Number(r.exp)-Number(r.iat)}(r.idToken);this.updateTokensAndExpiration(r.idToken,r.refreshToken,s)}getToken(r,s=!1){var c=this;return(0,m.Z)(function*(){return oe(!c.accessToken||c.refreshToken,r,"user-token-expired"),s||!c.accessToken||c.isExpired?c.refreshToken?(yield c.refresh(r,c.refreshToken),c.accessToken):null:c.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(r,s){var c=this;return(0,m.Z)(function*(){const{accessToken:d,refreshToken:p,expiresIn:_}=yield function Ft(w,r){return Kt.apply(this,arguments)}(r,s);c.updateTokensAndExpiration(d,p,Number(_))})()}updateTokensAndExpiration(r,s,c){this.refreshToken=s||null,this.accessToken=r||null,this.expirationTime=Date.now()+1e3*c}static fromJSON(r,s){const{refreshToken:c,accessToken:d,expirationTime:p}=s,_=new Nn;return c&&(oe("string"==typeof c,"internal-error",{appName:r}),_.refreshToken=c),d&&(oe("string"==typeof d,"internal-error",{appName:r}),_.accessToken=d),p&&(oe("number"==typeof p,"internal-error",{appName:r}),_.expirationTime=p),_}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(r){this.accessToken=r.accessToken,this.refreshToken=r.refreshToken,this.expirationTime=r.expirationTime}_clone(){return Object.assign(new Nn,this.toJSON())}_performRefresh(){return k("not implemented")}}function zn(w,r){oe("string"==typeof w||void 0===w,"internal-error",{appName:r})}class Kn{constructor(r){var{uid:s,auth:c,stsTokenManager:d}=r,p=(0,$._T)(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=c,this.stsTokenManager=d,this.accessToken=d.accessToken,this.displayName=p.displayName||null,this.email=p.email||null,this.emailVerified=p.emailVerified||!1,this.phoneNumber=p.phoneNumber||null,this.photoURL=p.photoURL||null,this.isAnonymous=p.isAnonymous||!1,this.tenantId=p.tenantId||null,this.providerData=p.providerData?[...p.providerData]:[],this.metadata=new yn(p.createdAt||void 0,p.lastLoginAt||void 0)}getIdToken(r){var s=this;return(0,m.Z)(function*(){const c=yield cn(s,s.stsTokenManager.getToken(s.auth,r));return oe(c,s.auth,"internal-error"),s.accessToken!==c&&(s.accessToken=c,yield s.auth._persistUserIfCurrent(s),s.auth._notifyListenersIfCurrent(s)),c})()}getIdTokenResult(r){return function Rt(w){return sn.apply(this,arguments)}(this,r)}reload(){return function Le(w){return Be.apply(this,arguments)}(this)}_assign(r){this!==r&&(oe(this.uid===r.uid,this.auth,"internal-error"),this.displayName=r.displayName,this.photoURL=r.photoURL,this.email=r.email,this.emailVerified=r.emailVerified,this.phoneNumber=r.phoneNumber,this.isAnonymous=r.isAnonymous,this.tenantId=r.tenantId,this.providerData=r.providerData.map(s=>Object.assign({},s)),this.metadata._copy(r.metadata),this.stsTokenManager._assign(r.stsTokenManager))}_clone(r){return new Kn(Object.assign(Object.assign({},this),{auth:r,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(r){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=r,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(r){this.reloadListener?this.reloadListener(r):this.reloadUserInfo=r}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(r,s=!1){var c=this;return(0,m.Z)(function*(){let d=!1;r.idToken&&r.idToken!==c.stsTokenManager.accessToken&&(c.stsTokenManager.updateFromServerResponse(r),d=!0),s&&(yield Dn(c)),yield c.auth._persistUserIfCurrent(c),d&&c.auth._notifyListenersIfCurrent(c)})()}delete(){var r=this;return(0,m.Z)(function*(){const s=yield r.getIdToken();return yield cn(r,function We(w,r){return tt.apply(this,arguments)}(r.auth,{idToken:s})),r.stsTokenManager.clearRefreshToken(),r.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(r=>Object.assign({},r)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(r,s){var c,d,p,_,C,O,z,X;const ge=null!==(c=s.displayName)&&void 0!==c?c:void 0,De=null!==(d=s.email)&&void 0!==d?d:void 0,Ve=null!==(p=s.phoneNumber)&&void 0!==p?p:void 0,Ue=null!==(_=s.photoURL)&&void 0!==_?_:void 0,Qe=null!==(C=s.tenantId)&&void 0!==C?C:void 0,lt=null!==(O=s._redirectEventId)&&void 0!==O?O:void 0,_t=null!==(z=s.createdAt)&&void 0!==z?z:void 0,St=null!==(X=s.lastLoginAt)&&void 0!==X?X:void 0,{uid:At,emailVerified:st,isAnonymous:Lt,providerData:Ht,stsTokenManager:jt}=s;oe(At&&jt,r,"internal-error");const ln=Nn.fromJSON(this.name,jt);oe("string"==typeof At,r,"internal-error"),zn(ge,r.name),zn(De,r.name),oe("boolean"==typeof st,r,"internal-error"),oe("boolean"==typeof Lt,r,"internal-error"),zn(Ve,r.name),zn(Ue,r.name),zn(Qe,r.name),zn(lt,r.name),zn(_t,r.name),zn(St,r.name);const Vn=new Kn({uid:At,auth:r,email:De,emailVerified:st,displayName:ge,isAnonymous:Lt,photoURL:Ue,phoneNumber:Ve,tenantId:Qe,stsTokenManager:ln,createdAt:_t,lastLoginAt:St});return Ht&&Array.isArray(Ht)&&(Vn.providerData=Ht.map(qr=>Object.assign({},qr))),lt&&(Vn._redirectEventId=lt),Vn}static _fromIdTokenResponse(r,s,c=!1){return(0,m.Z)(function*(){const d=new Nn;d.updateFromServerResponse(s);const p=new Kn({uid:s.localId,auth:r,stsTokenManager:d,isAnonymous:c});return yield Dn(p),p})()}}const pn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(s,c){var d=this;return(0,m.Z)(function*(){d.storage[s]=c})()}_get(s){var c=this;return(0,m.Z)(function*(){const d=c.storage[s];return void 0===d?null:d})()}_remove(s){var c=this;return(0,m.Z)(function*(){delete c.storage[s]})()}_addListener(s,c){}_removeListener(s,c){}}return w.type="NONE",w})();function pr(w,r,s){return`firebase:${w}:${r}:${s}`}class Ci{constructor(r,s,c){this.persistence=r,this.auth=s,this.userKey=c;const{config:d,name:p}=this.auth;this.fullUserKey=pr(this.userKey,d.apiKey,p),this.fullPersistenceKey=pr("persistence",d.apiKey,p),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(r){return this.persistence._set(this.fullUserKey,r.toJSON())}getCurrentUser(){var r=this;return(0,m.Z)(function*(){const s=yield r.persistence._get(r.fullUserKey);return s?Kn._fromJSON(r.auth,s):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(r){var s=this;return(0,m.Z)(function*(){if(s.persistence===r)return;const c=yield s.getCurrentUser();return yield s.removeCurrentUser(),s.persistence=r,c?s.setCurrentUser(c):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(r,s,c="authUser"){return(0,m.Z)(function*(){if(!s.length)return new Ci(ie(pn),r,c);const d=(yield Promise.all(s.map(function(){var z=(0,m.Z)(function*(X){if(yield X._isAvailable())return X});return function(X){return z.apply(this,arguments)}}()))).filter(z=>z);let p=d[0]||ie(pn);const _=pr(c,r.config.apiKey,r.name);let C=null;for(const z of s)try{const X=yield z._get(_);if(X){const ge=Kn._fromJSON(r,X);z!==p&&(C=ge),p=z;break}}catch(X){}const O=d.filter(z=>z._shouldAllowMigration);return p._shouldAllowMigration&&O.length?(p=O[0],C&&(yield p._set(_,C.toJSON())),yield Promise.all(s.map(function(){var z=(0,m.Z)(function*(X){if(X!==p)try{yield X._remove(_)}catch(ge){}});return function(X){return z.apply(this,arguments)}}())),new Ci(p,r,c)):new Ci(p,r,c)})()}}function ga(w){const r=w.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(Mr(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(Sl(r))return"Firefox";if(r.includes("silk/"))return"Silk";if(Di(r))return"Blackberry";if(Or(r))return"Webos";if(au(r))return"Safari";if((r.includes("chrome/")||ma(r))&&!r.includes("edge/"))return"Chrome";if(ei(r))return"Android";{const c=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==c?void 0:c.length))return c[1]}return"Other"}function Sl(w=(0,T.z$)()){return/firefox\//i.test(w)}function au(w=(0,T.z$)()){const r=w.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}function ma(w=(0,T.z$)()){return/crios\//i.test(w)}function Mr(w=(0,T.z$)()){return/iemobile/i.test(w)}function ei(w=(0,T.z$)()){return/android/i.test(w)}function Di(w=(0,T.z$)()){return/blackberry/i.test(w)}function Or(w=(0,T.z$)()){return/webos/i.test(w)}function Fi(w=(0,T.z$)()){return/iphone|ipad|ipod/i.test(w)}function zo(w=(0,T.z$)()){return Fi(w)||ei(w)||Or(w)||Di(w)||/windows phone/i.test(w)||Mr(w)}function Go(w,r=[]){let s;switch(w){case"Browser":s=ga((0,T.z$)());break;case"Worker":s=`${ga((0,T.z$)())}-${w}`;break;default:s=w}const c=r.length?r.join(","):"FirebaseCore-web";return`${s}/JsCore/${F.SDK_VERSION}/${c}`}class Ai{constructor(r,s){this.app=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yt(this),this.idTokenSubscription=new yt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(r,s){var c=this;return s&&(this._popupRedirectResolver=ie(s)),this._initializationPromise=this.queue((0,m.Z)(function*(){var d,p;if(!c._deleted&&(c.persistenceManager=yield Ci.create(c,r),!c._deleted)){if(null===(d=c._popupRedirectResolver)||void 0===d?void 0:d._shouldInitProactively)try{yield c._popupRedirectResolver._initialize(c)}catch(_){}yield c.initializeCurrentUser(s),c.lastNotifiedUid=(null===(p=c.currentUser)||void 0===p?void 0:p.uid)||null,!c._deleted&&(c._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var r=this;return(0,m.Z)(function*(){if(r._deleted)return;const s=yield r.assertedPersistence.getCurrentUser();if(r.currentUser||s){if(r.currentUser&&s&&r.currentUser.uid===s.uid)return r._currentUser._assign(s),void(yield r.currentUser.getIdToken());yield r._updateCurrentUser(s)}})()}initializeCurrentUser(r){var s=this;return(0,m.Z)(function*(){var c;let d=yield s.assertedPersistence.getCurrentUser();if(r&&s.config.authDomain){yield s.getOrInitRedirectPersistenceManager();const p=null===(c=s.redirectUser)||void 0===c?void 0:c._redirectEventId,_=null==d?void 0:d._redirectEventId,C=yield s.tryRedirectSignIn(r);(!p||p===_)&&(null==C?void 0:C.user)&&(d=C.user)}return d?d._redirectEventId?(oe(s._popupRedirectResolver,s,"argument-error"),yield s.getOrInitRedirectPersistenceManager(),s.redirectUser&&s.redirectUser._redirectEventId===d._redirectEventId?s.directlySetCurrentUser(d):s.reloadAndSetCurrentUserOrClear(d)):s.reloadAndSetCurrentUserOrClear(d):s.directlySetCurrentUser(null)})()}tryRedirectSignIn(r){var s=this;return(0,m.Z)(function*(){let c=null;try{c=yield s._popupRedirectResolver._completeRedirectFn(s,r,!0)}catch(d){yield s._setRedirectUser(null)}return c})()}reloadAndSetCurrentUserOrClear(r){var s=this;return(0,m.Z)(function*(){try{yield Dn(r)}catch(c){if("auth/network-request-failed"!==c.code)return s.directlySetCurrentUser(null)}return s.directlySetCurrentUser(r)})()}useDeviceLanguage(){this.languageCode=function Q(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var r=this;return(0,m.Z)(function*(){r._deleted=!0})()}updateCurrentUser(r){var s=this;return(0,m.Z)(function*(){const c=r?(0,T.m9)(r):null;return c&&oe(c.auth.config.apiKey===s.config.apiKey,s,"invalid-user-token"),s._updateCurrentUser(c&&c._clone(s))})()}_updateCurrentUser(r){var s=this;return(0,m.Z)(function*(){if(!s._deleted)return r&&oe(s.tenantId===r.tenantId,s,"tenant-id-mismatch"),s.queue((0,m.Z)(function*(){yield s.directlySetCurrentUser(r),s.notifyAuthListeners()}))})()}signOut(){var r=this;return(0,m.Z)(function*(){return(r.redirectPersistenceManager||r._popupRedirectResolver)&&(yield r._setRedirectUser(null)),r._updateCurrentUser(null)})()}setPersistence(r){var s=this;return this.queue((0,m.Z)(function*(){yield s.assertedPersistence.setPersistence(ie(r))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(r){this._errorFactory=new T.LL("auth","Firebase",r())}onAuthStateChanged(r,s,c){return this.registerStateListener(this.authStateSubscription,r,s,c)}onIdTokenChanged(r,s,c){return this.registerStateListener(this.idTokenSubscription,r,s,c)}toJSON(){var r;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(r=this._currentUser)||void 0===r?void 0:r.toJSON()}}_setRedirectUser(r,s){var c=this;return(0,m.Z)(function*(){const d=yield c.getOrInitRedirectPersistenceManager(s);return null===r?d.removeCurrentUser():d.setCurrentUser(r)})()}getOrInitRedirectPersistenceManager(r){var s=this;return(0,m.Z)(function*(){if(!s.redirectPersistenceManager){const c=r&&ie(r)||s._popupRedirectResolver;oe(c,s,"argument-error"),s.redirectPersistenceManager=yield Ci.create(s,[ie(c._redirectPersistence)],"redirectUser"),s.redirectUser=yield s.redirectPersistenceManager.getCurrentUser()}return s.redirectPersistenceManager})()}_redirectUserForId(r){var s=this;return(0,m.Z)(function*(){var c,d;return s._isInitialized&&(yield s.queue((0,m.Z)(function*(){}))),(null===(c=s._currentUser)||void 0===c?void 0:c._redirectEventId)===r?s._currentUser:(null===(d=s.redirectUser)||void 0===d?void 0:d._redirectEventId)===r?s.redirectUser:null})()}_persistUserIfCurrent(r){var s=this;return(0,m.Z)(function*(){if(r===s.currentUser)return s.queue((0,m.Z)(function*(){return s.directlySetCurrentUser(r)}))})()}_notifyListenersIfCurrent(r){r===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const c=null!==(s=null===(r=this.currentUser)||void 0===r?void 0:r.uid)&&void 0!==s?s:null;this.lastNotifiedUid!==c&&(this.lastNotifiedUid=c,this.authStateSubscription.next(this.currentUser))}registerStateListener(r,s,c,d){if(this._deleted)return()=>{};const p="function"==typeof s?s:s.next.bind(s),_=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(_,this,"internal-error"),_.then(()=>p(this.currentUser)),"function"==typeof s?r.addObserver(s,c,d):r.addObserver(s)}directlySetCurrentUser(r){var s=this;return(0,m.Z)(function*(){s.currentUser&&s.currentUser!==r&&(s._currentUser._stopProactiveRefresh(),r&&s.isProactiveRefreshEnabled&&r._startProactiveRefresh()),s.currentUser=r,r?yield s.assertedPersistence.setCurrentUser(r):yield s.assertedPersistence.removeCurrentUser()})()}queue(r){return this.operations=this.operations.then(r,r),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(r){!r||this.frameworks.includes(r)||(this.frameworks.push(r),this.frameworks.sort(),this.clientVersion=Go(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var r=this;return(0,m.Z)(function*(){const s={"X-Client-Version":r.clientVersion};return r.app.options.appId&&(s["X-Firebase-gmpid"]=r.app.options.appId),s})()}}function pt(w){return(0,T.m9)(w)}class yt{constructor(r){this.auth=r,this.observer=null,this.addObserver=(0,T.ne)(s=>this.observer=s)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ti(w){const r=w.indexOf(":");return r<0?"":w.substr(0,r+1)}function Jt(w){if(!w)return null;const r=Number(w);return isNaN(r)?null:r}class wn{constructor(r,s){this.providerId=r,this.signInMethod=s}toJSON(){return k("not implemented")}_getIdTokenResponse(r){return k("not implemented")}_linkToIdToken(r,s){return k("not implemented")}_getReauthenticationResolver(r){return k("not implemented")}}function go(w,r){return at.apply(this,arguments)}function at(){return(at=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:resetPassword",ot(w,r))})).apply(this,arguments)}function wt(w,r){return $o.apply(this,arguments)}function $o(){return($o=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:update",r)})).apply(this,arguments)}function Wo(w,r){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:update",ot(w,r))})).apply(this,arguments)}function lr(){return(lr=(0,m.Z)(function*(w,r){return Ne(w,"POST","/v1/accounts:signInWithPassword",ot(w,r))})).apply(this,arguments)}function qt(w,r){return va.apply(this,arguments)}function va(){return(va=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:sendOobCode",ot(w,r))})).apply(this,arguments)}function ni(w,r){return kn.apply(this,arguments)}function kn(){return(kn=(0,m.Z)(function*(w,r){return qt(w,r)})).apply(this,arguments)}function _s(w,r){return qo.apply(this,arguments)}function qo(){return(qo=(0,m.Z)(function*(w,r){return qt(w,r)})).apply(this,arguments)}function Xi(w,r){return ri.apply(this,arguments)}function ri(){return(ri=(0,m.Z)(function*(w,r){return qt(w,r)})).apply(this,arguments)}function lu(w,r){return kl.apply(this,arguments)}function kl(){return(kl=(0,m.Z)(function*(w,r){return qt(w,r)})).apply(this,arguments)}function Bi(){return(Bi=(0,m.Z)(function*(w,r){return Ne(w,"POST","/v1/accounts:signInWithEmailLink",ot(w,r))})).apply(this,arguments)}function ec(){return(ec=(0,m.Z)(function*(w,r){return Ne(w,"POST","/v1/accounts:signInWithEmailLink",ot(w,r))})).apply(this,arguments)}class Ml extends wn{constructor(r,s,c,d=null){super("password",c),this._email=r,this._password=s,this._tenantId=d}static _fromEmailAndPassword(r,s){return new Ml(r,s,"password")}static _fromEmailAndCode(r,s,c=null){return new Ml(r,s,"emailLink",c)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(r){const s="string"==typeof r?JSON.parse(r):r;if((null==s?void 0:s.email)&&(null==s?void 0:s.password)){if("password"===s.signInMethod)return this._fromEmailAndPassword(s.email,s.password);if("emailLink"===s.signInMethod)return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}_getIdTokenResponse(r){var s=this;return(0,m.Z)(function*(){switch(s.signInMethod){case"password":return function vo(w,r){return lr.apply(this,arguments)}(r,{returnSecureToken:!0,email:s._email,password:s._password});case"emailLink":return function Us(w,r){return Bi.apply(this,arguments)}(r,{email:s._email,oobCode:s._password});default:me(r,"internal-error")}})()}_linkToIdToken(r,s){var c=this;return(0,m.Z)(function*(){switch(c.signInMethod){case"password":return wt(r,{idToken:s,returnSecureToken:!0,email:c._email,password:c._password});case"emailLink":return function $c(w,r){return ec.apply(this,arguments)}(r,{idToken:s,email:c._email,oobCode:c._password});default:me(r,"internal-error")}})()}_getReauthenticationResolver(r){return this._getIdTokenResponse(r)}}function _r(w,r){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,m.Z)(function*(w,r){return Ne(w,"POST","/v1/accounts:signInWithIdp",ot(w,r))})).apply(this,arguments)}class Ur extends wn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(r){const s=new Ur(r.providerId,r.signInMethod);return r.idToken||r.accessToken?(r.idToken&&(s.idToken=r.idToken),r.accessToken&&(s.accessToken=r.accessToken),r.nonce&&!r.pendingToken&&(s.nonce=r.nonce),r.pendingToken&&(s.pendingToken=r.pendingToken)):r.oauthToken&&r.oauthTokenSecret?(s.accessToken=r.oauthToken,s.secret=r.oauthTokenSecret):me("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(r){const s="string"==typeof r?JSON.parse(r):r,{providerId:c,signInMethod:d}=s,p=(0,$._T)(s,["providerId","signInMethod"]);if(!c||!d)return null;const _=new Ur(c,d);return _.idToken=p.idToken||void 0,_.accessToken=p.accessToken||void 0,_.secret=p.secret,_.nonce=p.nonce,_.pendingToken=p.pendingToken||null,_}_getIdTokenResponse(r){return _r(r,this.buildRequest())}_linkToIdToken(r,s){const c=this.buildRequest();return c.idToken=s,_r(r,c)}_getReauthenticationResolver(r){const s=this.buildRequest();return s.autoCreate=!1,_r(r,s)}buildRequest(){const r={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)r.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),r.postBody=(0,T.xO)(s)}return r}}function Wh(w,r){return uu.apply(this,arguments)}function uu(){return(uu=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:sendVerificationCode",ot(w,r))})).apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(w,r){return Ne(w,"POST","/v1/accounts:signInWithPhoneNumber",ot(w,r))})).apply(this,arguments)}function qc(){return(qc=(0,m.Z)(function*(w,r){const s=yield Ne(w,"POST","/v1/accounts:signInWithPhoneNumber",ot(w,r));if(s.temporaryProof)throw Pe(w,"account-exists-with-different-credential",s);return s})).apply(this,arguments)}const qh={USER_NOT_FOUND:"user-not-found"};function cu(){return(cu=(0,m.Z)(function*(w,r){return Ne(w,"POST","/v1/accounts:signInWithPhoneNumber",ot(w,Object.assign(Object.assign({},r),{operation:"REAUTH"})),qh)})).apply(this,arguments)}class ya extends wn{constructor(r){super("phone","phone"),this.params=r}static _fromVerification(r,s){return new ya({verificationId:r,verificationCode:s})}static _fromTokenResponse(r,s){return new ya({phoneNumber:r,temporaryProof:s})}_getIdTokenResponse(r){return function tc(w,r){return yo.apply(this,arguments)}(r,this._makeVerificationRequest())}_linkToIdToken(r,s){return function qa(w,r){return qc.apply(this,arguments)}(r,Object.assign({idToken:s},this._makeVerificationRequest()))}_getReauthenticationResolver(r){return function Xd(w,r){return cu.apply(this,arguments)}(r,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:r,phoneNumber:s,verificationId:c,verificationCode:d}=this.params;return r&&s?{temporaryProof:r,phoneNumber:s}:{sessionInfo:c,code:d}}toJSON(){const r={providerId:this.providerId};return this.params.phoneNumber&&(r.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(r.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(r.verificationCode=this.params.verificationCode),this.params.verificationId&&(r.verificationId=this.params.verificationId),r}static fromJSON(r){"string"==typeof r&&(r=JSON.parse(r));const{verificationId:s,verificationCode:c,phoneNumber:d,temporaryProof:p}=r;return c||s||d||p?new ya({verificationId:s,verificationCode:c,phoneNumber:d,temporaryProof:p}):null}}class Vs{constructor(r){var s,c,d,p,_,C;const O=(0,T.zd)((0,T.pd)(r)),z=null!==(s=O.apiKey)&&void 0!==s?s:null,X=null!==(c=O.oobCode)&&void 0!==c?c:null,ge=function Kh(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(d=O.mode)&&void 0!==d?d:null);oe(z&&X&&ge,"argument-error"),this.apiKey=z,this.operation=ge,this.code=X,this.continueUrl=null!==(p=O.continueUrl)&&void 0!==p?p:null,this.languageCode=null!==(_=O.languageCode)&&void 0!==_?_:null,this.tenantId=null!==(C=O.tenantId)&&void 0!==C?C:null}static parseLink(r){const s=function Kc(w){const r=(0,T.zd)((0,T.pd)(w)).link,s=r?(0,T.zd)((0,T.pd)(r)).deep_link_id:null,c=(0,T.zd)((0,T.pd)(w)).deep_link_id;return(c?(0,T.zd)((0,T.pd)(c)).link:null)||c||s||r||w}(r);try{return new Vs(s)}catch(c){return null}}}let Ko=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(s,c){return Ml._fromEmailAndPassword(s,c)}static credentialWithLink(s,c){const d=Vs.parseLink(c);return oe(d,"argument-error"),Ml._fromEmailAndCode(s,d.code,d.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Hs{constructor(r){this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(r){this.defaultLanguageCode=r}setCustomParameters(r){return this.customParameters=r,this}getCustomParameters(){return this.customParameters}}class Ui extends Hs{constructor(){super(...arguments),this.scopes=[]}addScope(r){return this.scopes.includes(r)||this.scopes.push(r),this}getScopes(){return[...this.scopes]}}class Zo extends Ui{static credentialFromJSON(r){const s="string"==typeof r?JSON.parse(r):r;return oe("providerId"in s&&"signInMethod"in s,"argument-error"),Ur._fromParams(s)}credential(r){return this._credential(Object.assign(Object.assign({},r),{nonce:r.rawNonce}))}_credential(r){return oe(r.idToken||r.accessToken,"argument-error"),Ur._fromParams(Object.assign(Object.assign({},r),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(r){return Zo.oauthCredentialFromTaggedObject(r)}static credentialFromError(r){return Zo.oauthCredentialFromTaggedObject(r.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthIdToken:s,oauthAccessToken:c,oauthTokenSecret:d,pendingToken:p,nonce:_,providerId:C}=r;if(!c&&!d&&!s&&!p||!C)return null;try{return new Zo(C)._credential({idToken:s,accessToken:c,nonce:_,pendingToken:p})}catch(O){return null}}}let _o=(()=>{class w extends Ui{constructor(){super("facebook.com")}static credential(s){return Ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:s})}static credentialFromResult(s){return w.credentialFromTaggedObject(s)}static credentialFromError(s){return w.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s||!("oauthAccessToken"in s)||!s.oauthAccessToken)return null;try{return w.credential(s.oauthAccessToken)}catch(c){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ka=(()=>{class w extends Ui{constructor(){super("google.com"),this.addScope("profile")}static credential(s,c){return Ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:s,accessToken:c})}static credentialFromResult(s){return w.credentialFromTaggedObject(s)}static credentialFromError(s){return w.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s)return null;const{oauthIdToken:c,oauthAccessToken:d}=s;if(!c&&!d)return null;try{return w.credential(c,d)}catch(p){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),nc=(()=>{class w extends Ui{constructor(){super("github.com")}static credential(s){return Ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:s})}static credentialFromResult(s){return w.credentialFromTaggedObject(s)}static credentialFromError(s){return w.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s||!("oauthAccessToken"in s)||!s.oauthAccessToken)return null;try{return w.credential(s.oauthAccessToken)}catch(c){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class _a extends wn{constructor(r,s){super(r,r),this.pendingToken=s}_getIdTokenResponse(r){return _r(r,this.buildRequest())}_linkToIdToken(r,s){const c=this.buildRequest();return c.idToken=s,_r(r,c)}_getReauthenticationResolver(r){const s=this.buildRequest();return s.autoCreate=!1,_r(r,s)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(r){const s="string"==typeof r?JSON.parse(r):r,{providerId:c,signInMethod:d,pendingToken:p}=s;return c&&d&&p&&c===d?new _a(c,p):null}static _create(r,s){return new _a(r,s)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bs extends Hs{constructor(r){oe(r.startsWith("saml."),"argument-error"),super(r)}static credentialFromResult(r){return bs.samlCredentialFromTaggedObject(r)}static credentialFromError(r){return bs.samlCredentialFromTaggedObject(r.customData||{})}static credentialFromJSON(r){const s=_a.fromJSON(r);return oe(s,"argument-error"),s}static samlCredentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{pendingToken:s,providerId:c}=r;if(!s||!c)return null;try{return _a._create(c,s)}catch(d){return null}}}let Vi=(()=>{class w extends Ui{constructor(){super("twitter.com")}static credential(s,c){return Ur._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:s,oauthTokenSecret:c})}static credentialFromResult(s){return w.credentialFromTaggedObject(s)}static credentialFromError(s){return w.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s)return null;const{oauthAccessToken:c,oauthTokenSecret:d}=s;if(!c||!d)return null;try{return w.credential(c,d)}catch(p){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function bo(w,r){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,m.Z)(function*(w,r){return Ne(w,"POST","/v1/accounts:signUp",ot(w,r))})).apply(this,arguments)}class Jn{constructor(r){this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}static _fromIdTokenResponse(r,s,c,d=!1){return(0,m.Z)(function*(){const p=yield Kn._fromIdTokenResponse(r,c,d),_=Ol(c);return new Jn({user:p,providerId:_,_tokenResponse:c,operationType:s})})()}static _forOperation(r,s,c){return(0,m.Z)(function*(){yield r._updateTokensIfNecessary(c,!0);const d=Ol(c);return new Jn({user:r,providerId:d,_tokenResponse:c,operationType:s})})()}}function Ol(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function wo(){return(wo=(0,m.Z)(function*(w){var r;const s=pt(w);if(yield s._initializationPromise,null===(r=s.currentUser)||void 0===r?void 0:r.isAnonymous)return new Jn({user:s.currentUser,providerId:null,operationType:"signIn"});const c=yield bo(s,{returnSecureToken:!0}),d=yield Jn._fromIdTokenResponse(s,"signIn",c,!0);return yield s._updateCurrentUser(d.user),d})).apply(this,arguments)}class hu extends T.ZR{constructor(r,s,c,d){var p;super(s.code,s.message),this.operationType=c,this.user=d,Object.setPrototypeOf(this,hu.prototype),this.customData={appName:r.name,tenantId:null!==(p=r.tenantId)&&void 0!==p?p:void 0,_serverResponse:s.customData._serverResponse,operationType:c}}static _fromErrorAndOperation(r,s,c,d){return new hu(r,s,c,d)}}function fu(w,r,s,c){return("reauthenticate"===r?s._getReauthenticationResolver(w):s._getIdTokenResponse(w)).catch(p=>{throw"auth/multi-factor-auth-required"===p.code?hu._fromErrorAndOperation(w,p,r,c):p})}function rc(w){return new Set(w.map(({providerId:r})=>r).filter(r=>!!r))}function pu(){return(pu=(0,m.Z)(function*(w,r){const s=(0,T.m9)(w);yield Yo(!0,s,r);const{providerUserInfo:c}=yield ze(s.auth,{idToken:yield s.getIdToken(),deleteProvider:[r]}),d=rc(c||[]);return s.providerData=s.providerData.filter(p=>d.has(p.providerId)),d.has("phone")||(s.phoneNumber=null),yield s.auth._persistUserIfCurrent(s),s})).apply(this,arguments)}function Hn(w,r){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,m.Z)(function*(w,r,s=!1){const c=yield cn(w,r._linkToIdToken(w.auth,yield w.getIdToken()),s);return Jn._forOperation(w,"link",c)})).apply(this,arguments)}function Yo(w,r,s){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,m.Z)(function*(w,r,s){yield Dn(r);const d=!1===w?"provider-already-linked":"no-such-provider";oe(rc(r.providerData).has(s)===w,r.auth,d)})).apply(this,arguments)}function gu(w,r){return Za.apply(this,arguments)}function Za(){return(Za=(0,m.Z)(function*(w,r,s=!1){const{auth:c}=w,d="reauthenticate";try{const p=yield cn(w,fu(c,d,r,w),s);oe(p.idToken,c,"internal-error");const _=Ot(p.idToken);oe(_,c,"internal-error");const{sub:C}=_;return oe(w.uid===C,c,"user-mismatch"),Jn._forOperation(w,d,p)}catch(p){throw"auth/user-not-found"===(null==p?void 0:p.code)&&me(c,"user-mismatch"),p}})).apply(this,arguments)}function ba(w,r){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,m.Z)(function*(w,r,s=!1){const c="signIn",d=yield fu(w,c,r),p=yield Jn._fromIdTokenResponse(w,c,d);return s||(yield w._updateCurrentUser(p.user)),p})).apply(this,arguments)}function wa(w,r){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,m.Z)(function*(w,r){return ba(pt(w),r)})).apply(this,arguments)}function Co(w,r){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(function*(w,r){const s=(0,T.m9)(w);return yield Yo(!1,s,r.providerId),Hn(s,r)})).apply(this,arguments)}function Ya(w,r){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,m.Z)(function*(w,r){return gu((0,T.m9)(w),r)})).apply(this,arguments)}function ur(w,r){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,m.Z)(function*(w,r){return Ne(w,"POST","/v1/accounts:signInWithCustomToken",ot(w,r))})).apply(this,arguments)}function es(){return(es=(0,m.Z)(function*(w,r){const s=pt(w),c=yield ur(s,{token:r,returnSecureToken:!0}),d=yield Jn._fromIdTokenResponse(s,"signIn",c);return yield s._updateCurrentUser(d.user),d})).apply(this,arguments)}class Yt{constructor(r,s){this.factorId=r,this.uid=s.mfaEnrollmentId,this.enrollmentTime=new Date(s.enrolledAt).toUTCString(),this.displayName=s.displayName}static _fromServerResponse(r,s){return"phoneInfo"in s?Qa._fromServerResponse(r,s):me(r,"internal-error")}}class Qa extends Yt{constructor(r){super("phone",r),this.phoneNumber=r.phoneInfo}static _fromServerResponse(r,s){return new Qa(s)}}function Nl(w,r,s){var c;oe((null===(c=s.url)||void 0===c?void 0:c.length)>0,w,"invalid-continue-uri"),oe(void 0===s.dynamicLinkDomain||s.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),r.continueUrl=s.url,r.dynamicLinkDomain=s.dynamicLinkDomain,r.canHandleCodeInApp=s.handleCodeInApp,s.iOS&&(oe(s.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),r.iOSBundleId=s.iOS.bundleId),s.android&&(oe(s.android.packageName.length>0,w,"missing-android-pkg-name"),r.androidInstallApp=s.android.installApp,r.androidMinimumVersionCode=s.android.minimumVersion,r.androidPackageName=s.android.packageName)}function Ja(){return(Ja=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w),d={requestType:"PASSWORD_RESET",email:r};s&&Nl(c,d,s),yield _s(c,d)})).apply(this,arguments)}function Pl(){return(Pl=(0,m.Z)(function*(w,r,s){yield go((0,T.m9)(w),{oobCode:r,newPassword:s})})).apply(this,arguments)}function ft(){return(ft=(0,m.Z)(function*(w,r){yield Wo((0,T.m9)(w),{oobCode:r})})).apply(this,arguments)}function mn(w,r){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,m.Z)(function*(w,r){const s=(0,T.m9)(w),c=yield go(s,{oobCode:r}),d=c.requestType;switch(oe(d,s,"internal-error"),d){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(c.newEmail,s,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(c.mfaInfo,s,"internal-error");default:oe(c.email,s,"internal-error")}let p=null;return c.mfaInfo&&(p=Yt._fromServerResponse(pt(s),c.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===c.requestType?c.newEmail:c.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===c.requestType?c.email:c.newEmail)||null,multiFactorInfo:p},operation:d}})).apply(this,arguments)}function zs(){return(zs=(0,m.Z)(function*(w,r){const{data:s}=yield mn((0,T.m9)(w),r);return s.email})).apply(this,arguments)}function di(){return(di=(0,m.Z)(function*(w,r,s){const c=pt(w),d=yield bo(c,{returnSecureToken:!0,email:r,password:s}),p=yield Jn._fromIdTokenResponse(c,"signIn",d);return yield c._updateCurrentUser(p.user),p})).apply(this,arguments)}function vu(){return(vu=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w),d={requestType:"EMAIL_SIGNIN",email:r};oe(s.handleCodeInApp,c,"argument-error"),s&&Nl(c,d,s),yield Xi(c,d)})).apply(this,arguments)}function el(){return(el=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w),d=Ko.credentialWithLink(r,s||Re());return oe(d._tenantId===(c.tenantId||null),c,"tenant-id-mismatch"),wa(c,d)})).apply(this,arguments)}function br(w,r){return ji.apply(this,arguments)}function ji(){return(ji=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:createAuthUri",ot(w,r))})).apply(this,arguments)}function wr(){return(wr=(0,m.Z)(function*(w,r){const c={identifier:r,continueUri:Ie()?Re():"http://localhost"},{signinMethods:d}=yield br((0,T.m9)(w),c);return d||[]})).apply(this,arguments)}function tl(){return(tl=(0,m.Z)(function*(w,r){const s=(0,T.m9)(w),d={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};r&&Nl(s.auth,d,r);const{email:p}=yield ni(s.auth,d);p!==w.email&&(yield w.reload())})).apply(this,arguments)}function Ll(){return(Ll=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w),p={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:r};s&&Nl(c.auth,p,s);const{email:_}=yield lu(c.auth,p);_!==w.email&&(yield w.reload())})).apply(this,arguments)}function ed(w,r){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,m.Z)(function*(w,r){return Je(w,"POST","/v1/accounts:update",r)})).apply(this,arguments)}function To(){return(To=(0,m.Z)(function*(w,{displayName:r,photoURL:s}){if(void 0===r&&void 0===s)return;const c=(0,T.m9)(w),p={idToken:yield c.getIdToken(),displayName:r,photoUrl:s,returnSecureToken:!0},_=yield cn(c,ed(c.auth,p));c.displayName=_.displayName||null,c.photoURL=_.photoUrl||null;const C=c.providerData.find(({providerId:O})=>"password"===O);C&&(C.displayName=c.displayName,C.photoURL=c.photoURL),yield c._updateTokensIfNecessary(_)})).apply(this,arguments)}function nl(w,r,s){return $s.apply(this,arguments)}function $s(){return($s=(0,m.Z)(function*(w,r,s){const{auth:c}=w,p={idToken:yield w.getIdToken(),returnSecureToken:!0};r&&(p.email=r),s&&(p.password=s);const _=yield cn(w,wt(c,p));yield w._updateTokensIfNecessary(_,!0)})).apply(this,arguments)}class Ws{constructor(r,s,c={}){this.isNewUser=r,this.providerId=s,this.profile=c}}class ts extends Ws{constructor(r,s,c,d){super(r,s,c),this.username=d}}class td extends Ws{constructor(r,s){super(r,"facebook.com",s)}}class Xo extends ts{constructor(r,s){super(r,"github.com",s,"string"==typeof(null==s?void 0:s.login)?null==s?void 0:s.login:null)}}class ns extends Ws{constructor(r,s){super(r,"google.com",s)}}class nd extends ts{constructor(r,s,c){super(r,"twitter.com",s,c)}}function Pr(w){const{user:r,_tokenResponse:s}=w;return r.isAnonymous&&!s?{providerId:null,isNewUser:!1,profile:null}:function bu(w){var r,s;if(!w)return null;const{providerId:c}=w,d=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},p=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!c&&(null==w?void 0:w.idToken)){const _=null===(s=null===(r=Ot(w.idToken))||void 0===r?void 0:r.firebase)||void 0===s?void 0:s.sign_in_provider;if(_)return new Ws(p,"anonymous"!==_&&"custom"!==_?_:null)}if(!c)return null;switch(c){case"facebook.com":return new td(p,d);case"github.com":return new Xo(p,d);case"google.com":return new ns(p,d);case"twitter.com":return new nd(p,d,w.screenName||null);case"custom":case"anonymous":return new Ws(p,null);default:return new Ws(p,c,d)}}(s)}class Cs{constructor(r,s){this.type=r,this.credential=s}static _fromIdtoken(r){return new Cs("enroll",r)}static _fromMfaPendingCredential(r){return new Cs("signin",r)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(r){var s,c;if(null==r?void 0:r.multiFactorSession){if(null===(s=r.multiFactorSession)||void 0===s?void 0:s.pendingCredential)return Cs._fromMfaPendingCredential(r.multiFactorSession.pendingCredential);if(null===(c=r.multiFactorSession)||void 0===c?void 0:c.idToken)return Cs._fromIdtoken(r.multiFactorSession.idToken)}return null}}class rl{constructor(r,s,c){this.session=r,this.hints=s,this.signInResolver=c}static _fromError(r,s){const c=pt(r),d=s.customData._serverResponse,p=(d.mfaInfo||[]).map(C=>Yt._fromServerResponse(c,C));oe(d.mfaPendingCredential,c,"internal-error");const _=Cs._fromMfaPendingCredential(d.mfaPendingCredential);return new rl(_,p,function(){var C=(0,m.Z)(function*(O){const z=yield O._process(c,_);delete d.mfaInfo,delete d.mfaPendingCredential;const X=Object.assign(Object.assign({},d),{idToken:z.idToken,refreshToken:z.refreshToken});switch(s.operationType){case"signIn":const ge=yield Jn._fromIdTokenResponse(c,s.operationType,X);return yield c._updateCurrentUser(ge.user),ge;case"reauthenticate":return oe(s.user,c,"internal-error"),Jn._forOperation(s.user,s.operationType,X);default:me(c,"internal-error")}});return function(O){return C.apply(this,arguments)}}())}resolveSignIn(r){var s=this;return(0,m.Z)(function*(){return s.signInResolver(r)})()}}function qs(w,r){return Je(w,"POST","/v2/accounts/mfaEnrollment:start",ot(w,r))}class ii{constructor(r){this.user=r,this.enrolledFactors=[],r._onReload(s=>{s.mfaInfo&&(this.enrolledFactors=s.mfaInfo.map(c=>Yt._fromServerResponse(r.auth,c)))})}static _fromUser(r){return new ii(r)}getSession(){var r=this;return(0,m.Z)(function*(){return Cs._fromIdtoken(yield r.user.getIdToken())})()}enroll(r,s){var c=this;return(0,m.Z)(function*(){const d=r,p=yield c.getSession(),_=yield cn(c.user,d._process(c.user.auth,p,s));return yield c.user._updateTokensIfNecessary(_),c.user.reload()})()}unenroll(r){var s=this;return(0,m.Z)(function*(){const c="string"==typeof r?r:r.uid,d=yield s.user.getIdToken(),p=yield cn(s.user,function hi(w,r){return Je(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(w,r))}(s.user.auth,{idToken:d,mfaEnrollmentId:c}));s.enrolledFactors=s.enrolledFactors.filter(({uid:_})=>_!==c),yield s.user._updateTokensIfNecessary(p);try{yield s.user.reload()}catch(_){if("auth/user-token-expired"!==_.code)throw _}})()}}const zi=new WeakMap,Ul="__sak";class il{constructor(r,s){this.storageRetriever=r,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Ul,"1"),this.storage.removeItem(Ul),Promise.resolve(!0)):Promise.resolve(!1)}catch(r){return Promise.resolve(!1)}}_set(r,s){return this.storage.setItem(r,JSON.stringify(s)),Promise.resolve()}_get(r){const s=this.storage.getItem(r);return Promise.resolve(s?JSON.parse(s):null)}_remove(r){return this.storage.removeItem(r),Promise.resolve()}get storage(){return this.storageRetriever()}}const jr=(()=>{class w extends il{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(s,c)=>this.onStorageEvent(s,c),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ea(){const w=(0,T.z$)();return au(w)||Fi(w)}()&&function ir(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=zo(),this._shouldAllowMigration=!0}forAllChangedKeys(s){for(const c of Object.keys(this.listeners)){const d=this.storage.getItem(c),p=this.localCache[c];d!==p&&s(c,p,d)}}onStorageEvent(s,c=!1){if(!s.key)return void this.forAllChangedKeys((C,O,z)=>{this.notifyListeners(C,z)});const d=s.key;if(c?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const C=this.storage.getItem(d);if(s.newValue!==C)null!==s.newValue?this.storage.setItem(d,s.newValue):this.storage.removeItem(d);else if(this.localCache[d]===s.newValue&&!c)return}const p=()=>{const C=this.storage.getItem(d);!c&&this.localCache[d]===C||this.notifyListeners(d,C)},_=this.storage.getItem(d);!function Bs(){return(0,T.w1)()&&10===document.documentMode}()||_===s.newValue||s.newValue===s.oldValue?p():setTimeout(p,10)}notifyListeners(s,c){this.localCache[s]=c;const d=this.listeners[s];if(d)for(const p of Array.from(d))p(c&&JSON.parse(c))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((s,c,d)=>{this.onStorageEvent(new StorageEvent("storage",{key:s,oldValue:c,newValue:d}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(s,c){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[s]||(this.listeners[s]=new Set,this.localCache[s]=this.storage.getItem(s)),this.listeners[s].add(c)}_removeListener(s,c){this.listeners[s]&&(this.listeners[s].delete(c),0===this.listeners[s].size&&delete this.listeners[s]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(s,c){var d=()=>super._set,p=this;return(0,m.Z)(function*(){yield d().call(p,s,c),p.localCache[s]=JSON.stringify(c)})()}_get(s){var c=()=>super._get,d=this;return(0,m.Z)(function*(){const p=yield c().call(d,s);return d.localCache[s]=JSON.stringify(p),p})()}_remove(s){var c=()=>super._remove,d=this;return(0,m.Z)(function*(){yield c().call(d,s),delete d.localCache[s]})()}}return w.type="LOCAL",w})(),Ks=(()=>{class w extends il{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(s,c){}_removeListener(s,c){}}return w.type="SESSION",w})();let sl=(()=>{class w{constructor(s){this.eventTarget=s,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(s){const c=this.receivers.find(p=>p.isListeningto(s));if(c)return c;const d=new w(s);return this.receivers.push(d),d}isListeningto(s){return this.eventTarget===s}handleEvent(s){var c=this;return(0,m.Z)(function*(){const d=s,{eventId:p,eventType:_,data:C}=d.data,O=c.handlersMap[_];if(!(null==O?void 0:O.size))return;d.ports[0].postMessage({status:"ack",eventId:p,eventType:_});const z=Array.from(O).map(function(){var ge=(0,m.Z)(function*(De){return De(d.origin,C)});return function(De){return ge.apply(this,arguments)}}()),X=yield function Vl(w){return Promise.all(w.map(function(){var r=(0,m.Z)(function*(s){try{return{fulfilled:!0,value:yield s}}catch(c){return{fulfilled:!1,reason:c}}});return function(s){return r.apply(this,arguments)}}()))}(z);d.ports[0].postMessage({status:"done",eventId:p,eventType:_,response:X})})()}_subscribe(s,c){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[s]||(this.handlersMap[s]=new Set),this.handlersMap[s].add(c)}_unsubscribe(s,c){this.handlersMap[s]&&c&&this.handlersMap[s].delete(c),(!c||0===this.handlersMap[s].size)&&delete this.handlersMap[s],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Gi(w="",r=10){let s="";for(let c=0;c<r;c++)s+=Math.floor(10*Math.random());return w+s}class Hl{constructor(r){this.target=r,this.handlers=new Set}removeMessageHandler(r){r.messageChannel&&(r.messageChannel.port1.removeEventListener("message",r.onMessage),r.messageChannel.port1.close()),this.handlers.delete(r)}_send(r,s,c=50){var d=this;return(0,m.Z)(function*(){const p="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!p)throw new Error("connection_unavailable");let _,C;return new Promise((O,z)=>{const X=Gi("",20);p.port1.start();const ge=setTimeout(()=>{z(new Error("unsupported_event"))},c);C={messageChannel:p,onMessage(De){const Ve=De;if(Ve.data.eventId===X)switch(Ve.data.status){case"ack":clearTimeout(ge),_=setTimeout(()=>{z(new Error("timeout"))},3e3);break;case"done":clearTimeout(_),O(Ve.data.response);break;default:clearTimeout(ge),clearTimeout(_),z(new Error("invalid_response"))}}},d.handlers.add(C),p.port1.addEventListener("message",C.onMessage),d.target.postMessage({eventType:r,eventId:X,data:s},[p.port2])}).finally(()=>{C&&d.removeMessageHandler(C)})})()}}function Ln(){return window}function sr(){return void 0!==Ln().WorkerGlobalScope&&"function"==typeof Ln().importScripts}function ta(){return(ta=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const al="firebaseLocalStorageDb",So="firebaseLocalStorage",Ti="fbase_key";class Er{constructor(r){this.request=r}toPromise(){return new Promise((r,s)=>{this.request.addEventListener("success",()=>{r(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function xo(w,r){return w.transaction([So],r?"readwrite":"readonly").objectStore(So)}function fi(){const w=indexedDB.open(al,1);return new Promise((r,s)=>{w.addEventListener("error",()=>{s(w.error)}),w.addEventListener("upgradeneeded",()=>{const c=w.result;try{c.createObjectStore(So,{keyPath:Ti})}catch(d){s(d)}}),w.addEventListener("success",(0,m.Z)(function*(){const c=w.result;c.objectStoreNames.contains(So)?r(c):(c.close(),yield function ko(){const w=indexedDB.deleteDatabase(al);return new Er(w).toPromise()}(),r(yield fi()))}))})}function Mo(w,r,s){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,m.Z)(function*(w,r,s){const c=xo(w,!0).put({[Ti]:r,value:s});return new Er(c).toPromise()})).apply(this,arguments)}function si(){return(si=(0,m.Z)(function*(w,r){const s=xo(w,!1).get(r),c=yield new Er(s).toPromise();return void 0===c?null:c.value})).apply(this,arguments)}function Zs(w,r){const s=xo(w,!0).delete(r);return new Er(s).toPromise()}const Ro=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var s=this;return(0,m.Z)(function*(){return s.db||(s.db=yield fi()),s.db})()}_withRetries(s){var c=this;return(0,m.Z)(function*(){let d=0;for(;;)try{const p=yield c._openDb();return yield s(p)}catch(p){if(d++>3)throw p;c.db&&(c.db.close(),c.db=void 0)}})()}initializeServiceWorkerMessaging(){var s=this;return(0,m.Z)(function*(){return sr()?s.initializeReceiver():s.initializeSender()})()}initializeReceiver(){var s=this;return(0,m.Z)(function*(){s.receiver=sl._getInstance(function ol(){return sr()?self:null}()),s.receiver._subscribe("keyChanged",function(){var c=(0,m.Z)(function*(d,p){return{keyProcessed:(yield s._poll()).includes(p.key)}});return function(d,p){return c.apply(this,arguments)}}()),s.receiver._subscribe("ping",function(){var c=(0,m.Z)(function*(d,p){return["keyChanged"]});return function(d,p){return c.apply(this,arguments)}}())})()}initializeSender(){var s=this;return(0,m.Z)(function*(){var c,d;if(s.activeServiceWorker=yield function on(){return ta.apply(this,arguments)}(),!s.activeServiceWorker)return;s.sender=new Hl(s.activeServiceWorker);const p=yield s.sender._send("ping",{},800);!p||(null===(c=p[0])||void 0===c?void 0:c.fulfilled)&&(null===(d=p[0])||void 0===d?void 0:d.value.includes("keyChanged"))&&(s.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(s){var c=this;return(0,m.Z)(function*(){if(c.sender&&c.activeServiceWorker&&function sd(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===c.activeServiceWorker)try{yield c.sender._send("keyChanged",{key:s},c.serviceWorkerReceiverAvailable?800:50)}catch(d){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const s=yield fi();return yield Mo(s,Ul,"1"),yield Zs(s,Ul),!0}catch(s){}return!1})()}_withPendingWrite(s){var c=this;return(0,m.Z)(function*(){c.pendingWrites++;try{yield s()}finally{c.pendingWrites--}})()}_set(s,c){var d=this;return(0,m.Z)(function*(){return d._withPendingWrite((0,m.Z)(function*(){return yield d._withRetries(p=>Mo(p,s,c)),d.localCache[s]=c,d.notifyServiceWorker(s)}))})()}_get(s){var c=this;return(0,m.Z)(function*(){const d=yield c._withRetries(p=>function Si(w,r){return si.apply(this,arguments)}(p,s));return c.localCache[s]=d,d})()}_remove(s){var c=this;return(0,m.Z)(function*(){return c._withPendingWrite((0,m.Z)(function*(){return yield c._withRetries(d=>Zs(d,s)),delete c.localCache[s],c.notifyServiceWorker(s)}))})()}_poll(){var s=this;return(0,m.Z)(function*(){const c=yield s._withRetries(_=>{const C=xo(_,!1).getAll();return new Er(C).toPromise()});if(!c)return[];if(0!==s.pendingWrites)return[];const d=[],p=new Set;for(const{fbase_key:_,value:C}of c)p.add(_),JSON.stringify(s.localCache[_])!==JSON.stringify(C)&&(s.notifyListeners(_,C),d.push(_));for(const _ of Object.keys(s.localCache))s.localCache[_]&&!p.has(_)&&(s.notifyListeners(_,null),d.push(_));return d})()}notifyListeners(s,c){this.localCache[s]=c;const d=this.listeners[s];if(d)for(const p of Array.from(d))p(c)}startPolling(){var s=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return s._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(s,c){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[s]||(this.listeners[s]=new Set,this._get(s)),this.listeners[s].add(c)}_removeListener(s,c){this.listeners[s]&&(this.listeners[s].delete(c),0===this.listeners[s].size&&delete this.listeners[s]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function na(w,r){return Je(w,"POST","/v2/accounts/mfaSignIn:start",ot(w,r))}function Po(){return(Po=(0,m.Z)(function*(w){return(yield Je(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gl(w){return new Promise((r,s)=>{const c=document.createElement("script");c.setAttribute("src",w),c.onload=r,c.onerror=d=>{const p=te("internal-error");p.customData=d,s(p)},c.type="text/javascript",c.charset="UTF-8",function zl(){var w,r;return null!==(r=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==r?r:document}().appendChild(c)})}function Da(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Un=1e12;class gr{constructor(r){this.auth=r,this.counter=Un,this._widgets=new Map}render(r,s){const c=this.counter;return this._widgets.set(c,new hr(r,this.auth.name,s||{})),this.counter++,c}reset(r){var s;const c=r||Un;null===(s=this._widgets.get(c))||void 0===s||s.delete(),this._widgets.delete(c)}getResponse(r){var s;return(null===(s=this._widgets.get(r||Un))||void 0===s?void 0:s.getResponse())||""}execute(r){var s=this;return(0,m.Z)(function*(){var c;return null===(c=s._widgets.get(r||Un))||void 0===c||c.execute(),""})()}}class hr{constructor(r,s,c){this.params=c,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const d="string"==typeof r?document.getElementById(r):r;oe(d,"argument-error",{appName:s}),this.container=d,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Is(w){const r=[],s="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let c=0;c<w;c++)r.push(s.charAt(Math.floor(Math.random()*s.length)));return r.join("")}(50);const{callback:r,"expired-callback":s}=this.params;if(r)try{r(this.responseToken)}catch(c){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,s)try{s()}catch(c){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const od=Da("rcb"),Ia=new B(3e4,6e4);class ad{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ln().grecaptcha}load(r,s=""){return oe(function Zh(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(s),r,"argument-error"),this.shouldResolveImmediately(s)?Promise.resolve(Ln().grecaptcha):new Promise((c,d)=>{const p=Ln().setTimeout(()=>{d(te(r,"network-request-failed"))},Ia.get());Ln()[od]=()=>{Ln().clearTimeout(p),delete Ln()[od];const C=Ln().grecaptcha;if(!C)return void d(te(r,"internal-error"));const O=C.render;C.render=(z,X)=>{const ge=O(z,X);return this.counter++,ge},this.hostLanguage=s,c(C)},Gl(`https://www.google.com/recaptcha/api.js??${(0,T.xO)({onload:od,render:"explicit",hl:s})}`).catch(()=>{clearTimeout(p),d(te(r,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(r){return!!Ln().grecaptcha&&(r===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ac{load(r){return(0,m.Z)(function*(){return new gr(r)})()}clearedOneInstance(){}}const lc="recaptcha",Cu={theme:"light",type:"image"};class ld{constructor(r,s=Object.assign({},Cu),c){this.parameters=s,this.type=lc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pt(c),this.isInvisible="invisible"===this.parameters.size,oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const d="string"==typeof r?document.getElementById(r):r;oe(d,this.auth,"argument-error"),this.container=d,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ac:new ad,this.validateStartingState()}verify(){var r=this;return(0,m.Z)(function*(){r.assertNotDestroyed();const s=yield r.render(),c=r.getAssertedRecaptcha();return c.getResponse(s)||new Promise(p=>{const _=C=>{!C||(r.tokenChangeListeners.delete(_),p(C))};r.tokenChangeListeners.add(_),r.isInvisible&&c.execute(s)})})()}render(){try{this.assertNotDestroyed()}catch(r){return Promise.reject(r)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(r=>{throw this.renderPromise=null,r})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(r=>{this.container.removeChild(r)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(r){return s=>{if(this.tokenChangeListeners.forEach(c=>c(s)),"function"==typeof r)r(s);else if("string"==typeof r){const c=Ln()[r];"function"==typeof c&&c(s)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var r=this;return(0,m.Z)(function*(){if(yield r.init(),!r.widgetId){let s=r.container;if(!r.isInvisible){const c=document.createElement("div");s.appendChild(c),s=c}r.widgetId=r.getAssertedRecaptcha().render(s,r.parameters)}return r.widgetId})()}init(){var r=this;return(0,m.Z)(function*(){oe(Ie()&&!sr(),r.auth,"internal-error"),yield function Du(){let w=null;return new Promise(r=>{"complete"!==document.readyState?(w=()=>r(),window.addEventListener("load",w)):r()}).catch(r=>{throw w&&window.removeEventListener("load",w),r})}(),r.recaptcha=yield r._recaptchaLoader.load(r.auth,r.auth.languageCode||void 0);const s=yield function jl(w){return Po.apply(this,arguments)}(r.auth);oe(s,r.auth,"internal-error"),r.parameters.sitekey=s})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rs{constructor(r,s){this.verificationId=r,this.onConfirmation=s}confirm(r){const s=ya._fromVerification(this.verificationId,r);return this.onConfirmation(s)}}function tr(){return(tr=(0,m.Z)(function*(w,r,s){const c=pt(w),d=yield $r(c,r,(0,T.m9)(s));return new rs(d,p=>wa(c,p))})).apply(this,arguments)}function pi(){return(pi=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w);yield Yo(!1,c,"phone");const d=yield $r(c.auth,r,(0,T.m9)(s));return new rs(d,p=>Co(c,p))})).apply(this,arguments)}function Au(){return(Au=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w),d=yield $r(c.auth,r,(0,T.m9)(s));return new rs(d,p=>Ya(c,p))})).apply(this,arguments)}function $r(w,r,s){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,m.Z)(function*(w,r,s){var c;const d=yield s.verify();try{let p;if(oe("string"==typeof d,w,"argument-error"),oe(s.type===lc,w,"argument-error"),p="string"==typeof r?{phoneNumber:r}:r,"session"in p){const _=p.session;if("phoneNumber"in p)return oe("enroll"===_.type,w,"internal-error"),(yield qs(w,{idToken:_.credential,phoneEnrollmentInfo:{phoneNumber:p.phoneNumber,recaptchaToken:d}})).phoneSessionInfo.sessionInfo;{oe("signin"===_.type,w,"internal-error");const C=(null===(c=p.multiFactorHint)||void 0===c?void 0:c.uid)||p.multiFactorUid;return oe(C,w,"missing-multi-factor-info"),(yield na(w,{mfaPendingCredential:_.credential,mfaEnrollmentId:C,phoneSignInInfo:{recaptchaToken:d}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_}=yield Wh(w,{phoneNumber:p.phoneNumber,recaptchaToken:d});return _}}finally{s._reset()}})).apply(this,arguments)}function cl(){return(cl=(0,m.Z)(function*(w,r){yield Hn((0,T.m9)(w),r)})).apply(this,arguments)}let xi=(()=>{class w{constructor(s){this.providerId=w.PROVIDER_ID,this.auth=pt(s)}verifyPhoneNumber(s,c){return $r(this.auth,s,(0,T.m9)(c))}static credential(s,c){return ya._fromVerification(s,c)}static credentialFromResult(s){return w.credentialFromTaggedObject(s)}static credentialFromError(s){return w.credentialFromTaggedObject(s.customData||{})}static credentialFromTaggedObject({_tokenResponse:s}){if(!s)return null;const{phoneNumber:c,temporaryProof:d}=s;return c&&d?ya._fromTokenResponse(c,d):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function qn(w,r){return r?ie(r):(oe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class _n extends wn{constructor(r){super("custom","custom"),this.params=r}_getIdTokenResponse(r){return _r(r,this._buildIdpRequest())}_linkToIdToken(r,s){return _r(r,this._buildIdpRequest(s))}_getReauthenticationResolver(r){return _r(r,this._buildIdpRequest())}_buildIdpRequest(r){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return r&&(s.idToken=r),s}}function gi(w){return ba(w.auth,new _n(w),w.bypassAuthState)}function Lo(w){const{auth:r,user:s}=w;return oe(s,r,"internal-error"),gu(s,new _n(w),w.bypassAuthState)}function ra(w){return dl.apply(this,arguments)}function dl(){return(dl=(0,m.Z)(function*(w){const{auth:r,user:s}=w;return oe(s,r,"internal-error"),Hn(s,new _n(w),w.bypassAuthState)})).apply(this,arguments)}class ki{constructor(r,s,c,d,p=!1){this.auth=r,this.resolver=c,this.user=d,this.bypassAuthState=p,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){var r=this;return new Promise(function(){var s=(0,m.Z)(function*(c,d){r.pendingPromise={resolve:c,reject:d};try{r.eventManager=yield r.resolver._initialize(r.auth),yield r.onExecution(),r.eventManager.registerConsumer(r)}catch(p){r.reject(p)}});return function(c,d){return s.apply(this,arguments)}}())}onAuthEvent(r){var s=this;return(0,m.Z)(function*(){const{urlResponse:c,sessionId:d,postBody:p,tenantId:_,error:C,type:O}=r;if(C)return void s.reject(C);const z={auth:s.auth,requestUri:c,sessionId:d,tenantId:_||void 0,postBody:p||void 0,user:s.user,bypassAuthState:s.bypassAuthState};try{s.resolve(yield s.getIdpTask(O)(z))}catch(X){s.reject(X)}})()}onError(r){this.reject(r)}getIdpTask(r){switch(r){case"signInViaPopup":case"signInViaRedirect":return gi;case"linkViaPopup":case"linkViaRedirect":return ra;case"reauthViaPopup":case"reauthViaRedirect":return Lo;default:me(this.auth,"internal-error")}}resolve(r){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(r),this.unregisterAndCleanUp()}reject(r){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(r),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cd=new B(2e3,1e4);function uc(){return(uc=(0,m.Z)(function*(w,r,s){const c=pt(w);xe(w,r,Hs);const d=qn(c,s);return new xu(c,"signInViaPopup",r,d).executeNotNull()})).apply(this,arguments)}function Ys(){return(Ys=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w);xe(c.auth,r,Hs);const d=qn(c.auth,s);return new xu(c.auth,"reauthViaPopup",r,d,c).executeNotNull()})).apply(this,arguments)}function Qs(){return(Qs=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w);xe(c.auth,r,Hs);const d=qn(c.auth,s);return new xu(c.auth,"linkViaPopup",r,d,c).executeNotNull()})).apply(this,arguments)}let xu=(()=>{class w extends ki{constructor(s,c,d,p,_){super(s,c,p,_),this.provider=d,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var s=this;return(0,m.Z)(function*(){const c=yield s.execute();return oe(c,s.auth,"internal-error"),c})()}onExecution(){var s=this;return(0,m.Z)(function*(){he(1===s.filter.length,"Popup operations only handle one event");const c=Gi();s.authWindow=yield s.resolver._openPopup(s.auth,s.provider,s.filter[0],c),s.authWindow.associatedEvent=c,s.resolver._originValidation(s.auth).catch(d=>{s.reject(d)}),s.resolver._isIframeWebStorageSupported(s.auth,d=>{d||s.reject(te(s.auth,"web-storage-unsupported"))}),s.pollUserCancellation()})()}get eventId(){var s;return(null===(s=this.authWindow)||void 0===s?void 0:s.associatedEvent)||null}cancel(){this.reject(te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const s=()=>{var c,d;this.pollId=(null===(d=null===(c=this.authWindow)||void 0===c?void 0:c.window)||void 0===d?void 0:d.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(s,cd.get())};s()}}return w.currentPopupAction=null,w})();const Fo=new Map;class mi extends ki{constructor(r,s,c=!1){super(r,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,c),this.eventId=null}execute(){var r=()=>super.execute,s=this;return(0,m.Z)(function*(){let c=Fo.get(s.auth._key());if(!c){try{const p=(yield function ia(w,r){return dd.apply(this,arguments)}(s.resolver,s.auth))?yield r().call(s):null;c=()=>Promise.resolve(p)}catch(d){c=()=>Promise.reject(d)}Fo.set(s.auth._key(),c)}return s.bypassAuthState||Fo.set(s.auth._key(),()=>Promise.resolve(null)),c()})()}onAuthEvent(r){var s=()=>super.onAuthEvent,c=this;return(0,m.Z)(function*(){if("signInViaRedirect"===r.type)return s().call(c,r);if("unknown"!==r.type){if(r.eventId){const d=yield c.auth._redirectUserForId(r.eventId);if(d)return c.user=d,s().call(c,r);c.resolve(null)}}else c.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function dd(){return(dd=(0,m.Z)(function*(w,r){const s=L(r),c=nh(w);if(!(yield c._isAvailable()))return!1;const d="true"===(yield c._get(s));return yield c._remove(s),d})).apply(this,arguments)}function Js(w,r){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,m.Z)(function*(w,r){return nh(w)._set(L(r),"true")})).apply(this,arguments)}function nh(w){return ie(w._redirectPersistence)}function L(w){return pr("pendingRedirect",w.config.apiKey,w.name)}function Se(){return(Se=(0,m.Z)(function*(w,r,s){const c=pt(w);xe(w,r,Hs);const d=qn(c,s);return yield Js(d,c),d._openRedirect(c,r,"signInViaRedirect")})).apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w);xe(c.auth,r,Hs);const d=qn(c.auth,s);yield Js(d,c.auth);const p=yield Ss(c);return d._openRedirect(c.auth,r,"reauthViaRedirect",p)})).apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(w,r,s){const c=(0,T.m9)(w);xe(c.auth,r,Hs);const d=qn(c.auth,s);yield Yo(!1,c,r.providerId),yield Js(d,c.auth);const p=yield Ss(c);return d._openRedirect(c.auth,r,"linkViaRedirect",p)})).apply(this,arguments)}function Lr(){return(Lr=(0,m.Z)(function*(w,r){return yield pt(w)._initializationPromise,Fr(w,r,!1)})).apply(this,arguments)}function Fr(w,r){return fn.apply(this,arguments)}function fn(){return(fn=(0,m.Z)(function*(w,r,s=!1){const c=pt(w),d=qn(c,r),_=yield new mi(c,d,s).execute();return _&&!s&&(delete _.user._redirectEventId,yield c._persistUserIfCurrent(_.user),yield c._setRedirectUser(null,r)),_})).apply(this,arguments)}function Ss(w){return vi.apply(this,arguments)}function vi(){return(vi=(0,m.Z)(function*(w){const r=Gi(`${w.uid}:::`);return w._redirectEventId=r,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),r})).apply(this,arguments)}class Xs{constructor(r){this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(r){this.consumers.add(r),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,r)&&(this.sendToConsumer(this.queuedRedirectEvent,r),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(r){this.consumers.delete(r)}onEvent(r){if(this.hasEventBeenHandled(r))return!1;let s=!1;return this.consumers.forEach(c=>{this.isEventForConsumer(r,c)&&(s=!0,this.sendToConsumer(r,c),this.saveEventToCache(r))}),this.hasHandledPotentialRedirect||!function cc(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ta(w);default:return!1}}(r)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=r,s=!0)),s}sendToConsumer(r,s){var c;if(r.error&&!Ta(r)){const d=(null===(c=r.error.code)||void 0===c?void 0:c.split("auth/")[1])||"internal-error";s.onError(te(this.auth,d))}else s.onAuthEvent(r)}isEventForConsumer(r,s){const c=null===s.eventId||!!r.eventId&&r.eventId===s.eventId;return s.filter.includes(r.type)&&c}hasEventBeenHandled(r){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dr(r))}saveEventToCache(r){this.cachedEventUids.add(Dr(r)),this.lastProcessedEventTime=Date.now()}}function Dr(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(r=>r).join("-")}function Ta({type:w,error:r}){return"unknown"===w&&"auth/no-auth-event"===(null==r?void 0:r.code)}function Mu(w){return sa.apply(this,arguments)}function sa(){return(sa=(0,m.Z)(function*(w,r={}){return Je(w,"GET","/v1/projects",r)})).apply(this,arguments)}const fl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hd=/^https?/;function oa(){return(oa=(0,m.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:r}=yield Mu(w);for(const s of r)try{if(aa(s))return}catch(c){}me(w,"unauthorized-domain")})).apply(this,arguments)}function aa(w){const r=Re(),{protocol:s,hostname:c}=new URL(r);if(w.startsWith("chrome-extension://")){const _=new URL(w);return""===_.hostname&&""===c?"chrome-extension:"===s&&w.replace("chrome-extension://","")===r.replace("chrome-extension://",""):"chrome-extension:"===s&&_.hostname===c}if(!hd.test(s))return!1;if(fl.test(w))return c===w;const d=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+d+"|"+d+")$","i").test(c)}const Yh=new B(3e4,6e4);function pl(){const w=Ln().___jsl;if(null==w?void 0:w.H)for(const r of Object.keys(w.H))if(w.H[r].r=w.H[r].r||[],w.H[r].L=w.H[r].L||[],w.H[r].r=[...w.H[r].L],w.CP)for(let s=0;s<w.CP.length;s++)w.CP[s]=null}let $l=null;function vp(w){return $l=$l||function pd(w){return new Promise((r,s)=>{var c,d,p;function _(){pl(),gapi.load("gapi.iframes",{callback:()=>{r(gapi.iframes.getContext())},ontimeout:()=>{pl(),s(te(w,"network-request-failed"))},timeout:Yh.get()})}if(null===(d=null===(c=Ln().gapi)||void 0===c?void 0:c.iframes)||void 0===d?void 0:d.Iframe)r(gapi.iframes.getContext());else{if(!(null===(p=Ln().gapi)||void 0===p?void 0:p.load)){const C=Da("iframefcb");return Ln()[C]=()=>{gapi.load?_():s(te(w,"network-request-failed"))},Gl(`https://apis.google.com/js/api.js?onload=${C}`).catch(O=>s(O))}_()}}).catch(r=>{throw $l=null,r})}(w),$l}const dc=new B(5e3,15e3),xa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hc(w){const r=w.config;oe(r.authDomain,w,"auth-domain-config-required");const s=r.emulator?we(r,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,c={apiKey:r.apiKey,appName:w.name,v:F.SDK_VERSION},d=rh.get(w.config.apiHost);d&&(c.eid=d);const p=w._getFrameworks();return p.length&&(c.fw=p.join(",")),`${s}?${(0,T.xO)(c).slice(1)}`}function ka(){return ka=(0,m.Z)(function*(w){const r=yield vp(w),s=Ln().gapi;return oe(s,w,"internal-error"),r.open({where:document.body,url:hc(w),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xa,dontclear:!0},c=>new Promise(function(){var d=(0,m.Z)(function*(p,_){yield c.restyle({setHideOnLeave:!1});const C=te(w,"network-request-failed"),O=Ln().setTimeout(()=>{_(C)},dc.get());function z(){Ln().clearTimeout(O),p(c)}c.ping(z).then(z,()=>{_(C)})});return function(p,_){return d.apply(this,arguments)}}()))}),ka.apply(this,arguments)}const fc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sh{constructor(r){this.window=r,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(r){}}}function vd(w,r,s,c,d,p){oe(w.config.authDomain,w,"auth-domain-config-required"),oe(w.config.apiKey,w,"invalid-api-key");const _={apiKey:w.config.apiKey,appName:w.name,authType:s,redirectUrl:c,v:F.SDK_VERSION,eventId:d};if(r instanceof Hs){r.setDefaultLanguage(w.languageCode),_.providerId=r.providerId||"",(0,T.xb)(r.getCustomParameters())||(_.customParameters=JSON.stringify(r.getCustomParameters()));for(const[O,z]of Object.entries(p||{}))_[O]=z}if(r instanceof Ui){const O=r.getScopes().filter(z=>""!==z);O.length>0&&(_.scopes=O.join(","))}w.tenantId&&(_.tid=w.tenantId);const C=_;for(const O of Object.keys(C))void 0===C[O]&&delete C[O];return`${function _p({config:w}){return w.emulator?we(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,T.xO)(C).slice(1)}`}const eo="webStorageSupport";class Xh extends class bp{constructor(r){this.factorId=r}_process(r,s,c){switch(s.type){case"enroll":return this._finalizeEnroll(r,s.credential,c);case"signin":return this._finalizeSignIn(r,s.credential);default:return k("unexpected MultiFactorSessionType")}}}{constructor(r){super("phone"),this.credential=r}static _fromCredential(r){return new Xh(r)}_finalizeEnroll(r,s,c){return function Xn(w,r){return Je(w,"POST","/v2/accounts/mfaEnrollment:finalize",ot(w,r))}(r,{idToken:s,displayName:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(r,s){return function No(w,r){return Je(w,"POST","/v2/accounts/mfaSignIn:finalize",ot(w,r))}(r,{mfaPendingCredential:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wp=(()=>{class w{constructor(){}static assertion(s){return Xh._fromCredential(s)}}return w.FACTOR_ID="phone",w})();var gl="@firebase/auth";class pc{constructor(r){this.auth=r,this.internalListeners=new Map}getUid(){var r;return this.assertAuthConfigured(),(null===(r=this.auth.currentUser)||void 0===r?void 0:r.uid)||null}getToken(r){var s=this;return(0,m.Z)(function*(){return s.assertAuthConfigured(),yield s.auth._initializationPromise,s.auth.currentUser?{accessToken:yield s.auth.currentUser.getIdToken(r)}:null})()}addAuthTokenListener(r){if(this.assertAuthConfigured(),this.internalListeners.has(r))return;const s=this.auth.onIdTokenChanged(c=>{var d;r((null===(d=c)||void 0===d?void 0:d.stsTokenManager.accessToken)||null)});this.internalListeners.set(r,s),this.updateProactiveRefresh()}removeAuthTokenListener(r){this.assertAuthConfigured();const s=this.internalListeners.get(r);!s||(this.internalListeners.delete(r),s(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ml(){return window}function Zl(){return(Zl=(0,m.Z)(function*(w,r,s){var c;const{BuildInfo:d}=ml();he(r.sessionId,"AuthEvent did not contain a session ID");const p=yield Yg(r.sessionId),_={};return Fi()?_.ibi=d.packageName:ei()?_.apn=d.packageName:me(w,"operation-not-supported-in-this-environment"),d.displayName&&(_.appDisplayName=d.displayName),_.sessionId=p,vd(w,s,r.type,void 0,null!==(c=r.eventId)&&void 0!==c?c:void 0,_)})).apply(this,arguments)}function $i(){return($i=(0,m.Z)(function*(w){const{BuildInfo:r}=ml(),s={};Fi()?s.iosBundleId=r.packageName:ei()?s.androidPackageName=r.packageName:me(w,"operation-not-supported-in-this-environment"),yield Mu(w,s)})).apply(this,arguments)}function Ru(){return(Ru=(0,m.Z)(function*(w,r,s){const{cordova:c}=ml();let d=()=>{};try{yield new Promise((p,_)=>{let C=null;function O(){var ge;p();const De=null===(ge=c.plugins.browsertab)||void 0===ge?void 0:ge.close;"function"==typeof De&&De(),"function"==typeof(null==s?void 0:s.close)&&s.close()}function z(){C||(C=window.setTimeout(()=>{_(te(w,"redirect-cancelled-by-user"))},2e3))}function X(){"visible"===(null==document?void 0:document.visibilityState)&&z()}r.addPassiveListener(O),document.addEventListener("resume",z,!1),ei()&&document.addEventListener("visibilitychange",X,!1),d=()=>{r.removePassiveListener(O),document.removeEventListener("resume",z,!1),document.removeEventListener("visibilitychange",X,!1),C&&window.clearTimeout(C)}})}finally{d()}})).apply(this,arguments)}function Yg(w){return vc.apply(this,arguments)}function vc(){return(vc=(0,m.Z)(function*(w){const r=ah(w),s=yield crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(s)).map(d=>d.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ah(w){if(he(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(w);const r=new ArrayBuffer(w.length),s=new Uint8Array(r);for(let c=0;c<w.length;c++)s[c]=w.charCodeAt(c);return s}!function Oa(w){(0,F._registerComponent)(new P.wA("auth",(r,{options:s})=>{const c=r.getProvider("app").getImmediate(),{apiKey:d,authDomain:p}=c.options;return(_=>{oe(d&&!d.includes(":"),"invalid-api-key",{appName:_.name}),oe(!(null==p?void 0:p.includes(":")),"argument-error",{appName:_.name});const C={apiKey:d,authDomain:p,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Go(w)},O=new Ai(_,C);return function W(w,r){const s=(null==r?void 0:r.persistence)||[],c=(Array.isArray(s)?s:[s]).map(ie);(null==r?void 0:r.errorMap)&&w._updateErrorMap(r.errorMap),w._initializeWithPersistence(c,null==r?void 0:r.popupRedirectResolver)}(O,s),O})(c)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,s,c)=>{r.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new P.wA("auth-internal",r=>{const s=pt(r.getProvider("auth").getImmediate());return new pc(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(gl,"0.19.9",function Kl(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,F.registerVersion)(gl,"0.19.9","esm2017")}("Browser");class yc extends Xs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(r=>{this.resolveInialized=r})}addPassiveListener(r){this.passiveListeners.add(r)}removePassiveListener(r){this.passiveListeners.delete(r)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(r){return this.resolveInialized(),this.passiveListeners.forEach(s=>s(r)),super.onEvent(r)}initialized(){var r=this;return(0,m.Z)(function*(){yield r.initPromise})()}}function Yl(w){return vl.apply(this,arguments)}function vl(){return(vl=(0,m.Z)(function*(w){const r=yield wd()._get(_c(w));return r&&(yield wd()._remove(_c(w))),r})).apply(this,arguments)}function tf(){const w=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<20;s++){const c=Math.floor(Math.random()*r.length);w.push(r.charAt(c))}return w.join("")}function wd(){return ie(jr)}function _c(w){return pr("authEvent",w.config.apiKey,w.name)}function Lu(w){if(!(null==w?void 0:w.includes("?")))return{};const[r,...s]=w.split("?");return(0,T.zd)(s.join("?"))}function Ql(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:te("no-auth-event")}}function hh(){var w;return(null===(w=null==self?void 0:self.location)||void 0===w?void 0:w.protocol)||null}function Cp(w=(0,T.z$)()){return!("file:"!==hh()&&"ionic:"!==hh()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function yi(){try{const w=self.localStorage,r=Gi();if(w)return w.setItem(r,"1"),w.removeItem(r),!function wc(w=(0,T.z$)()){return function Jg(){return(0,T.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Qv(w=(0,T.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,T.hl)()}catch(w){return Ec()&&(0,T.hl)()}return!1}function Ec(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function en(){return(function Qg(){return"http:"===hh()||"https:"===hh()}()||(0,T.ru)()||Cp())&&!function sf(){return(0,T.b$)()||(0,T.UG)()}()&&yi()&&!Ec()}function Uo(){return Cp()&&"undefined"!=typeof document}function no(){return(no=(0,m.Z)(function*(){return!!Uo()&&new Promise(w=>{const r=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(r),w(!0)})})})).apply(this,arguments)}const xs={LOCAL:"local",NONE:"none",SESSION:"session"},Cc=oe,Dd="persistence";function Jl(w){return yl.apply(this,arguments)}function yl(){return(yl=(0,m.Z)(function*(w){yield w._initializationPromise;const r=is(),s=pr(Dd,w.config.apiKey,w.name);r&&r.setItem(s,w._getPersistence())})).apply(this,arguments)}function is(){var w;try{return(null===(w=function Fu(){return"undefined"!=typeof window?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch(r){return null}}const Dc=oe;class _i{constructor(){this.browserResolver=ie(class Ou{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ks,this._completeRedirectFn=Fr}_openPopup(r,s,c,d){var p=this;return(0,m.Z)(function*(){var _;he(null===(_=p.eventManagers[r._key()])||void 0===_?void 0:_.manager,"_initialize() not called before _openPopup()");const C=vd(r,s,c,Re(),d);return function Qh(w,r,s,c=500,d=600){const p=Math.max((window.screen.availHeight-d)/2,0).toString(),_=Math.max((window.screen.availWidth-c)/2,0).toString();let C="";const O=Object.assign(Object.assign({},fc),{width:c.toString(),height:d.toString(),top:p,left:_}),z=(0,T.z$)().toLowerCase();s&&(C=ma(z)?"_blank":s),Sl(z)&&(r=r||"http://localhost",O.scrollbars="yes");const X=Object.entries(O).reduce((De,[Ve,Ue])=>`${De}${Ve}=${Ue},`,"");if(function po(w=(0,T.z$)()){var r;return Fi(w)&&!!(null===(r=window.navigator)||void 0===r?void 0:r.standalone)}(z)&&"_self"!==C)return function Mi(w,r){const s=document.createElement("a");s.href=w,s.target=r;const c=document.createEvent("MouseEvent");c.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(c)}(r||"",C),new sh(null);const ge=window.open(r||"",C,X);oe(ge,w,"popup-blocked");try{ge.focus()}catch(De){}return new sh(ge)}(r,C,Gi())})()}_openRedirect(r,s,c,d){var p=this;return(0,m.Z)(function*(){return yield p._originValidation(r),function Ds(w){Ln().location.href=w}(vd(r,s,c,Re(),d)),new Promise(()=>{})})()}_initialize(r){const s=r._key();if(this.eventManagers[s]){const{manager:d,promise:p}=this.eventManagers[s];return d?Promise.resolve(d):(he(p,"If manager is not set, promise should be"),p)}const c=this.initAndGetManager(r);return this.eventManagers[s]={promise:c},c.catch(()=>{delete this.eventManagers[s]}),c}initAndGetManager(r){var s=this;return(0,m.Z)(function*(){const c=yield function yp(w){return ka.apply(this,arguments)}(r),d=new Xs(r);return c.register("authEvent",p=>(oe(null==p?void 0:p.authEvent,r,"invalid-auth-event"),{status:d.onEvent(p.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),s.eventManagers[r._key()]={manager:d},s.iframes[r._key()]=c,d})()}_isIframeWebStorageSupported(r,s){this.iframes[r._key()].send(eo,{type:eo},d=>{var p;const _=null===(p=null==d?void 0:d[0])||void 0===p?void 0:p[eo];void 0!==_&&s(!!_),me(r,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(r){const s=r._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=function fd(w){return oa.apply(this,arguments)}(r)),this.originValidationPromises[s]}get _shouldInitProactively(){return zo()||au()||Fi()}}),this.cordovaResolver=ie(class nf{constructor(){this._redirectPersistence=Ks,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fr}_initialize(r){var s=this;return(0,m.Z)(function*(){const c=r._key();let d=s.eventManagers.get(c);return d||(d=new yc(r),s.eventManagers.set(c,d),s.attachCallbackListeners(r,d)),d})()}_openPopup(r){me(r,"operation-not-supported-in-this-environment")}_openRedirect(r,s,c,d){var p=this;return(0,m.Z)(function*(){!function mc(w){var r,s,c,d,p,_,C,O,z,X;const ge=ml();oe("function"==typeof(null===(r=null==ge?void 0:ge.universalLinks)||void 0===r?void 0:r.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(void 0!==(null===(s=null==ge?void 0:ge.BuildInfo)||void 0===s?void 0:s.packageName),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(p=null===(d=null===(c=null==ge?void 0:ge.cordova)||void 0===c?void 0:c.plugins)||void 0===d?void 0:d.browsertab)||void 0===p?void 0:p.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(O=null===(C=null===(_=null==ge?void 0:ge.cordova)||void 0===_?void 0:_.plugins)||void 0===C?void 0:C.browsertab)||void 0===O?void 0:O.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(X=null===(z=null==ge?void 0:ge.cordova)||void 0===z?void 0:z.InAppBrowser)||void 0===X?void 0:X.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(r);const _=yield p._initialize(r);yield _.initialized(),_.resetRedirect(),function ku(){Fo.clear()}(),yield p._originValidation(r);const C=function Nu(w,r,s=null){return{type:r,eventId:s,urlResponse:null,sessionId:tf(),postBody:null,tenantId:w.tenantId,error:te(w,"no-auth-event")}}(r,c,d);yield function Ep(w,r){return wd()._set(_c(w),r)}(r,C);const O=yield function oh(w,r,s){return Zl.apply(this,arguments)}(r,C,s),z=yield function to(w){const{cordova:r}=ml();return new Promise(s=>{r.plugins.browsertab.isAvailable(c=>{let d=null;c?r.plugins.browsertab.openUrl(w):d=r.InAppBrowser.open(w,function xl(w=(0,T.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),s(d)})})}(O);return function bd(w,r,s){return Ru.apply(this,arguments)}(r,_,z)})()}_isIframeWebStorageSupported(r,s){throw new Error("Method not implemented.")}_originValidation(r){const s=r._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=function _d(w){return $i.apply(this,arguments)}(r)),this.originValidationPromises[s]}attachCallbackListeners(r,s){const{universalLinks:c,handleOpenURL:d,BuildInfo:p}=ml(),_=setTimeout((0,m.Z)(function*(){yield Yl(r),s.onEvent(Ql())}),500),C=function(){var X=(0,m.Z)(function*(ge){clearTimeout(_);const De=yield Yl(r);let Ve=null;De&&(null==ge?void 0:ge.url)&&(Ve=function uh(w,r){var s,c;const d=function Pu(w){const r=Lu(w),s=r.link?decodeURIComponent(r.link):void 0,c=Lu(s).link,d=r.deep_link_id?decodeURIComponent(r.deep_link_id):void 0;return Lu(d).link||d||c||s||w}(r);if(d.includes("/__/auth/callback")){const p=Lu(d),_=p.firebaseError?function ch(w){try{return JSON.parse(w)}catch(r){return null}}(decodeURIComponent(p.firebaseError)):null,C=null===(c=null===(s=null==_?void 0:_.code)||void 0===s?void 0:s.split("auth/"))||void 0===c?void 0:c[1],O=C?te(C):null;return O?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:O,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:d,postBody:null}}return null}(De,ge.url)),s.onEvent(Ve||Ql())});return function(De){return X.apply(this,arguments)}}();void 0!==c&&"function"==typeof c.subscribe&&c.subscribe(null,C);const O=d,z=`${p.packageName.toLowerCase()}://`;ml().handleOpenURL=function(){var X=(0,m.Z)(function*(ge){if(ge.toLowerCase().startsWith(z)&&C({url:ge}),"function"==typeof O)try{O(ge)}catch(De){console.error(De)}});return function(ge){return X.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ks,this._completeRedirectFn=Fr}_initialize(r){var s=this;return(0,m.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._initialize(r)})()}_openPopup(r,s,c,d){var p=this;return(0,m.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._openPopup(r,s,c,d)})()}_openRedirect(r,s,c,d){var p=this;return(0,m.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._openRedirect(r,s,c,d)})()}_isIframeWebStorageSupported(r,s){this.assertedUnderlyingResolver._isIframeWebStorageSupported(r,s)}_originValidation(r){return this.assertedUnderlyingResolver._originValidation(r)}get _shouldInitProactively(){return Uo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var r=this;return(0,m.Z)(function*(){if(r.underlyingResolver)return;const s=yield function In(){return no.apply(this,arguments)}();r.underlyingResolver=s?r.cordovaResolver:r.browserResolver})()}}function Ad(w){return w.unwrap()}function Ac(w){return bi(w)}function bi(w){const{_tokenResponse:r}=w instanceof T.ZR?w.customData:w;if(!r)return null;if(!(w instanceof T.ZR)&&"temporaryProof"in r&&"phoneNumber"in r)return xi.credentialFromResult(w);const s=r.providerId;if(!s||"password"===s)return null;let c;switch(s){case"google.com":c=Ka;break;case"facebook.com":c=_o;break;case"github.com":c=nc;break;case"twitter.com":c=Vi;break;default:const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:C,nonce:O}=r;return p||_||d||C?C?s.startsWith("saml.")?_a._create(s,C):Ur._fromParams({providerId:s,signInMethod:s,pendingToken:C,idToken:d,accessToken:p}):new Zo(s).credential({idToken:d,accessToken:p,rawNonce:O}):null}return w instanceof T.ZR?c.credentialFromError(w):c.credentialFromResult(w)}function vr(w,r){return r.catch(s=>{throw s instanceof T.ZR&&function of(w,r){var s;const c=null===(s=r.customData)||void 0===s?void 0:s._tokenResponse;if("auth/multi-factor-auth-required"===r.code)r.resolver=new Tn(w,function Bl(w,r){var s;const c=(0,T.m9)(w),d=r;return oe(r.customData.operationType,c,"argument-error"),oe(null===(s=d.customData._serverResponse)||void 0===s?void 0:s.mfaPendingCredential,c,"argument-error"),rl._fromError(c,d)}(w,r));else if(c){const d=bi(r),p=r;d&&(p.credential=d,p.tenantId=c.tenantId||void 0,p.email=c.email||void 0,p.phoneNumber=c.phoneNumber||void 0)}}(w,s),s}).then(s=>{const d=s.user;return{operationType:s.operationType,credential:Ac(s),additionalUserInfo:Pr(s),user:Wr.getOrCreate(d)}})}function Ra(w,r){return Id.apply(this,arguments)}function Id(){return(Id=(0,m.Z)(function*(w,r){const s=yield r;return{verificationId:s.verificationId,confirm:c=>vr(w,s.confirm(c))}})).apply(this,arguments)}class Tn{constructor(r,s){this.resolver=s,this.auth=function ss(w){return w.wrapped()}(r)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(r){return vr(Ad(this.auth),this.resolver.resolveSignIn(r))}}class Wr{constructor(r){this._delegate=r,this.multiFactor=function sc(w){const r=(0,T.m9)(w);return zi.has(r)||zi.set(r,ii._fromUser(r)),zi.get(r)}(r)}static getOrCreate(r){return Wr.USER_MAP.has(r)||Wr.USER_MAP.set(r,new Wr(r)),Wr.USER_MAP.get(r)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(r){return this._delegate.getIdTokenResult(r)}getIdToken(r){return this._delegate.getIdToken(r)}linkAndRetrieveDataWithCredential(r){return this.linkWithCredential(r)}linkWithCredential(r){var s=this;return(0,m.Z)(function*(){return vr(s.auth,Co(s._delegate,r))})()}linkWithPhoneNumber(r,s){var c=this;return(0,m.Z)(function*(){return Ra(c.auth,function ul(w,r,s){return pi.apply(this,arguments)}(c._delegate,r,s))})()}linkWithPopup(r){var s=this;return(0,m.Z)(function*(){return vr(s.auth,function Su(w,r,s){return Qs.apply(this,arguments)}(s._delegate,r,_i))})()}linkWithRedirect(r){var s=this;return(0,m.Z)(function*(){return yield Jl(pt(s.auth)),function Et(w,r,s){return function Vt(w,r,s){return gn.apply(this,arguments)}(w,r,s)}(s._delegate,r,_i)})()}reauthenticateAndRetrieveDataWithCredential(r){return this.reauthenticateWithCredential(r)}reauthenticateWithCredential(r){var s=this;return(0,m.Z)(function*(){return vr(s.auth,Ya(s._delegate,r))})()}reauthenticateWithPhoneNumber(r,s){return Ra(this.auth,function Gr(w,r,s){return Au.apply(this,arguments)}(this._delegate,r,s))}reauthenticateWithPopup(r){return vr(this.auth,function hl(w,r,s){return Ys.apply(this,arguments)}(this._delegate,r,_i))}reauthenticateWithRedirect(r){var s=this;return(0,m.Z)(function*(){return yield Jl(pt(s.auth)),function Ge(w,r,s){return function Ze(w,r,s){return mt.apply(this,arguments)}(w,r,s)}(s._delegate,r,_i)})()}sendEmailVerification(r){return function Gs(w,r){return tl.apply(this,arguments)}(this._delegate,r)}unlink(r){var s=this;return(0,m.Z)(function*(){return yield function Eo(w,r){return pu.apply(this,arguments)}(s._delegate,r),s})()}updateEmail(r){return function _u(w,r){return nl((0,T.m9)(w),r,null)}(this._delegate,r)}updatePassword(r){return function eh(w,r){return nl((0,T.m9)(w),null,r)}(this._delegate,r)}updatePhoneNumber(r){return function Iu(w,r){return cl.apply(this,arguments)}(this._delegate,r)}updateProfile(r){return function yu(w,r){return To.apply(this,arguments)}(this._delegate,r)}verifyBeforeUpdateEmail(r,s){return function Xc(w,r,s){return Ll.apply(this,arguments)}(this._delegate,r,s)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wr.USER_MAP=new WeakMap;const ro=oe;let ar=(()=>{class w{constructor(s,c){if(this.app=s,c.isInitialized())return this._delegate=c.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:d}=s.options;ro(d,"invalid-api-key",{appName:s.name}),ro(d,"invalid-api-key",{appName:s.name});const p="undefined"!=typeof window?_i:void 0;this._delegate=c.initialize({options:{persistence:_l(d,s.name),popupRedirectResolver:p}}),this._delegate._updateErrorMap(V),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(s){this._delegate.languageCode=s}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(s){this._delegate.tenantId=s}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(s,c){!function An(w,r,s){const c=pt(w);oe(c._canInitEmulator,c,"emulator-config-failed"),oe(/^https?:\/\//.test(r),c,"invalid-emulator-scheme");const d=!!(null==s?void 0:s.disableWarnings),p=ti(r),{host:_,port:C}=function Rr(w){const r=ti(w),s=/(\/\/)?([^?#/]+)/.exec(w.substr(r.length));if(!s)return{host:"",port:null};const c=s[2].split("@").pop()||"",d=/^(\[[^\]]+\])(:|$)/.exec(c);if(d){const p=d[1];return{host:p,port:Jt(c.substr(p.length+1))}}{const[p,_]=c.split(":");return{host:p,port:Jt(_)}}}(r);c.config.emulator={url:`${p}//${_}${null===C?"":`:${C}`}/`},c.settings.appVerificationDisabledForTesting=!0,c.emulatorConfig=Object.freeze({host:_,port:C,protocol:p.replace(":",""),options:Object.freeze({disableWarnings:d})}),d||function ci(){function w(){const r=document.createElement("p"),s=r.style;r.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",r.classList.add("firebase-emulator-warning"),document.body.appendChild(r)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,s,c)}applyActionCode(s){return function Qc(w,r){return ft.apply(this,arguments)}(this._delegate,s)}checkActionCode(s){return mn(this._delegate,s)}confirmPasswordReset(s,c){return function ic(w,r,s){return Pl.apply(this,arguments)}(this._delegate,s,c)}createUserWithEmailAndPassword(s,c){var d=this;return(0,m.Z)(function*(){return vr(d._delegate,function Ea(w,r,s){return di.apply(this,arguments)}(d._delegate,s,c))})()}fetchProvidersForEmail(s){return this.fetchSignInMethodsForEmail(s)}fetchSignInMethodsForEmail(s){return function Qo(w,r){return wr.apply(this,arguments)}(this._delegate,s)}isSignInWithEmailLink(s){return function Jc(w,r){const s=Vs.parseLink(r);return"EMAIL_SIGNIN"===(null==s?void 0:s.operation)}(0,s)}getRedirectResult(){var s=this;return(0,m.Z)(function*(){ro(en(),s._delegate,"operation-not-supported-in-this-environment");const c=yield function Mn(w,r){return Lr.apply(this,arguments)}(s._delegate,_i);return c?vr(s._delegate,Promise.resolve(c)):{credential:null,user:null}})()}addFrameworkForLogging(s){!function bc(w,r){pt(w)._logFramework(r)}(this._delegate,s)}onAuthStateChanged(s,c,d){const{next:p,error:_,complete:C}=la(s,c,d);return this._delegate.onAuthStateChanged(p,_,C)}onIdTokenChanged(s,c,d){const{next:p,error:_,complete:C}=la(s,c,d);return this._delegate.onIdTokenChanged(p,_,C)}sendSignInLinkToEmail(s,c){return function Io(w,r,s){return vu.apply(this,arguments)}(this._delegate,s,c)}sendPasswordResetEmail(s,c){return function mu(w,r,s){return Ja.apply(this,arguments)}(this._delegate,s,c||void 0)}setPersistence(s){var c=this;return(0,m.Z)(function*(){let d;switch(function nr(w,r){Cc(Object.values(xs).includes(r),w,"invalid-persistence-type"),(0,T.b$)()?Cc(r!==xs.SESSION,w,"unsupported-persistence-type"):(0,T.UG)()?Cc(r===xs.NONE,w,"unsupported-persistence-type"):Ec()?Cc(r===xs.NONE||r===xs.LOCAL&&(0,T.hl)(),w,"unsupported-persistence-type"):Cc(r===xs.NONE||yi(),w,"unsupported-persistence-type")}(c._delegate,s),s){case xs.SESSION:d=Ks;break;case xs.LOCAL:d=(yield ie(Ro)._isAvailable())?Ro:jr;break;case xs.NONE:d=pn;break;default:return me("argument-error",{appName:c._delegate.name})}return c._delegate.setPersistence(d)})()}signInAndRetrieveDataWithCredential(s){return this.signInWithCredential(s)}signInAnonymously(){return vr(this._delegate,function du(w){return wo.apply(this,arguments)}(this._delegate))}signInWithCredential(s){return vr(this._delegate,wa(this._delegate,s))}signInWithCustomToken(s){return vr(this._delegate,function Do(w,r){return es.apply(this,arguments)}(this._delegate,s))}signInWithEmailAndPassword(s,c){return vr(this._delegate,function ws(w,r,s){return wa((0,T.m9)(w),Ko.credential(r,s))}(this._delegate,s,c))}signInWithEmailLink(s,c){return vr(this._delegate,function Xa(w,r,s){return el.apply(this,arguments)}(this._delegate,s,c))}signInWithPhoneNumber(s,c){return Ra(this._delegate,function ud(w,r,s){return tr.apply(this,arguments)}(this._delegate,s,c))}signInWithPopup(s){var c=this;return(0,m.Z)(function*(){return ro(en(),c._delegate,"operation-not-supported-in-this-environment"),vr(c._delegate,function Tu(w,r,s){return uc.apply(this,arguments)}(c._delegate,s,_i))})()}signInWithRedirect(s){var c=this;return(0,m.Z)(function*(){return ro(en(),c._delegate,"operation-not-supported-in-this-environment"),yield Jl(c._delegate),function K(w,r,s){return function ce(w,r,s){return Se.apply(this,arguments)}(w,r,s)}(c._delegate,s,_i)})()}updateCurrentUser(s){return this._delegate.updateCurrentUser(s)}verifyPasswordResetCode(s){return function Pn(w,r){return zs.apply(this,arguments)}(this._delegate,s)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=xs,w})();function la(w,r,s){let c=w;"function"!=typeof w&&({next:c,error:r,complete:s}=w);const d=c;return{next:_=>d(_&&Wr.getOrCreate(_)),error:r,complete:s}}function _l(w,r){const s=function Bu(w,r){const s=is();if(!s)return[];const c=pr(Dd,w,r);switch(s.getItem(c)){case xs.NONE:return[pn];case xs.LOCAL:return[Ro,Ks];case xs.SESSION:return[Ks];default:return[]}}(w,r);if("undefined"!=typeof self&&!s.includes(Ro)&&s.push(Ro),"undefined"!=typeof window)for(const c of[jr,Ks])s.includes(c)||s.push(c);return s.includes(pn)||s.push(pn),s}class Ic{constructor(){this.providerId="phone",this._delegate=new xi(Ad(S.Z.auth()))}static credential(r,s){return xi.credential(r,s)}verifyPhoneNumber(r,s){return this._delegate.verifyPhoneNumber(r,s)}unwrap(){return this._delegate}}Ic.PHONE_SIGN_IN_METHOD=xi.PHONE_SIGN_IN_METHOD,Ic.PROVIDER_ID=xi.PROVIDER_ID;const fr=oe;class af{constructor(r,s,c=S.Z.app()){var d;fr(null===(d=c.options)||void 0===d?void 0:d.apiKey,"invalid-api-key",{appName:c.name}),this._delegate=new ld(r,s,c.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Dp(w){w.INTERNAL.registerComponent(new P.wA("auth-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),c=r.getProvider("auth");return new ar(s,c)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ko,FacebookAuthProvider:_o,GithubAuthProvider:nc,GoogleAuthProvider:Ka,OAuthProvider:Zo,SAMLAuthProvider:bs,PhoneAuthProvider:Ic,PhoneMultiFactorGenerator:wp,RecaptchaVerifier:af,TwitterAuthProvider:Vi,Auth:ar,AuthCredential:wn,Error:T.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.9")}(S.Z)},2729:(vt,de,Y)=>{!function(m,S,T,F,$){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.defaultClickHandler=function(U,H){var D=U.text,I=U.type,j=U.url,R=U.pos;if("url"===I||"link"===I){var x=D.match(/\[[^\[\]]+\](?:\[\])?$/);x&&U.altKey?("[]"===(D=x[0]).slice(-2)&&(D=D.slice(0,-2)),I="footref"):(U.ctrlKey||U.altKey)&&j&&window.open(j,"_blank")}if("todo"===I){var V=F.expandRange(H,R,"formatting-task"),q=V.from,G=V.to,re=H.getRange(q,G);H.replaceRange(re="[ ]"===re?"[x]":"[ ]",q,G)}if("footref"===I&&(U.ctrlKey||U.altKey)){var pe=D.slice(1,-1),fe=H.hmdReadLink(pe,R.line);fe&&(Z(H,fe.line,R),H.setCursor({line:fe.line,ch:0}))}};var U,Z=(U=null,function(I,j,R){var x=function D(I){if(-1==I.options.gutters.indexOf("HyperMD-goback"))return null;var R=document.createElement("div");R.className="HyperMD-goback-button",R.addEventListener("click",function(){I.setCursor(U.find()),I.clearGutter("HyperMD-goback"),U.clear(),U=null});var x=I.display.gutters.children;return R.style.width=(x=(x=x[x.length-1]).offsetLeft+x.offsetWidth)+"px",R.style.marginLeft=-x+"px",R}(I);!x||(x.innerHTML=R.line+1+"",function H(I,j){U&&(I.clearGutter("HyperMD-goback"),U.clear()),U=I.setBookmark(j)}(I,R),I.setGutterMarker(j,"HyperMD-goback",x))});S.defaultOption={enabled:!1,handler:null},S.suggestedOption={enabled:!0},F.suggestedEditorConfig.hmdClick=S.suggestedOption,T.defineOption("hmdClick",S.defaultOption,function(U,H){H&&"boolean"!=typeof H?"function"==typeof H&&(H={enabled:!0,handler:H}):H={enabled:!!H};var D=S.getAddon(U);for(var I in S.defaultOption)D[I]=I in H?H[I]:S.defaultOption[I]});var P=function U(H){var D=this;this.cm=H,this._mouseMove_keyDetect=function(j){var R=D.el,x=R.className,V=x,q="HyperMD-with-alt",G="HyperMD-with-ctrl";!j.altKey&&x.indexOf(q)>=0&&(V=x.replace(q,"")),!j.ctrlKey&&x.indexOf(G)>=0&&(V=x.replace(G,"")),!j.altKey&&!j.ctrlKey&&(D._KeyDetectorActive=!1,R.removeEventListener("mousemove",D._mouseMove_keyDetect,!1)),x!=V&&(R.className=V.trim())},this._keyDown=function(j){var R=j.keyCode||j.which,x="";17==R&&(x="HyperMD-with-ctrl"),18==R&&(x="HyperMD-with-alt");var V=D.el;x&&-1==V.className.indexOf(x)&&(V.className+=" "+x),D._KeyDetectorActive||(D._KeyDetectorActive=!0,D.el.addEventListener("mousemove",D._mouseMove_keyDetect,!1))},this._mouseUp=function(j){var R=D._cinfo;D.lineDiv.removeEventListener("mouseup",D._mouseUp,!1),!(Math.abs(j.clientX-R.clientX)>5||Math.abs(j.clientY-R.clientY)>5)&&("function"==typeof D.handler&&!1===D.handler(R,D.cm)||S.defaultClickHandler(R,D.cm))},this._mouseDown=function(j){var R=j.button,x=j.clientX,V=j.clientY,q=j.ctrlKey,G=j.altKey,re=j.shiftKey,pe=D.cm;if("PRE"!==j.target.tagName){var me,ae,k,he,fe=pe.coordsChar({left:x,top:V},"window"),te=pe.getTokenAt(fe),ye=te.state,xe=" "+te.type+" ",oe=null;if(ae=xe.match(/\s(image|link|url)\s/)){oe=ae[1];var Ce=/\shmd-barelink\s/.test(xe);if(ye.linkText?(me=F.expandRange(pe,fe,function(Re){return Re.state.linkText||/(?:\s|^)link(?:\s|$)/.test(Re.type)}),oe="link"):me=F.expandRange(pe,fe,oe),/^(?:image|link)$/.test(oe)&&!Ce){var ie=F.expandRange(pe,{line:fe.line,ch:me.to.ch+1},"url");ie&&(me.to=ie.to)}var ue=void 0;if(")"===(k=pe.getRange(me.from,me.to).trim()).slice(-1)&&-1!==(ue=k.lastIndexOf("](")))he=$.splitLink(k.slice(ue+2,-1)).url;else if((ae=k.match(/[^\\]\]\s?\[([^\]]+)\]$/))||(ae=k.match(/^\[(.+)\]\s?\[\]$/))||(ae=k.match(/^\[(.+)\](?:\:\s*)?$/))){Ce&&"^"===ae[1].charAt(0)&&(oe="footref");var W=pe.hmdReadLink(ae[1],fe.line);he=W?$.splitLink(W.content).url:null}else((ae=k.match(/^\<(.+)\>$/))||(ae=k.match(/^\((.+)\)$/))||(ae=[null,k]))&&(he=ae[1]);he=pe.hmdResolveURL(he)}else xe.match(/\sformatting-task\s/)?(oe="todo",(me=F.expandRange(pe,fe,"formatting-task")).to.ch=pe.getLine(fe.line).length,k=pe.getRange(me.from,me.to),he=null):xe.match(/\shashtag/)&&(oe="hashtag",me=F.expandRange(pe,fe,"hashtag"),k=pe.getRange(me.from,me.to),he=null);null!==oe&&(D._cinfo={type:oe,text:k,url:he,pos:fe,button:R,clientX:x,clientY:V,ctrlKey:q,altKey:G,shiftKey:re},D.lineDiv.addEventListener("mouseup",D._mouseUp,!1))}},this.lineDiv=H.display.lineDiv;var I=this.el=H.getWrapperElement();new F.FlipFlop(function(){D.lineDiv.addEventListener("mousedown",D._mouseDown,!1),I.addEventListener("keydown",D._keyDown,!1)},function(){D.lineDiv.removeEventListener("mousedown",D._mouseDown,!1),I.removeEventListener("keydown",D._keyDown,!1)}).bind(this,"enabled",!0)};S.Click=P,S.getAddon=F.Addon.Getter("Click",P,S.defaultOption)}(0,de,Y(8266),Y(1415),Y(9127))},3443:(vt,de,Y)=>{!function(m,S,T,F){"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.defaultOption={enabled:!1},S.suggestedOption={enabled:!0},F.suggestedEditorConfig.hmdCursorDebounce=S.suggestedOption,T.defineOption("hmdCursorDebounce",S.defaultOption,function(U,H){(!H||"boolean"==typeof H)&&(H={enabled:!!H});var D=S.getAddon(U);for(var I in S.defaultOption)D[I]=I in H?H[I]:S.defaultOption[I]});var P=function U(H){var D=this;this.cm=H,this.mouseDownHandler=function(I,j){D.lastX=j.clientX,D.lastY=j.clientY;var R=D.mouseMoveSuppress;document.addEventListener("mousemove",R,!0),D.lastTimeout&&clearTimeout(D.lastTimeout),D.lastTimeout=setTimeout(function(){document.removeEventListener("mousemove",R,!0),D.lastTimeout=null},100)},this.mouseMoveSuppress=function(I){Math.abs(I.clientX-D.lastX)<=5&&Math.abs(I.clientY-D.lastY)<=5&&I.stopPropagation()},new F.FlipFlop(function(){H.on("mousedown",D.mouseDownHandler)},function(){H.off("mousedown",D.mouseDownHandler)}).bind(this,"enabled",!0)};S.CursorDebounce=P,S.getAddon=F.Addon.Getter("CursorDebounce",P,S.defaultOption)}(0,de,Y(8266),Y(1415))},6017:(vt,de,Y)=>{!function(m,S,T,F,$){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.rendererRegistry={},S.registerRenderer=function Z(j,R){if(j&&j.name&&j.renderer){var x=j.name,V=j.pattern,q=S.rendererRegistry;if(x in q&&!R)throw new Error("CodeRenderer "+x+" already exists");if("string"==typeof V){var G=V.toLowerCase();V=function(pe){return pe.toLowerCase()===G}}else V instanceof RegExp&&(V=function(pe){return j.pattern.test(pe)});var re={name:x,suggested:!!j.suggested,pattern:V,renderer:j.renderer};q[x]=re,S.defaultOption[x]=!1,S.suggestedOption[x]=re.suggested}},S.CodeFolder=function(j,R){return 0===R.start&&R.type&&-1!==R.type.indexOf("HyperMD-codeblock-begin")&&/[-\w]+\s*$/.test(R.string)?S.getAddon(j.cm).fold(j,R):null},$.registerFolder("code",S.CodeFolder,!0),S.defaultOption={},S.suggestedOption={},F.suggestedEditorConfig.hmdFoldCode=S.suggestedOption,T.defineOption("hmdFoldCode",S.defaultOption,function(j,R){(!R||"boolean"==typeof R)&&(R=R?S.suggestedOption:S.defaultOption);var x=S.getAddon(j);for(var V in S.rendererRegistry)x.setStatus(V,R[V])});var P=function(){function j(R){this.cm=R,this._enabled={},this.folded={}}return j.prototype.setStatus=function(R,x){R in S.rendererRegistry&&!this._enabled[R]!=!x&&(this._enabled[R]=!!x,x?$.getAddon(this.cm).startFold():this.clear(R))},j.prototype.clear=function(R){var x=this.folded[R];if(x&&x.length)for(var V;V=x.pop();)V.marker.clear()},j.prototype.fold=function(R,x){var V=this;if(0!==x.start||!x.type||-1===x.type.indexOf("HyperMD-codeblock-begin"))return null;var q=/([-\w]+)\s*$/.exec(x.string),G=q&&q[1].toLowerCase();if(!G)return null;var re,pe,fe=this.cm,me=S.rendererRegistry,te=this._enabled;for(var ye in me){var xe=me[ye];if(te[ye]&&xe.pattern(G)){pe=ye,re=xe.renderer;break}}if(!pe)return null;var ae={line:R.lineNo,ch:0},oe=null,k=fe.lastLine(),he=R.lineNo+1;do{var Ce=fe.getTokenAt({line:he,ch:1});if(Ce&&Ce.type&&-1!==Ce.type.indexOf("HyperMD-codeblock-end")){oe={line:he,ch:Ce.end};break}}while(++he<k);if(!oe)return null;if(R.requestRange(ae,oe)!==$.RequestRangeResult.OK)return null;var ue=fe.getRange({line:ae.line+1,ch:0},{line:oe.line,ch:0}),W={editor:fe,lang:G,marker:null,lineWidget:null,el:null,break:I,changed:I},Re=W.el=re(ue,W);if(!Re)return W.marker.clear(),null;var Ie=document.createElement("div");Ie.className=U+pe,Ie.style.minHeight="1em",Ie.appendChild(Re);var se=W.lineWidget=fe.addLineWidget(oe.line,Ie,{above:!1,coverGutter:!1,noHScroll:!1,showIfHidden:!1}),Ee=document.createElement("span");Ee.className=H+pe,Ee.textContent="<CODE>";var Q=W.marker=fe.markText(ae,oe,{replacedWith:Ee});return Ie.addEventListener("mouseenter",function(){return Ee.className=D+pe},!1),Ie.addEventListener("mouseleave",function(){return Ee.className=H+pe},!1),W.changed=function(){se.changed()},W.break=function(){$.breakMark(fe,Q)},Ee.addEventListener("click",W.break,!1),Q.on("clear",function(){var Oe,ke=V.folded[pe];ke&&-1!==(Oe=ke.indexOf(W))&&ke.splice(Oe,1),"function"==typeof W.onRemove&&W.onRemove(W),se.clear()}),pe in this.folded?this.folded[pe].push(W):this.folded[pe]=[W],Q},j}();S.FoldCode=P;var U="hmd-fold-code-content hmd-fold-code-",H="hmd-fold-code-stub hmd-fold-code-",D="hmd-fold-code-stub highlight hmd-fold-code-",I=function(){};S.getAddon=F.Addon.Getter("FoldCode",P,S.defaultOption)}(0,de,Y(8266),Y(1415),Y(5413))},9329:(vt,de,Y)=>{!function(m,S,T,F,$){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.defaultDict={},S.defaultChecker=function(P){return P in S.defaultDict},S.defaultRenderer=function(P){var U=document.createElement("span");return U.textContent=S.defaultDict[P],U.title=P,U},S.EmojiFolder=function(P,U){if(!U.type||!/ formatting-emoji/.test(U.type))return null;var D={line:P.lineNo,ch:U.start},I={line:P.lineNo,ch:U.end},j=U.string,R=S.getAddon(P.cm);return R.isEmoji(j)?P.requestRange(D,I)!==$.RequestRangeResult.OK?null:R.foldEmoji(j,D,I):null},$.registerFolder("emoji",S.EmojiFolder,!0),S.defaultOption={myEmoji:{},emojiRenderer:S.defaultRenderer,emojiChecker:S.defaultChecker},S.suggestedOption={},F.suggestedEditorConfig.hmdFoldEmoji=S.suggestedOption,T.defineOption("hmdFoldEmoji",S.defaultOption,function(P,U){U||(U={});var H=S.getAddon(P);for(var D in S.defaultOption)H[D]=D in U?U[D]:S.defaultOption[D]});var Z=function(){function P(U){this.cm=U}return P.prototype.isEmoji=function(U){return U in this.myEmoji||this.emojiChecker(U)},P.prototype.foldEmoji=function(U,H,D){var I=this.cm,j=U in this.myEmoji&&this.myEmoji[U](U)||this.emojiRenderer(U);if(!j||!j.tagName)return null;-1===j.className.indexOf("hmd-emoji")&&(j.className+=" hmd-emoji");var R=I.markText(H,D,{replacedWith:j});return j.addEventListener("click",$.breakMark.bind(this,I,R,1),!1),"img"===j.tagName.toLowerCase()&&(j.addEventListener("load",function(){return R.changed()},!1),j.addEventListener("dragstart",function(x){return x.preventDefault()},!1)),R},P}();S.FoldEmoji=Z,S.getAddon=F.Addon.Getter("FoldEmoji",Z,S.defaultOption),function(P){for(var D,U=["smile:\u{1f604};laughing:\u{1f606};blush:\u{1f60a};smiley:\u{1f603};relaxed:\u263a\ufe0f;smirk:\u{1f60f};heart_eyes:\u{1f60d};kissing_heart:\u{1f618};kissing_closed_eyes:\u{1f61a};flushed:\u{1f633};relieved:\u{1f60c};satisfied:\u{1f606};grin:\u{1f601};wink:\u{1f609};stuck_out_tongue_winking_eye:\u{1f61c};stuck_out_tongue_closed_eyes:\u{1f61d};grinning:\u{1f600};kissing:\u{1f617};kissing_smiling_eyes:\u{1f619};stuck_out_tongue:\u{1f61b};sleeping:\u{1f634};worried:\u{1f61f};frowning:\u{1f626};anguished:\u{1f627};open_mouth:\u{1f62e};grimacing:\u{1f62c};confused:\u{1f615};hushed:\u{1f62f};expressionless:\u{1f611};unamused:\u{1f612};sweat_smile:\u{1f605};sweat:\u{1f613};disappointed_relieved:\u{1f625};weary:\u{1f629};pensive:\u{1f614};disappointed:\u{1f61e};confounded:\u{1f616};fearful:\u{1f628};cold_sweat:\u{1f630};persevere:\u{1f623};cry:\u{1f622};sob:\u{1f62d};joy:\u{1f602};astonished:\u{1f632};scream:\u{1f631};tired_face:\u{1f62b};angry:\u{1f620};rage:\u{1f621};triumph:\u{1f624};sleepy:\u{1f62a};yum:\u{1f60b};mask:\u{1f637};sunglasses:\u{1f60e};dizzy_face:\u{1f635};imp:\u{1f47f};smiling_imp:\u{1f608};neutral_face:\u{1f610};no_mouth:\u{1f636};innocent:\u{1f607};alien:\u{1f47d};yellow_heart:\u{1f49b};blue_heart:\u{1f499};purple_heart:\u{1f49c};heart:\u2764\ufe0f;green_heart:\u{1f49a};broken_heart:\u{1f494};heartbeat:\u{1f493};heartpulse:\u{1f497};two_hearts:\u{1f495};revolving_hearts:\u{1f49e};cupid:\u{1f498};sparkling_heart:\u{1f496};sparkles:\u2728;star:\u2b50\ufe0f;star2:\u{1f31f};dizzy:\u{1f4ab};boom:\u{1f4a5};collision:\u{1f4a5};anger:\u{1f4a2};exclamation:\u2757\ufe0f;question:\u2753;grey_exclamation:\u2755;grey_question:\u2754;zzz:\u{1f4a4};dash:\u{1f4a8};sweat_drops:\u{1f4a6};notes:\u{1f3b6};musical_note:\u{1f3b5};fire:\u{1f525};hankey:\u{1f4a9};poop:\u{1f4a9};shit:\u{1f4a9};","+1:\u{1f44d};thumbsup:\u{1f44d};-1:\u{1f44e};thumbsdown:\u{1f44e};ok_hand:\u{1f44c};punch:\u{1f44a};facepunch:\u{1f44a};fist:\u270a;v:\u270c\ufe0f;wave:\u{1f44b};hand:\u270b;raised_hand:\u270b;open_hands:\u{1f450};point_up:\u261d\ufe0f;point_down:\u{1f447};point_left:\u{1f448};point_right:\u{1f449};raised_hands:\u{1f64c};pray:\u{1f64f};point_up_2:\u{1f446};clap:\u{1f44f};muscle:\u{1f4aa};metal:\u{1f918};fu:\u{1f595};walking:\u{1f6b6};runner:\u{1f3c3};running:\u{1f3c3};couple:\u{1f46b};family:\u{1f46a};two_men_holding_hands:\u{1f46c};two_women_holding_hands:\u{1f46d};dancer:\u{1f483};dancers:\u{1f46f};ok_woman:\u{1f646};no_good:\u{1f645};information_desk_person:\u{1f481};raising_hand:\u{1f64b};bride_with_veil:\u{1f470};person_with_pouting_face:\u{1f64e};person_frowning:\u{1f64d};bow:\u{1f647};couplekiss::couplekiss:;couple_with_heart:\u{1f491};massage:\u{1f486};haircut:\u{1f487};nail_care:\u{1f485};boy:\u{1f466};girl:\u{1f467};woman:\u{1f469};man:\u{1f468};baby:\u{1f476};older_woman:\u{1f475};older_man:\u{1f474};person_with_blond_hair:\u{1f471};man_with_gua_pi_mao:\u{1f472};man_with_turban:\u{1f473};construction_worker:\u{1f477};cop:\u{1f46e};angel:\u{1f47c};princess:\u{1f478};smiley_cat:\u{1f63a};smile_cat:\u{1f638};heart_eyes_cat:\u{1f63b};kissing_cat:\u{1f63d};smirk_cat:\u{1f63c};scream_cat:\u{1f640};crying_cat_face:\u{1f63f};joy_cat:\u{1f639};pouting_cat:\u{1f63e};japanese_ogre:\u{1f479};japanese_goblin:\u{1f47a};see_no_evil:\u{1f648};hear_no_evil:\u{1f649};speak_no_evil:\u{1f64a};guardsman:\u{1f482};skull:\u{1f480};feet:\u{1f43e};lips:\u{1f444};kiss:\u{1f48b};droplet:\u{1f4a7};ear:\u{1f442};eyes:\u{1f440};nose:\u{1f443};tongue:\u{1f445};love_letter:\u{1f48c};bust_in_silhouette:\u{1f464};busts_in_silhouette:\u{1f465};speech_balloon:\u{1f4ac};","thought_balloon:\u{1f4ad};sunny:\u2600\ufe0f;umbrella:\u2614\ufe0f;cloud:\u2601\ufe0f;snowflake:\u2744\ufe0f;snowman:\u26c4\ufe0f;zap:\u26a1\ufe0f;cyclone:\u{1f300};foggy:\u{1f301};ocean:\u{1f30a};cat:\u{1f431};dog:\u{1f436};mouse:\u{1f42d};hamster:\u{1f439};rabbit:\u{1f430};wolf:\u{1f43a};frog:\u{1f438};tiger:\u{1f42f};koala:\u{1f428};bear:\u{1f43b};pig:\u{1f437};pig_nose:\u{1f43d};cow:\u{1f42e};boar:\u{1f417};monkey_face:\u{1f435};monkey:\u{1f412};horse:\u{1f434};racehorse:\u{1f40e};camel:\u{1f42b};sheep:\u{1f411};elephant:\u{1f418};panda_face:\u{1f43c};snake:\u{1f40d};bird:\u{1f426};baby_chick:\u{1f424};hatched_chick:\u{1f425};hatching_chick:\u{1f423};chicken:\u{1f414};penguin:\u{1f427};turtle:\u{1f422};bug:\u{1f41b};honeybee:\u{1f41d};ant:\u{1f41c};beetle:\u{1f41e};snail:\u{1f40c};octopus:\u{1f419};tropical_fish:\u{1f420};fish:\u{1f41f};whale:\u{1f433};whale2:\u{1f40b};dolphin:\u{1f42c};cow2:\u{1f404};ram:\u{1f40f};rat:\u{1f400};water_buffalo:\u{1f403};tiger2:\u{1f405};rabbit2:\u{1f407};dragon:\u{1f409};goat:\u{1f410};rooster:\u{1f413};dog2:\u{1f415};pig2:\u{1f416};mouse2:\u{1f401};ox:\u{1f402};dragon_face:\u{1f432};blowfish:\u{1f421};crocodile:\u{1f40a};dromedary_camel:\u{1f42a};leopard:\u{1f406};cat2:\u{1f408};poodle:\u{1f429};paw_prints:\u{1f43e};bouquet:\u{1f490};cherry_blossom:\u{1f338};tulip:\u{1f337};four_leaf_clover:\u{1f340};rose:\u{1f339};sunflower:\u{1f33b};hibiscus:\u{1f33a};maple_leaf:\u{1f341};leaves:\u{1f343};fallen_leaf:\u{1f342};herb:\u{1f33f};mushroom:\u{1f344};cactus:\u{1f335};palm_tree:\u{1f334};evergreen_tree:\u{1f332};deciduous_tree:\u{1f333};chestnut:\u{1f330};seedling:\u{1f331};blossom:\u{1f33c};ear_of_rice:\u{1f33e};shell:\u{1f41a};globe_with_meridians:\u{1f310};sun_with_face:\u{1f31e};full_moon_with_face:\u{1f31d};new_moon_with_face:\u{1f31a};new_moon:\u{1f311};waxing_crescent_moon:\u{1f312};first_quarter_moon:\u{1f313};waxing_gibbous_moon:\u{1f314};full_moon:\u{1f315};waning_gibbous_moon:\u{1f316};last_quarter_moon:\u{1f317};waning_crescent_moon:\u{1f318};last_quarter_moon_with_face:\u{1f31c};","first_quarter_moon_with_face:\u{1f31b};moon:\u{1f314};earth_africa:\u{1f30d};earth_americas:\u{1f30e};earth_asia:\u{1f30f};volcano:\u{1f30b};milky_way:\u{1f30c};partly_sunny:\u26c5\ufe0f;bamboo:\u{1f38d};gift_heart:\u{1f49d};dolls:\u{1f38e};school_satchel:\u{1f392};mortar_board:\u{1f393};flags:\u{1f38f};fireworks:\u{1f386};sparkler:\u{1f387};wind_chime:\u{1f390};rice_scene:\u{1f391};jack_o_lantern:\u{1f383};ghost:\u{1f47b};santa:\u{1f385};christmas_tree:\u{1f384};gift:\u{1f381};bell:\u{1f514};no_bell:\u{1f515};tanabata_tree:\u{1f38b};tada:\u{1f389};confetti_ball:\u{1f38a};balloon:\u{1f388};crystal_ball:\u{1f52e};cd:\u{1f4bf};dvd:\u{1f4c0};floppy_disk:\u{1f4be};camera:\u{1f4f7};video_camera:\u{1f4f9};movie_camera:\u{1f3a5};computer:\u{1f4bb};tv:\u{1f4fa};iphone:\u{1f4f1};phone:\u260e\ufe0f;telephone:\u260e\ufe0f;telephone_receiver:\u{1f4de};pager:\u{1f4df};fax:\u{1f4e0};minidisc:\u{1f4bd};vhs:\u{1f4fc};sound:\u{1f509};speaker:\u{1f508};mute:\u{1f507};loudspeaker:\u{1f4e2};mega:\u{1f4e3};hourglass:\u231b\ufe0f;hourglass_flowing_sand:\u23f3;alarm_clock:\u23f0;watch:\u231a\ufe0f;radio:\u{1f4fb};satellite:\u{1f4e1};loop:\u27bf;mag:\u{1f50d};mag_right:\u{1f50e};unlock:\u{1f513};lock:\u{1f512};lock_with_ink_pen:\u{1f50f};closed_lock_with_key:\u{1f510};key:\u{1f511};bulb:\u{1f4a1};flashlight:\u{1f526};high_brightness:\u{1f506};low_brightness:\u{1f505};electric_plug:\u{1f50c};battery:\u{1f50b};calling:\u{1f4f2};email:\u2709\ufe0f;mailbox:\u{1f4eb};postbox:\u{1f4ee};bath:\u{1f6c0};bathtub:\u{1f6c1};shower:\u{1f6bf};toilet:\u{1f6bd};wrench:\u{1f527};nut_and_bolt:\u{1f529};hammer:\u{1f528};seat:\u{1f4ba};moneybag:\u{1f4b0};yen:\u{1f4b4};dollar:\u{1f4b5};pound:\u{1f4b7};euro:\u{1f4b6};","credit_card:\u{1f4b3};money_with_wings:\u{1f4b8};e-mail:\u{1f4e7};inbox_tray:\u{1f4e5};outbox_tray:\u{1f4e4};envelope:\u2709\ufe0f;incoming_envelope:\u{1f4e8};postal_horn:\u{1f4ef};mailbox_closed:\u{1f4ea};mailbox_with_mail:\u{1f4ec};mailbox_with_no_mail:\u{1f4ed};door:\u{1f6aa};smoking:\u{1f6ac};bomb:\u{1f4a3};gun:\u{1f52b};hocho:\u{1f52a};pill:\u{1f48a};syringe:\u{1f489};page_facing_up:\u{1f4c4};page_with_curl:\u{1f4c3};bookmark_tabs:\u{1f4d1};bar_chart:\u{1f4ca};chart_with_upwards_trend:\u{1f4c8};chart_with_downwards_trend:\u{1f4c9};scroll:\u{1f4dc};clipboard:\u{1f4cb};calendar:\u{1f4c6};date:\u{1f4c5};card_index:\u{1f4c7};file_folder:\u{1f4c1};open_file_folder:\u{1f4c2};scissors:\u2702\ufe0f;pushpin:\u{1f4cc};paperclip:\u{1f4ce};black_nib:\u2712\ufe0f;pencil2:\u270f\ufe0f;straight_ruler:\u{1f4cf};triangular_ruler:\u{1f4d0};closed_book:\u{1f4d5};green_book:\u{1f4d7};blue_book:\u{1f4d8};orange_book:\u{1f4d9};notebook:\u{1f4d3};notebook_with_decorative_cover:\u{1f4d4};ledger:\u{1f4d2};books:\u{1f4da};bookmark:\u{1f516};name_badge:\u{1f4db};microscope:\u{1f52c};telescope:\u{1f52d};newspaper:\u{1f4f0};football:\u{1f3c8};basketball:\u{1f3c0};soccer:\u26bd\ufe0f;baseball:\u26be\ufe0f;tennis:\u{1f3be};8ball:\u{1f3b1};","rugby_football:\u{1f3c9};bowling:\u{1f3b3};golf:\u26f3\ufe0f;mountain_bicyclist:\u{1f6b5};bicyclist:\u{1f6b4};horse_racing:\u{1f3c7};snowboarder:\u{1f3c2};swimmer:\u{1f3ca};surfer:\u{1f3c4};ski:\u{1f3bf};spades:\u2660\ufe0f;hearts:\u2665\ufe0f;clubs:\u2663\ufe0f;diamonds:\u2666\ufe0f;gem:\u{1f48e};ring:\u{1f48d};trophy:\u{1f3c6};musical_score:\u{1f3bc};musical_keyboard:\u{1f3b9};violin:\u{1f3bb};space_invader:\u{1f47e};video_game:\u{1f3ae};black_joker:\u{1f0cf};flower_playing_cards:\u{1f3b4};game_die:\u{1f3b2};dart:\u{1f3af};mahjong:\u{1f004}\ufe0f;clapper:\u{1f3ac};memo:\u{1f4dd};pencil:\u{1f4dd};book:\u{1f4d6};art:\u{1f3a8};microphone:\u{1f3a4};headphones:\u{1f3a7};trumpet:\u{1f3ba};saxophone:\u{1f3b7};guitar:\u{1f3b8};shoe:\u{1f45e};sandal:\u{1f461};high_heel:\u{1f460};lipstick:\u{1f484};boot:\u{1f462};shirt:\u{1f455};tshirt:\u{1f455};necktie:\u{1f454};womans_clothes:\u{1f45a};dress:\u{1f457};running_shirt_with_sash:\u{1f3bd};jeans:\u{1f456};kimono:\u{1f458};bikini:\u{1f459};ribbon:\u{1f380};tophat:\u{1f3a9};crown:\u{1f451};womans_hat:\u{1f452};mans_shoe:\u{1f45e};closed_umbrella:\u{1f302};briefcase:\u{1f4bc};handbag:\u{1f45c};pouch:\u{1f45d};purse:\u{1f45b};eyeglasses:\u{1f453};fishing_pole_and_fish:\u{1f3a3};coffee:\u2615\ufe0f;tea:\u{1f375};sake:\u{1f376};baby_bottle:\u{1f37c};beer:\u{1f37a};beers:\u{1f37b};cocktail:\u{1f378};tropical_drink:\u{1f379};wine_glass:\u{1f377};fork_and_knife:\u{1f374};pizza:\u{1f355};hamburger:\u{1f354};fries:\u{1f35f};poultry_leg:\u{1f357};meat_on_bone:\u{1f356};spaghetti:\u{1f35d};curry:\u{1f35b};fried_shrimp:\u{1f364};bento:\u{1f371};sushi:\u{1f363};fish_cake:\u{1f365};rice_ball:\u{1f359};rice_cracker:\u{1f358};rice:\u{1f35a};","ramen:\u{1f35c};stew:\u{1f372};oden:\u{1f362};dango:\u{1f361};egg:\u{1f95a};bread:\u{1f35e};doughnut:\u{1f369};custard:\u{1f36e};icecream:\u{1f366};ice_cream:\u{1f368};shaved_ice:\u{1f367};birthday:\u{1f382};cake:\u{1f370};cookie:\u{1f36a};chocolate_bar:\u{1f36b};candy:\u{1f36c};lollipop:\u{1f36d};honey_pot:\u{1f36f};apple:\u{1f34e};green_apple:\u{1f34f};tangerine:\u{1f34a};lemon:\u{1f34b};cherries:\u{1f352};grapes:\u{1f347};watermelon:\u{1f349};strawberry:\u{1f353};peach:\u{1f351};melon:\u{1f348};banana:\u{1f34c};pear:\u{1f350};pineapple:\u{1f34d};sweet_potato:\u{1f360};eggplant:\u{1f346};tomato:\u{1f345};corn:\u{1f33d};house:\u{1f3e0};house_with_garden:\u{1f3e1};school:\u{1f3eb};office:\u{1f3e2};post_office:\u{1f3e3};hospital:\u{1f3e5};bank:\u{1f3e6};convenience_store:\u{1f3ea};love_hotel:\u{1f3e9};hotel:\u{1f3e8};wedding:\u{1f492};church:\u26ea\ufe0f;department_store:\u{1f3ec};european_post_office:\u{1f3e4};city_sunrise:\u{1f307};city_sunset:\u{1f306};japanese_castle:\u{1f3ef};european_castle:\u{1f3f0};tent:\u26fa\ufe0f;factory:\u{1f3ed};tokyo_tower:\u{1f5fc};japan:\u{1f5fe};mount_fuji:\u{1f5fb};sunrise_over_mountains:\u{1f304};sunrise:\u{1f305};stars:\u{1f320};statue_of_liberty:\u{1f5fd};bridge_at_night:\u{1f309};carousel_horse:\u{1f3a0};rainbow:\u{1f308};ferris_wheel:\u{1f3a1};fountain:\u26f2\ufe0f;roller_coaster:\u{1f3a2};ship:\u{1f6a2};speedboat:\u{1f6a4};boat:\u26f5\ufe0f;sailboat:\u26f5\ufe0f;rowboat:\u{1f6a3};anchor:\u2693\ufe0f;rocket:\u{1f680};airplane:\u2708\ufe0f;helicopter:\u{1f681};steam_locomotive:\u{1f682};tram:\u{1f68a};mountain_railway:\u{1f69e};bike:\u{1f6b2};aerial_tramway:\u{1f6a1};suspension_railway:\u{1f69f};","mountain_cableway:\u{1f6a0};tractor:\u{1f69c};blue_car:\u{1f699};oncoming_automobile:\u{1f698};car:\u{1f697};red_car:\u{1f697};taxi:\u{1f695};oncoming_taxi:\u{1f696};articulated_lorry:\u{1f69b};bus:\u{1f68c};oncoming_bus:\u{1f68d};rotating_light:\u{1f6a8};police_car:\u{1f693};oncoming_police_car:\u{1f694};fire_engine:\u{1f692};ambulance:\u{1f691};minibus:\u{1f690};truck:\u{1f69a};train:\u{1f68b};station:\u{1f689};train2:\u{1f686};bullettrain_front:\u{1f685};bullettrain_side:\u{1f684};light_rail:\u{1f688};monorail:\u{1f69d};railway_car:\u{1f683};trolleybus:\u{1f68e};ticket:\u{1f3ab};fuelpump:\u26fd\ufe0f;vertical_traffic_light:\u{1f6a6};traffic_light:\u{1f6a5};warning:\u26a0\ufe0f;construction:\u{1f6a7};beginner:\u{1f530};atm:\u{1f3e7};slot_machine:\u{1f3b0};busstop:\u{1f68f};barber:\u{1f488};hotsprings:\u2668\ufe0f;checkered_flag:\u{1f3c1};crossed_flags:\u{1f38c};izakaya_lantern:\u{1f3ee};moyai:\u{1f5ff};circus_tent:\u{1f3aa};performing_arts:\u{1f3ad};round_pushpin:\u{1f4cd};triangular_flag_on_post:\u{1f6a9};jp:\u{1f1ef}\u{1f1f5};kr:\u{1f1f0}\u{1f1f7};cn:\u{1f1e8}\u{1f1f3};us:\u{1f1fa}\u{1f1f8};fr:\u{1f1eb}\u{1f1f7};es:\u{1f1ea}\u{1f1f8};it:\u{1f1ee}\u{1f1f9};ru:\u{1f1f7}\u{1f1fa};gb:\u{1f1ec}\u{1f1e7};uk:\u{1f1ec}\u{1f1e7};de:\u{1f1e9}\u{1f1ea};one:1\ufe0f\u20e3;two:2\ufe0f\u20e3;three:3\ufe0f\u20e3;four:4\ufe0f\u20e3;five:5\ufe0f\u20e3;six:6\ufe0f\u20e3;seven:7\ufe0f\u20e3;eight:8\ufe0f\u20e3;nine:9\ufe0f\u20e3;keycap_ten:\u{1f51f};","1234:\u{1f522};zero:0\ufe0f\u20e3;hash:#\ufe0f\u20e3;symbols:\u{1f523};arrow_backward:\u25c0\ufe0f;arrow_down:\u2b07\ufe0f;arrow_forward:\u25b6\ufe0f;arrow_left:\u2b05\ufe0f;capital_abcd:\u{1f520};abcd:\u{1f521};abc:\u{1f524};arrow_lower_left:\u2199\ufe0f;arrow_lower_right:\u2198\ufe0f;arrow_right:\u27a1\ufe0f;arrow_up:\u2b06\ufe0f;arrow_upper_left:\u2196\ufe0f;arrow_upper_right:\u2197\ufe0f;arrow_double_down:\u23ec;arrow_double_up:\u23eb;arrow_down_small:\u{1f53d};arrow_heading_down:\u2935\ufe0f;arrow_heading_up:\u2934\ufe0f;leftwards_arrow_with_hook:\u21a9\ufe0f;arrow_right_hook:\u21aa\ufe0f;left_right_arrow:\u2194\ufe0f;arrow_up_down:\u2195\ufe0f;arrow_up_small:\u{1f53c};arrows_clockwise:\u{1f503};arrows_counterclockwise:\u{1f504};rewind:\u23ea;fast_forward:\u23e9;information_source:\u2139\ufe0f;ok:\u{1f197};twisted_rightwards_arrows:\u{1f500};repeat:\u{1f501};repeat_one:\u{1f502};new:\u{1f195};top:\u{1f51d};up:\u{1f199};cool:\u{1f192};free:\u{1f193};ng:\u{1f196};cinema:\u{1f3a6};koko:\u{1f201};signal_strength:\u{1f4f6};u5272:\u{1f239};u5408:\u{1f234};u55b6:\u{1f23a};u6307:\u{1f22f}\ufe0f;u6708:\u{1f237}\ufe0f;u6709:\u{1f236};u6e80:\u{1f235};u7121:\u{1f21a}\ufe0f;u7533:\u{1f238};u7a7a:\u{1f233};u7981:\u{1f232};sa:\u{1f202}\ufe0f;restroom:\u{1f6bb};mens:\u{1f6b9};womens:\u{1f6ba};baby_symbol:\u{1f6bc};no_smoking:\u{1f6ad};","parking:\u{1f17f}\ufe0f;wheelchair:\u267f\ufe0f;metro:\u{1f687};baggage_claim:\u{1f6c4};accept:\u{1f251};wc:\u{1f6be};potable_water:\u{1f6b0};put_litter_in_its_place:\u{1f6ae};secret:\u3299\ufe0f;congratulations:\u3297\ufe0f;m:\u24c2\ufe0f;passport_control:\u{1f6c2};left_luggage:\u{1f6c5};customs:\u{1f6c3};ideograph_advantage:\u{1f250};cl:\u{1f191};sos:\u{1f198};id:\u{1f194};no_entry_sign:\u{1f6ab};underage:\u{1f51e};no_mobile_phones:\u{1f4f5};do_not_litter:\u{1f6af};non-potable_water:\u{1f6b1};no_bicycles:\u{1f6b3};no_pedestrians:\u{1f6b7};children_crossing:\u{1f6b8};no_entry:\u26d4\ufe0f;eight_spoked_asterisk:\u2733\ufe0f;eight_pointed_black_star:\u2734\ufe0f;heart_decoration:\u{1f49f};vs:\u{1f19a};vibration_mode:\u{1f4f3};mobile_phone_off:\u{1f4f4};chart:\u{1f4b9};currency_exchange:\u{1f4b1};aries:\u2648\ufe0f;taurus:\u2649\ufe0f;gemini:\u264a\ufe0f;cancer:\u264b\ufe0f;leo:\u264c\ufe0f;virgo:\u264d\ufe0f;libra:\u264e\ufe0f;scorpius:\u264f\ufe0f;","sagittarius:\u2650\ufe0f;capricorn:\u2651\ufe0f;aquarius:\u2652\ufe0f;pisces:\u2653\ufe0f;ophiuchus:\u26ce;six_pointed_star:\u{1f52f};negative_squared_cross_mark:\u274e;a:\u{1f170}\ufe0f;b:\u{1f171}\ufe0f;ab:\u{1f18e};o2:\u{1f17e}\ufe0f;diamond_shape_with_a_dot_inside:\u{1f4a0};recycle:\u267b\ufe0f;end:\u{1f51a};on:\u{1f51b};soon:\u{1f51c};clock1:\u{1f550};clock130:\u{1f55c};clock10:\u{1f559};clock1030:\u{1f565};clock11:\u{1f55a};clock1130:\u{1f566};clock12:\u{1f55b};clock1230:\u{1f567};clock2:\u{1f551};clock230:\u{1f55d};clock3:\u{1f552};clock330:\u{1f55e};clock4:\u{1f553};clock430:\u{1f55f};clock5:\u{1f554};clock530:\u{1f560};clock6:\u{1f555};clock630:\u{1f561};clock7:\u{1f556};clock730:\u{1f562};clock8:\u{1f557};clock830:\u{1f563};clock9:\u{1f558};clock930:\u{1f564};heavy_dollar_sign:\u{1f4b2};copyright:\xa9\ufe0f;registered:\xae\ufe0f;tm:\u2122\ufe0f;x:\u274c;heavy_exclamation_mark:\u2757\ufe0f;bangbang:\u203c\ufe0f;interrobang:\u2049\ufe0f;o:\u2b55\ufe0f;heavy_multiplication_x:\u2716\ufe0f;","heavy_plus_sign:\u2795;heavy_minus_sign:\u2796;heavy_division_sign:\u2797;white_flower:\u{1f4ae};100:\u{1f4af};heavy_check_mark:\u2714\ufe0f;ballot_box_with_check:\u2611\ufe0f;radio_button:\u{1f518};link:\u{1f517};curly_loop:\u27b0;wavy_dash:\u3030\ufe0f;part_alternation_mark:\u303d\ufe0f;trident:\u{1f531};black_square::black_square:;white_square::white_square:;white_check_mark:\u2705;black_square_button:\u{1f532};white_square_button:\u{1f533};black_circle:\u26ab\ufe0f;white_circle:\u26aa\ufe0f;red_circle:\u{1f534};large_blue_circle:\u{1f535};large_blue_diamond:\u{1f537};large_orange_diamond:\u{1f536};small_blue_diamond:\u{1f539};small_orange_diamond:\u{1f538};small_red_triangle:\u{1f53a};small_red_triangle_down:\u{1f53b}"],H=/([-\w]+:)([^;]+);/g,I=0;I<U.length;I++)for(H.lastIndex=0;D=H.exec(U[I]);)P[":"+D[1]]=D[2]}(S.defaultDict)}(0,de,Y(8266),Y(1415),Y(5413))},5637:(vt,de,Y)=>{!function(m,S,T,F,$){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.defaultChecker=function(D){return!(/^<(?:br)/i.test(D)||/<(?:script|style|link|meta)/i.test(D)||/\son\w+\s*=/i.test(D)||/src\s*=\s*["']?javascript:/i.test(D))},S.defaultRenderer=function(D,I,j){var R=/^<(\w+)\s*/.exec(D);if(!R)return null;for(var re,x=R[1],V=document.createElement(x),q=/([\w\:\-]+)(?:\s*=\s*((['"]).*?\3|\S+))?\s*/g,G=q.lastIndex=R[0].length;(re=q.exec(D))&&!(re.index>G);){var pe=re[1],fe=re[2];fe&&/^['"]/.test(fe)&&(fe=fe.slice(1,-1)),V.setAttribute(pe,fe),G=q.lastIndex}if("innerHTML"in V){var me=D.indexOf(">",G)+1,te=D.length;(re=new RegExp("</"+x+"\\s*>\\s*$","i").exec(D))&&(te=re.index);var ye=D.slice(me,te);ye&&(V.innerHTML=ye),F.visitElements([V],function(xe){var ae=xe.tagName.toLowerCase();"a"===ae&&(xe.getAttribute("target")||xe.setAttribute("target","_blank"));var oe={a:["href"],img:["src"],iframe:["src"]}[ae];if(oe)for(var k=0;k<oe.length;k++){var he=oe[k],Ce=xe.getAttribute(he);Ce&&xe.setAttribute(he,j.hmdResolveURL(Ce))}})}return V};var Z="hmd-fold-html-stub";S.HTMLFolder=function(D,I){if(!I.type||!/ hmd-html-begin/.test(I.type))return null;var j=D.findNext(/ hmd-html-\w+/,!0);if(!j||!/ hmd-html-end/.test(j.token.type)||/ hmd-html-unclosed/.test(j.token.type))return null;var R=D.cm,x={line:D.lineNo,ch:I.start},V={line:j.lineNo,ch:j.token.end},q=0!=x.ch||V.ch<R.getLine(V.line).length,G=S.getAddon(R),re=R.getRange(x,V);return G.checker(re,x,R)?D.requestRange(x,V)!==$.RequestRangeResult.OK?null:G.renderAndInsert(re,x,V,q):null},$.registerFolder("html",S.HTMLFolder,!1),S.defaultOption={checker:S.defaultChecker,renderer:S.defaultRenderer,stubText:"<HTML>",isolatedTagName:/^(?:div|pre|form|table|iframe|ul|ol|input|textarea|p|summary|a)$/i},S.suggestedOption={},F.suggestedEditorConfig.hmdFoldHTML=S.suggestedOption,T.defineOption("hmdFoldHTML",S.defaultOption,function(D,I){I?"function"==typeof I?I={checker:I}:"object"!=typeof I&&(console.warn("[HyperMD][FoldHTML] incorrect option value type"),I={}):I={};var j=S.getAddon(D);for(var R in S.defaultOption)j[R]=R in I?I[R]:S.defaultOption[R];j.isolatedTagName&&!(j.isolatedTagName instanceof RegExp)&&(console.error("[HyperMD][FoldHTML] option isolatedTagName only accepts RegExp"),j.isolatedTagName=S.defaultOption.isolatedTagName)});var H=function(){function D(I){this.cm=I}return D.prototype.renderAndInsert=function(I,j,R,x){var pe,fe,V=this.cm,q=this.makeStub(),G=this.renderer(I,j,V),re=function(){return $.breakMark(V,fe)};if(!G)return null;if(q.addEventListener("click",re,!1),G.tagName.match(this.isolatedTagName||/^$/)||G.addEventListener("click",re,!1),x){var me=document.createElement("span");me.setAttribute("class","hmd-fold-html"),me.setAttribute("style","display: inline-block"),me.appendChild(q),me.appendChild(G),pe=me,(te=F.watchSize(G,function(oe,k){var he=getComputedStyle(G),Ce=function(ue){return he.getPropertyValue(ue)},ie=oe<10||k<10||!/^relative|static$/i.test(Ce("position"))||!/^none$/i.test(Ce("float"));q.className=ie?Z:"hmd-fold-html-stub omittable",fe.changed()})).check(),setTimeout(function(){fe.on("clear",function(){te.stop()})},0)}else{pe=q;var te,ye=V.addLineWidget(R.line,G,{above:!1,coverGutter:!1,noHScroll:!1,showIfHidden:!1}),xe=function(){return q.className="hmd-fold-html-stub highlight"},ae=function(){return q.className=Z};G.addEventListener("mouseenter",xe,!1),G.addEventListener("mouseleave",ae,!1),(te=F.watchSize(G,function(){return ye.changed()})).check(),setTimeout(function(){fe.on("clear",function(){te.stop(),ye.clear(),G.removeEventListener("mouseenter",xe,!1),G.removeEventListener("mouseleave",ae,!1)})},0)}return fe=V.markText(j,R,{replacedWith:pe})},D.prototype.makeStub=function(){var I=document.createElement("span");return I.setAttribute("class",Z),I.textContent=this.stubText||"<HTML>",I},D}();S.FoldHTML=H,S.getAddon=F.Addon.Getter("FoldHTML",H,S.defaultOption)}(0,de,Y(8266),Y(1415),Y(5413),Y(9127))},9985:(vt,de,Y)=>{!function(m,S,T,F){"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.ImageFolder=function(Z,P){var U=Z.cm,D=/\bformatting-link-string\b/;if(/\bimage-marker\b/.test(P.type)&&"!"===P.string){var I=Z.lineNo,j=Z.findNext(D),R=Z.findNext(D,j.i_token+1),x={line:I,ch:P.start},V={line:I,ch:R.token.end},q=Z.requestRange(x,V,x,x);if(q===T.RequestRangeResult.OK){var G,re,pe=U.getRange({line:I,ch:j.token.start+1},{line:I,ch:R.token.start});if("]"===R.token.string){var fe=U.hmdReadLink(pe,I);if(!fe)return null;pe=fe.content}G=F.splitLink(pe).url,G=U.hmdResolveURL(G),re=U.getRange({line:I,ch:x.ch+2},{line:I,ch:j.token.start-1});var me=document.createElement("img"),te=U.markText(x,V,{clearOnEnter:!0,collapsed:!0,replacedWith:me});return me.addEventListener("load",function(){me.classList.remove("hmd-image-loading"),te.changed()},!1),me.addEventListener("error",function(){me.classList.remove("hmd-image-loading"),me.classList.add("hmd-image-error"),te.changed()},!1),me.addEventListener("click",function(){return T.breakMark(U,te)},!1),me.className="hmd-image hmd-image-loading",me.src=G,me.title=re,te}}return null},T.registerFolder("image",S.ImageFolder,!0)}(0,de,Y(5413),Y(9127))},844:(vt,de,Y)=>{!function(m,S,T,F,$){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.LinkFolder=function(P,U){var H=P.cm;if("["!==U.string||!U.state.linkText||U.state.linkTitle||/\bimage\b/.test(U.type))return null;var D=$.getLineSpanExtractor(H),j=D.findSpanWithTypeAt({line:P.lineNo,ch:U.start},"linkText");if(!j)return null;var R=D.findSpanWithTypeAt({line:P.lineNo,ch:j.end+1},"linkHref");if(!R)return null;var x={line:P.lineNo,ch:R.begin},V={line:P.lineNo,ch:R.end};if(P.requestRange(x,V,{line:P.lineNo,ch:j.begin},x)!==T.RequestRangeResult.OK)return null;var pe=H.getRange(x,V),fe=F.splitLink(pe.substr(1,pe.length-2)),me=fe.url,te=fe.title,ye=document.createElement("span");ye.setAttribute("class","hmd-link-icon"),ye.setAttribute("title",me+"\n"+te),ye.setAttribute("data-url",me);var xe=H.markText(x,V,{collapsed:!0,replacedWith:ye});return ye.addEventListener("click",function(){return T.breakMark(H,xe)},!1),xe},T.registerFolder("link",S.LinkFolder,!0)}(0,de,Y(5413),Y(9127),Y(1415))},8576:(vt,de,Y)=>{!function(m,S,T,F,$){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function P(D,I,j,R,x,V){var q=document.createElement("span");q.setAttribute("class","hmd-fold-math math-"+(V?2:1)),q.setAttribute("title",R);var G=document.createElement("span");G.setAttribute("class","hmd-fold-math-placeholder"),G.textContent=R,q.appendChild(G);var re=D.markText(I,j,{replacedWith:q});q.addEventListener("click",function(){return $.breakMark(D,re,x)},!1);var fe=S.getAddon(D).createRenderer(q,V?"display":"");return fe.onChanged=function(){G&&(q.removeChild(G),G=null),re.changed()},re.on("clear",function(){fe.clear()}),re.mathRenderer=fe,F.tryToRun(function(){return!!fe.isReady()&&(fe.startRender(R),!0)},5,function(){re.clear()}),re}S.MathFolder=function(D,I){var j=/formatting-math-begin\b/;if(!j.test(I.type))return null;var R=D.cm,x=D.lineNo,V=/math-2\b/.test(I.type),q=V?2:1;if(2==q&&1==I.string.length){var G=D.lineTokens[D.i_token+1];if(!G||!j.test(G.type))return null}var fe,re=D.findNext(/formatting-math-end\b/,V),pe={line:x,ch:I.start},me=!1;if(re)fe={line:re.lineNo,ch:re.token.start+q};else{if(!V)return null;var te=R.lastLine();fe={line:te,ch:R.getLine(te).length},me=!0}var ae=R.getRange({line:pe.line,ch:pe.ch+q},{line:fe.line,ch:fe.ch-(me?0:q)}).trim(),oe=S.getAddon(R),k=D.requestRange(pe,fe);if(k!==$.RequestRangeResult.OK)return k===$.RequestRangeResult.CURSOR_INSIDE&&(oe.editingExpr=ae),null;var he=q>1&&0==pe.ch&&(me||fe.ch>=R.getLine(fe.line).length),Ce=P(R,pe,fe,ae,q,he);return oe.editingExpr=null,Ce},S.insertMathMark=P,$.registerFolder("math",S.MathFolder,!0);var U=function(){function D(I,j){var R=this;this.container=I;var x=document.createElement("img");x.setAttribute("class","hmd-math-dumb"),x.addEventListener("load",function(){R.onChanged&&R.onChanged(R.last_expr)},!1),this.img=x,I.appendChild(x)}return D.prototype.startRender=function(I){this.last_expr=I,this.img.src="https://latex.codecogs.com/gif.latex?"+encodeURIComponent(I)},D.prototype.clear=function(){this.container.removeChild(this.img)},D.prototype.isReady=function(){return!0},D}();S.DumbRenderer=U,S.defaultOption={renderer:U,onPreview:null,onPreviewEnd:null},S.suggestedOption={},F.suggestedEditorConfig.hmdFoldMath=S.suggestedOption,T.defineOption("hmdFoldMath",S.defaultOption,function(D,I){I?"function"==typeof I&&(I={renderer:I}):I={};var j=S.getAddon(D);for(var R in S.defaultOption)j[R]=R in I?I[R]:S.defaultOption[R]});var H=function(){function D(I){var j=this;this.cm=I,new F.FlipFlop(function(R){j.onPreview&&j.onPreview(R)},function(){j.onPreviewEnd&&j.onPreviewEnd()},null).bind(this,"editingExpr")}return D.prototype.createRenderer=function(I,j){return new(this.renderer||U)(I,j)},D}();S.FoldMath=H,S.getAddon=F.Addon.Getter("FoldMath",H,S.defaultOption)}(0,de,Y(8266),Y(1415),Y(5413))},5413:function(vt,de,Y){var S,m=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,F){T.__proto__=F}||function(T,F){for(var $ in F)F.hasOwnProperty($)&&(T[$]=F[$])},function(T,F){function $(){this.constructor=T}S(T,F),T.prototype=null===F?Object.create(F):($.prototype=F.prototype,new $)});!function(S,T,F,$,Z){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var H,R,U="undefined"==typeof Uint8Array?Array:Uint8Array;(R=H=T.RequestRangeResult||(T.RequestRangeResult={})).OK="ok",R.CURSOR_INSIDE="ci",R.HAS_MARKERS="hm",T.folderRegistry={},T.registerFolder=function D(R,x,V,q){var G=T.folderRegistry;if(R in G&&!q)throw new Error("Folder "+R+" already registered");T.defaultOption[R]=!1,T.suggestedOption[R]=!!V,G[R]=x},T.breakMark=function I(R,x,V){R.operation(function(){var q=x.find().from;R.setCursor(q={line:q.line,ch:q.ch+~~V}),R.focus(),x.clear()})},T.defaultOption={},T.suggestedOption={},$.suggestedEditorConfig.hmdFold=T.suggestedOption,$.normalVisualConfig.hmdFold=!1,F.defineOption("hmdFold",T.defaultOption,function(R,x){(!x||"boolean"==typeof x)&&(x=x?T.suggestedOption:T.defaultOption),"customFolders"in x&&(console.error("[HyperMD][Fold] `customFolders` is removed. To use custom folders, `registerFolder` first."),delete x.customFolders);var V=T.getAddon(R);for(var q in T.folderRegistry)V.setStatus(q,x[q])});var j=function(R){function x(V){var q=R.call(this,V)||this;return q.cm=V,q._enabled={},q.folded={},q.startFold=$.debounce(q.startFoldImmediately.bind(q),100),q._quickFoldHint=[],V.on("changes",function(G,re){for(var pe=[],fe=0,me=re;fe<me.length;fe++)for(var te=me[fe],xe=0,ae=G.findMarks(te.from,te.to);xe<ae.length;xe++){var oe=ae[xe];oe._hmd_fold_type&&pe.push(oe)}for(var k=0,he=pe;k<he.length;k++)he[k].clear();q.startFold()}),V.on("cursorActivity",function(G){var re={};function pe(Ce){var ie=Ce.line;if(ie in re)re[ie].ch.push(Ce.ch);else{for(var ue=G.getLineHandle(Ce.line),W=ue.markedSpans||[],Re=[],Ie=0;Ie<W.length;Ie++){var se=W[Ie].marker;"_hmd_crange"in se&&Re.push([se,se._hmd_crange[0].line<ie?0:se._hmd_crange[0].ch,se._hmd_crange[1].line>ie?ue.text.length:se._hmd_crange[1].ch])}re[ie]={lineNo:ie,ch:[Ce.ch],markers:Re}}}for(var fe in G.listSelections().forEach(function(Ce){pe(Ce.anchor),pe(Ce.head)}),re){var me=re[fe];if(me.markers.length)for(var te=0;te<me.ch.length;te++)for(var ye=me.ch[te],xe=0;xe<me.markers.length;xe++){var ae=me.markers[xe];ae[1]<=ye&&ye<=ae[2]&&(ae[0].clear(),me.markers.splice(xe,1),xe--)}}q.startQuickFold()}),q}return m(x,R),x.prototype.setStatus=function(V,q){V in T.folderRegistry&&!this._enabled[V]!=!q&&(this._enabled[V]=!!q,q?this.startFold():this.clear(V))},x.prototype.requestRange=function(V,q,G,re){re||(re=q),G||(G=V);var pe=this.cm;if(0!==pe.findMarks(V,q).length)return H.HAS_MARKERS;this._quickFoldHint.push(V.line),this._lastCRange=[G,re];for(var me=pe.listSelections(),te=0;te<me.length;te++){var ye=Z.orderedRange(me[te]);if(Z.rangesIntersect(this._lastCRange,ye)||Z.rangesIntersect([V,q],ye))return H.CURSOR_INSIDE}return this._quickFoldHint.push(G.line),H.OK},x.prototype.startFoldImmediately=function(V,q){var G=this,re=this.cm;V=V||re.firstLine(),q=(q||re.lastLine())+1,this._quickFoldHint=[],this.setPos(V,0,!0),re.operation(function(){return re.eachLine(V,q,function(pe){var fe=pe.lineNo();if(!(fe<G.lineNo)){fe>G.lineNo&&G.setPos(fe,0);var me=new U(pe.text.length),te=pe.markedSpans;if(te)for(var ye=0;ye<te.length;++ye)for(var xe=te[ye],oe=null==xe.to?me.length:xe.to,k=null==xe.from?0:xe.from;k<oe;k++)me[k]=1;for(var he=G.lineTokens;G.i_token<he.length;){var ie,Ce=he[G.i_token],ue=null,W=!0;for(ye=Ce.start;ye<Ce.end;ye++)if(me[ye]){W=!1;break}if(W)for(ie in T.folderRegistry)if(G._enabled[ie]&&(ue=T.folderRegistry[ie](G,Ce)))break;if(ue){var Re=ue.find(),Ie=Re.from,se=Re.to;if((G.folded[ie]||(G.folded[ie]=[])).push(ue),ue._hmd_fold_type=ie,ue._hmd_crange=G._lastCRange,ue.on("clear",function(B,we){var Oe,ke=G.folded[ie];ke&&-1!==(Oe=ke.indexOf(ue))&&ke.splice(Oe,1),G._quickFoldHint.push(B.line)}),Ie.line>fe||Ie.ch>Ce.start){G.i_token++;var Q=se.line===fe?se.ch:me.length;for(ye=Ie.line===fe?Ie.ch:me.length;ye<Q;ye++)me[ye]=1}else{if(se.line!==fe)return void G.setPos(se.line,se.ch);G.setPos(se.ch)}}else G.i_token++}}})})},x.prototype.startQuickFold=function(){var V=this._quickFoldHint;if(0!==V.length){for(var q=V[0],G=q,re=0,pe=V;re<pe.length;re++){var fe=pe[re];q>fe&&(q=fe),G<fe&&(G=fe)}this.startFold.stop(),this.startFoldImmediately(q,G)}},x.prototype.clear=function(V){this.startFold.stop();var q=this.folded[V];if(q&&q.length)for(var G;G=q.pop();)G.clear()},x.prototype.clearAll=function(){for(var V in this.startFold.stop(),this.folded)for(var G,q=this.folded[V];G=q.pop();)G.clear()},x}($.TokenSeeker);T.Fold=j,T.getAddon=$.Addon.Getter("Fold",j)}(0,de,Y(8266),Y(1415),Y(1415))},8281:(vt,de,Y)=>{!function(m,S,T,F,$,Z){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function U(R,x){var V=" "+R.className+" ",q=" "+x+" ";return-1!==V.indexOf(q)&&(R.className=V.replace(q,"").trim(),!0)}function H(R,x){return-1===(" "+R.className+" ").indexOf(" "+x+" ")&&(R.className=R.className+" "+x,!0)}S.defaultOption={enabled:!1,line:!0,tokenTypes:"em|strong|strikethrough|code|linkText|task".split("|")},S.suggestedOption={enabled:!0},F.suggestedEditorConfig.hmdHideToken=S.suggestedOption,F.normalVisualConfig.hmdHideToken=!1,T.defineOption("hmdHideToken",S.defaultOption,function(R,x){x&&"boolean"!=typeof x?"string"==typeof x?x={enabled:!0,tokenTypes:x.split("|")}:x instanceof Array&&(x={enabled:!0,tokenTypes:x}):x={enabled:!!x};var V=S.getAddon(R);for(var q in S.defaultOption)V[q]=q in x?x[q]:S.defaultOption[q]});var D="hmd-hidden-token",I="hmd-inactive-line",j=function(){function R(x){var V=this;this.cm=x,this.renderLineHandler=function(q,G,re){V.procLine(G,re)},this.cursorActivityHandler=function(q){V.update()},this.update=F.debounce(function(){return V.updateImmediately()},100),this._rangesInLine={},new F.FlipFlop(function(){x.on("cursorActivity",V.cursorActivityHandler),x.on("renderLine",V.renderLineHandler),x.on("update",V.update),V.update(),x.refresh()},function(){x.off("cursorActivity",V.cursorActivityHandler),x.off("renderLine",V.renderLineHandler),x.off("update",V.update),V.update.stop(),x.refresh()}).bind(this,"enabled",!0)}return R.prototype.procLine=function(x,V){var q=this.cm,G="number"==typeof x?x:x.lineNo();"number"==typeof x&&(x=q.getLineHandle(x));var re=this._rangesInLine[G]||[],pe=F.cm_internal.findViewForLine(q,G);if(!pe||pe.hidden||!pe.measure||(V||(V=pe.text),!V))return!1;var me=F.cm_internal.mapFromLineView(pe,x,G).map,te=me.length/3,ye=!1;function xe(Ie,se,Ee){for(var Q=!1,B=Ee=Ee||0;B<te;B++){var we=me[3*B],Oe=me[3*B+2];if(we===Ie.head.start){if(/formatting-/.test(Ie.head.type)&&Oe.nodeType===Node.TEXT_NODE){var rt=Oe.parentElement;(se?H(rt,D):U(rt,D))&&(Q=!0)}if(Ie.tail&&/formatting-/.test(Ie.tail.type))for(var ot=B+1;ot<te;ot++){var Je=me[3*ot],Ct=me[3*ot+2];if(Je==Ie.tail.start&&Ct.nodeType===Node.TEXT_NODE&&(rt=Ct.parentElement,(se?H(rt,D):U(rt,D))&&(Q=!0)),Je>=Ie.tail.end)break}}if(we>=Ie.begin)break}return Q}0===re.length?H(V,I)&&(ye=!0):U(V,I)&&(ye=!0);for(var ae=Z.getLineSpanExtractor(q).extract(G),oe=0,k=0;k<ae.length;k++){var he=ae[k];if(-1!==this.tokenTypes.indexOf(he.type)){for(var Ce=[{line:G,ch:he.begin},{line:G,ch:he.end}],ie=he.begin;oe<te&&me[3*oe+1]<ie;)oe++;for(var ue=!0,W=0;W<re.length;W++)if($.rangesIntersect(Ce,re[W])){ue=!1;break}xe(he,ue,oe)&&(ye=!0)}}return ye&&(delete pe.measure.heights,pe.measure.cache={}),ye},R.prototype.updateImmediately=function(){var x=this;this.update.stop();for(var V=this.cm,q=V.listSelections(),G={},re={},pe=this._rangesInLine,fe=0,me=q;fe<me.length;fe++){var ye=$.orderedRange(me[fe]),xe=ye[0].line,ae=ye[1].line;G[xe]=G[ae]=!0;for(var oe=xe;oe<=ae;oe++)re[oe]?re[oe].push(ye):re[oe]=[ye]}this._rangesInLine=re,V.operation(function(){for(var k in pe)re[k]||x.procLine(~~k);var he=!1;for(var k in re)x.procLine(~~k)&&G[k]&&(he=!0);he&&V.refresh()})},R}();S.HideToken=j,S.getAddon=F.Addon.Getter("HideToken",j,S.defaultOption)}(0,de,Y(8266),Y(1415),Y(1415),Y(1415))},1746:(vt,de,Y)=>{!function(m,S,T,F){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var $="function"==typeof marked?marked:function(U){return"<pre>"+(U=U.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/  /g," &nbsp;"))+"</pre>"};function Z(U,H){return H?$(H):null}S.defaultConvertor=Z,S.defaultOption={enabled:!1,xOffset:10,convertor:Z},S.suggestedOption={enabled:!0},F.suggestedEditorConfig.hmdHover=S.suggestedOption,T.defineOption("hmdHover",S.defaultOption,function(U,H){H&&"boolean"!=typeof H?"function"==typeof H&&(H={enabled:!0,convertor:H}):H={enabled:!!H};var D=S.getAddon(U);for(var I in S.defaultOption)D[I]=I in H?H[I]:S.defaultOption[I]});var P=function(){function U(H){var D=this;this.cm=H,new F.FlipFlop(function(){I.addEventListener("mouseenter",V,!0)},function(){I.removeEventListener("mouseenter",V,!0),D.hideInfo()}).bind(this,"enabled",!0);var I=H.display.lineDiv;this.lineDiv=I;var j=document.createElement("div"),R=document.createElement("div"),x=document.createElement("div");j.setAttribute("style","position:absolute;z-index:99"),j.setAttribute("class","HyperMD-hover"),j.setAttribute("cm-ignore-events","true"),R.setAttribute("class","HyperMD-hover-content"),j.appendChild(R),x.setAttribute("class","HyperMD-hover-indicator"),j.appendChild(x),this.tooltipDiv=j,this.tooltipContentDiv=R,this.tooltipIndicator=x;var V=this.mouseenter.bind(this)}return U.prototype.mouseenter=function(H){var D=this.cm,I=H.target,j=I.className;if(!(I==this.tooltipDiv||I.compareDocumentPosition&&8==(8&I.compareDocumentPosition(this.tooltipDiv)))){var R;if("SPAN"!==I.nodeName||!(R=j.match(/(?:^|\s)cm-(hmd-barelink2?|hmd-footref2)(?:\s|$)/)))return void this.hideInfo();var x=D.coordsChar({left:H.clientX,top:H.clientY},"window"),V=null,q=null,re=F.expandRange(D,x,R[1]);re&&(V=(V=D.getRange(re.from,re.to)).slice(1,-1))&&(q=D.hmdReadLink(V,x.line)||null);var fe=(this.convertor||Z)(V,q&&q.content||null);if(!fe)return void this.hideInfo();this.showInfo(fe,I)}},U.prototype.showInfo=function(H,D){var I=D.getBoundingClientRect(),j=this.lineDiv.getBoundingClientRect(),R=this.tooltipDiv,x=this.xOffset;this.tooltipContentDiv.innerHTML=H,R.style.left=I.left-j.left-x+"px",this.lineDiv.appendChild(R);var V=R.getBoundingClientRect();V.right>j.right&&(R.style.left=I.left-j.left-(x=V.right-j.right)+"px"),R.style.top=I.top-j.top-V.height+"px",this.tooltipIndicator.style.marginLeft=x+"px"},U.prototype.hideInfo=function(){this.tooltipDiv.parentElement==this.lineDiv&&this.lineDiv.removeChild(this.tooltipDiv)},U}();S.Hover=P,S.getAddon=F.Addon.Getter("Hover",P,S.defaultOption)}(0,de,Y(8266),Y(1415),Y(9127))},6980:(vt,de,Y)=>{!function(m,S,T,F){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ajaxUpload=function $(P,U,H,D){var I=new XMLHttpRequest,j=new FormData;for(var R in U)j.append(R,U[R]);I.onreadystatechange=function(){if(4==this.readyState){var x=I.responseText;try{x=JSON.parse(I.responseText)}catch(V){}/^20\d/.test(I.status+"")?H(x,null):H(null,x)}},I.open(D||"POST",P,!0),I.send(j)},S.defaultOption={byDrop:!1,byPaste:!1,fileHandler:null},S.suggestedOption={byPaste:!0,byDrop:!0},F.suggestedEditorConfig.hmdInsertFile=S.suggestedOption,T.defineOption("hmdInsertFile",S.defaultOption,function(P,U){if(U&&"boolean"!=typeof U)"function"==typeof U&&(U={byDrop:!0,byPaste:!0,fileHandler:U});else{var H=!!U;U={byDrop:H,byPaste:H}}var D=S.getAddon(P);for(var I in S.defaultOption)D[I]=I in U?U[I]:S.defaultOption[I]});var Z=function(){function P(U){var H=this;this.cm=U,this.pasteHandle=function(D,I){!H.doInsert(I.clipboardData||window.clipboardData,!0)||I.preventDefault()},this.dropHandle=function(R,I){var j=H,x=!1;(R=H.cm).operation(function(){var V=R.coordsChar({left:I.clientX,top:I.clientY},"window");R.setCursor(V),x=j.doInsert(I.dataTransfer,!1)}),x&&I.preventDefault()},new F.FlipFlop(function(){return H.cm.on("paste",H.pasteHandle)},function(){return H.cm.off("paste",H.pasteHandle)}).bind(this,"byPaste",!0),new F.FlipFlop(function(){return H.cm.on("drop",H.dropHandle)},function(){return H.cm.off("drop",H.dropHandle)}).bind(this,"byDrop",!0)}return P.prototype.doInsert=function(U,H){var D=this.cm;if(H&&U.types&&U.types.some(function(x){return"text/"===x.slice(0,5)})||!U||!U.files||0===U.files.length)return!1;var I=U.files,j=this.fileHandler,R=!1;return"function"==typeof j&&(D.operation(function(){D.replaceSelection(".");var x=D.getCursor(),V={line:x.line,ch:x.ch-1},q=document.createElement("span"),G=D.markText(V,x,{replacedWith:q,clearOnEnter:!1,handleMouseEvents:!1});(R=j(I,{marker:G,cm:D,finish:function(pe,fe){return D.operation(function(){var me=G.find(),te=me.from;D.replaceRange(pe,te,me.to),G.clear(),"number"==typeof fe&&D.setCursor({line:te.line,ch:te.ch+fe})})},setPlaceholder:function(pe){q.childNodes.length>0&&q.removeChild(q.firstChild),q.appendChild(pe),G.changed()},resize:function(){G.changed()}}))||G.clear()}),R)},P}();S.InsertFile=Z,S.getAddon=F.Addon.Getter("InsertFile",Z,S.defaultOption)}(0,de,Y(8266),Y(1415))},9159:(vt,de,Y)=>{!function(m,S,T,F){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.defaultOption={source:null},S.suggestedOption={source:"function"==typeof requirejs?"~codemirror/":"https://cdn.jsdelivr.net/npm/codemirror/"},F.suggestedEditorConfig.hmdModeLoader=S.suggestedOption,T.defineOption("hmdModeLoader",S.defaultOption,function(Z,P){P&&"boolean"!=typeof P?("string"==typeof P||"function"==typeof P)&&(P={source:P}):P={source:P&&S.suggestedOption.source||null};var U=S.getAddon(Z);for(var H in S.defaultOption)U[H]=H in P?P[H]:S.defaultOption[H]});var $=function(){function Z(P){var U=this;this.cm=P,this._loadingModes={},this.rlHandler=function(H,D){var I=D.lineNo(),R=(D.text||"").match(/^```\s*(\S+)/);if(R){var V=T.findModeByName(R[1]),q=V&&V.mode;q&&!(q in T.modes)&&U.startLoadMode(q,I)}},(new F.FlipFlop).bind(this,"source").ON(function(){P.on("renderLine",U.rlHandler)}).OFF(function(){P.off("renderLine",U.rlHandler)})}return Z.prototype.touchLine=function(P){var U=this.cm.getLineHandle(P),H=U.text.length;this.cm.replaceRange(U.text.charAt(H-1),{line:P,ch:H-1},{line:P,ch:H})},Z.prototype.startLoadMode=function(P,U){var H=this._loadingModes,D=this;if(U>=0&&P in H)H[P].push(U);else{U>=0&&(H[P]=[U]);var I=function(){console.log("[HyperMD] mode-loader loaded "+P);var V=H[P];D.cm.operation(function(){for(var q=0;q<V.length;q++)D.touchLine(V[q])}),delete H[P]},j=function(){console.warn("[HyperMD] mode-loader failed to load mode "+P+" from ",R),-1!==U&&(console.log("[HyperMD] mode-loader will retry loading "+P),setTimeout(function(){D.startLoadMode(P,U>=0?-3:U+1)},1e3))};if("function"!=typeof this.source){var R=this.source+"mode/"+P+"/"+P+".js";if("function"==typeof requirejs&&"~"===R.charAt(0))requirejs([R.slice(1,-3)],I);else{var x=document.createElement("script");x.onload=I,x.onerror=j,x.src=R,document.head.appendChild(x)}}else this.source(P,I,j)}},Z}();S.ModeLoader=$,S.getAddon=F.Addon.Getter("ModeLoader",$,S.defaultOption)}(0,de,Y(8266),Y(1415),Y(8834))},3956:(vt,de,Y)=>{!function(m,S,T,F){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.defaultOption={enabled:!1,convertor:null},S.suggestedOption={enabled:!0},F.suggestedEditorConfig.hmdPaste=S.suggestedOption,T.defineOption("hmdPaste",S.defaultOption,function(Z,P){P&&"boolean"!=typeof P?"function"==typeof P&&(P={enabled:!0,convertor:P}):P={enabled:!!P};var U=S.getAddon(Z);for(var H in S.defaultOption)U[H]=H in P?P[H]:S.defaultOption[H]});var $=function Z(P){var U=this;this.cm=P,this.pasteHandler=function(H,D){var I=D.clipboardData||window.clipboardData,j=U.convertor;if(j&&I&&-1!=I.types.indexOf("text/html")){var R=j(I.getData("text/html"));!R||(H.operation(H.replaceSelection.bind(H,R)),D.preventDefault())}},new F.FlipFlop(function(){P.on("paste",U.pasteHandler)},function(){P.off("paste",U.pasteHandler)}).bind(this,"enabled",!0)};S.Paste=$,S.getAddon=F.Addon.Getter("Paste",$,S.defaultOption)}(0,de,Y(8266),Y(1415))},9127:(vt,de,Y)=>{!function(m,S,T,F){"use strict";function $(U){var H=U=U.trim(),D="",I=U.match(/^(\S+)\s+("(?:[^"\\]+|\\.)+"|[^"\s].*)/);return I&&(H=I[1],'"'===(D=I[2]).charAt(0)&&(D=D.substr(1,D.length-2).replace(/\\"/g,'"'))),{url:H,title:D}}for(var Z in Object.defineProperty(S,"__esModule",{value:!0}),S.splitLink=$,S.Extensions={hmdReadLink:function(U,H){return S.getAddon(this).read(U,H)},hmdResolveURL:function(U,H){return S.getAddon(this).resolve(U,H)},hmdSplitLink:$},S.Extensions)T.defineExtension(Z,S.Extensions[Z]);S.defaultOption={baseURI:""},S.suggestedOption={baseURI:""},F.suggestedEditorConfig.hmdReadLink=S.suggestedOption,T.defineOption("hmdReadLink",S.defaultOption,function(U,H){(!H||"string"==typeof H)&&(H={baseURI:H});var D=S.getAddon(U);for(var I in S.defaultOption)D[I]=I in H?H[I]:S.defaultOption[I]});var P=function(){function U(H){var D=this;this.cm=H,this.cache={},H.on("changes",F.debounce(function(){return D.rescan()},500)),this.rescan()}return U.prototype.read=function(H,D){var j,I=this.cache[H.trim().toLowerCase()]||[];"number"!=typeof D&&(D=1e9);for(var R=0;R<I.length&&!((j=I[R]).line>D);R++);return j},U.prototype.rescan=function(){var H=this.cm,D=this.cache={};H.eachLine(function(I){var R=/^(?:>\s+)*>?\s{0,3}\[([^\]]+)\]:\s*(.+)$/.exec(I.text);if(R){var x=R[1].trim().toLowerCase(),V=R[2];D[x]||(D[x]=[]),D[x].push({line:I.lineNo(),content:V})}})},U.prototype.resolve=function(H,D){var j=/^(?:[\w-]+\:\/*|\/\/)[^\/]+/,R=/\/[^\/]+(?:\/+\.?)*$/;if(!H)return H;if(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(H))return"mailto:"+H;var x,V="";if(!(D=D||this.baseURI)||j.test(H))return H;for((x=D.match(j))&&(D=D.slice((V=x[0]).length));x=H.match(/^(\.{1,2})([\/\\]+)/);)H=H.slice(x[0].length),".."==x[1]&&(D=D.replace(R,""));return"/"===H.charAt(0)&&V?H=V+H:(/\/$/.test(D)||(D+="/"),H=V+D+H),H},U}();S.ReadLink=P,S.getAddon=F.Addon.Getter("ReadLink",P,S.defaultOption)}(0,de,Y(8266),Y(1415))},6883:(vt,de,Y)=>{!function(m,S,T,F){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.defaultOption={enabled:!1},S.suggestedOption={enabled:!0},F.suggestedEditorConfig.hmdTableAlign=S.suggestedOption,F.normalVisualConfig.hmdTableAlign=!1,T.defineOption("hmdTableAlign",S.defaultOption,function(Z,P){var U=!!P;(!U||"boolean"==typeof P)&&(P={enabled:U});var H=S.getAddon(Z);for(var D in S.defaultOption)H[D]=D in P?P[D]:S.defaultOption[D]});var $=function(){function Z(P){var U=this;this.cm=P,this.styleEl=document.createElement("style"),this.updateStyle=F.debounce(function(){if(U.enabled){var H=U.cm,D=U.measure(),I=U.makeCSS(D);I!==U._lastCSS&&(U.styleEl.textContent=U._lastCSS=I,H.refresh())}},100),this._procLine=function(H,D,I){if(I.querySelector(".cm-hmd-table-sep")){for(var j=I.firstElementChild,R=Array.prototype.slice.call(j.childNodes,0),x=H.getStateAfter(D.lineNo()),V=x.hmdTableColumns,q=x.hmdTableID,G=2===x.hmdTable?-1:0,re=U.makeColumn(G,V[G]||"dummy",q),pe=re.firstElementChild,fe=0,me=R;fe<me.length;fe++){var te=me[fe],ye=te.nodeType===Node.ELEMENT_NODE&&te.className||"";/cm-hmd-table-sep/.test(ye)?(G++,re.appendChild(pe),j.appendChild(re),j.appendChild(te),pe=(re=U.makeColumn(G,V[G]||"dummy",q)).firstElementChild):pe.appendChild(te)}re.appendChild(pe),j.appendChild(re)}},new F.FlipFlop(function(){P.on("renderLine",U._procLine),P.on("update",U.updateStyle),P.refresh(),document.head.appendChild(U.styleEl)},function(){P.off("renderLine",U._procLine),P.off("update",U.updateStyle),document.head.removeChild(U.styleEl)}).bind(this,"enabled",!0)}return Z.prototype.makeColumn=function(P,U,H){var D=document.createElement("span");D.className="hmd-table-column hmd-table-column-"+P+" hmd-table-column-"+U,D.setAttribute("data-column",""+P),D.setAttribute("data-table-id",H);var I=document.createElement("span");return I.className="hmd-table-column-content",I.setAttribute("data-column",""+P),D.appendChild(I),D},Z.prototype.measure=function(){for(var H=this.cm.display.lineDiv.querySelectorAll(".hmd-table-column-content"),D={},I=0;I<H.length;I++){var j=H[I],R=j.parentElement,x=R.getAttribute("data-table-id"),V=~~R.getAttribute("data-column"),q=j.offsetWidth+1;x in D||(D[x]=[]);for(var G=D[x];G.length<=V;)G.push(0);G[V]<q&&(G[V]=q)}return D},Z.prototype.makeCSS=function(P){var U=[];for(var H in P)for(var D=P[H],I="pre.HyperMD-table-row.HyperMD-table_"+H+" .hmd-table-column-",j=0;j<D.length;j++)U.push(""+I+j+" { min-width: "+(D[j]+.5)+"px }");return U.join("\n")},Z}();S.TableAlign=$,S.getAddon=F.Addon.Getter("TableAlign",$,S.defaultOption)}(0,de,Y(8266),Y(1415))},1415:function(vt,de,Y){!function(m,S){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(Ee,Q){var B=arguments;if(null==Ee)throw new TypeError("Cannot convert undefined or null to object");for(var we=Object(Ee),ke=1;ke<arguments.length;ke++){var Oe=B[ke];if(null!=Oe)for(var rt in Oe)Object.prototype.hasOwnProperty.call(Oe,rt)&&(we[rt]=Oe[rt])}return we},writable:!0,configurable:!0});var T=function(se,Ee,Q,B){void 0===Q&&(Q=!1),void 0===B&&(B="enabled"),this.on_cb=se,this.off_cb=Ee,this.state=Q,this.subkey=B};function $(se,Ee){var Q=null,B=0,we=function(){se(),Q=0},ke=function(){var Oe=+new Date;if(Q){if(Oe<B)return;clearTimeout(Q)}Q=setTimeout(we,Ee),B=Oe+100};return ke.stop=function(){!Q||(clearTimeout(Q),Q=0)},ke}T.prototype.ON=function(se){return this.on_cb=se,this},T.prototype.OFF=function(se){return this.off_cb=se,this},T.prototype.set=function(se,Ee){var Q="object"==typeof se&&se?se[this.subkey]:se;Ee&&(Q=!!Q),Q!==this.state&&((this.state=Q)?this.on_cb&&this.on_cb(Q):this.off_cb&&this.off_cb(Q))},T.prototype.setBool=function(se){return this.set(se,!0)},T.prototype.bind=function(se,Ee,Q){var B=this;return Object.defineProperty(se,Ee,{get:function(){return B.state},set:function(we){return B.set(we,Q)},configurable:!0,enumerable:!0}),this};var Z=S.addClass,P=S.rmClass,U=S.contains;function I(se,Ee){for(var B,Q=[se];B=Q.shift();)for(var we=0;we<B.length;we++){var ke=B[we];!ke||ke.nodeType!=Node.ELEMENT_NODE||(Ee(ke),ke.children&&ke.children.length>0&&Q.push(ke.children))}}function R(se){return"function"==typeof Symbol?Symbol(se):"_\n"+se+"\n_"+Math.floor(65535*Math.random()).toString(16)}var x="__hypermd__",V={lineNumbers:!0,lineWrapping:!0,theme:"hypermd-light",mode:"text/x-hypermd",tabSize:4,autoCloseBrackets:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","HyperMD-goback"]},q={theme:"default"};function fe(se,Ee){if(Ee>=se.display.viewTo||(Ee-=se.display.viewFrom)<0)return null;for(var Q=se.display.view,B=0;B<Q.length;B++)if((Ee-=Q[B].size)<0)return B}var ye=Object.freeze({findViewIndex:fe,findViewForLine:function me(se,Ee){if(Ee>=se.display.viewFrom&&Ee<se.display.viewTo)return se.display.view[fe(se,Ee)];var Q=se.display.externalMeasured;return Q&&Ee>=Q.lineN&&Ee<Q.lineN+Q.size?Q:void 0},mapFromLineView:function te(se,Ee,Q){if(se.line==Ee)return{map:se.measure.map,cache:se.measure.cache,before:!1};for(var B=0;B<se.rest.length;B++)if(se.rest[B]==Ee)return{map:se.measure.maps[B],cache:se.measure.caches[B],before:!1};for(var we=0;we<se.rest.length;we++)if(se.rest[we].lineNo()>Q)return{map:se.measure.maps[we],cache:se.measure.caches[we],before:!0}}}),xe=function(se){this.cm=se};xe.prototype.findNext=function(se,Ee,Q){var B=this.lineNo,we=this.lineTokens,ke=null,Oe=this.i_token+1,rt=!1;if(!0===Ee?rt=!0:"number"==typeof Ee&&(Oe=Ee),Q)if(Q.line>B)Oe=we.length;else if(!(Q.line<B))for(;Oe<we.length&&!(we[Oe].start>=Q.ch);Oe++);for(;Oe<we.length;Oe++){var ot=we[Oe];if("function"==typeof se?se(ot,we,Oe):se.test(ot.type)){ke=ot;break}}if(!ke&&rt){var Je=this.cm,Pt=Math.max(Q?Q.line:0,B+1);Je.eachLine(Pt,Je.lastLine()+1,function(Ct){if(B=Ct.lineNo(),we=Je.getLineTokens(B),Oe=0,Q&&B===Q.line)for(;Oe<we.length&&!(we[Oe].start>=Q.ch);Oe++);for(;Oe<we.length;Oe++){var J=we[Oe];if("function"==typeof se?se(J,we,Oe):se.test(J.type))return ke=J,!0}})}return ke?{lineNo:B,token:ke,i_token:Oe}:null},xe.prototype.findPrev=function(se,Ee,Q){var B=this.lineNo,we=this.lineTokens,ke=null,Oe=this.i_token-1,rt=!1;if(!0===Ee?rt=!0:"number"==typeof Ee&&(Oe=Ee),Q)if(Q.line<B)Oe=-1;else if(!(Q.line>B))for(;Oe<we.length&&!(we[Oe].start>=Q.ch);Oe++);for(Oe>=we.length&&(Oe=we.length-1);Oe>=0;Oe--){var ot=we[Oe];if("function"==typeof se?se(ot,we,Oe):se.test(ot.type)){ke=ot;break}}if(!ke&&rt){var Je=this.cm,Pt=Math.min(Q?Q.line:Je.lastLine(),B-1),Ct=Je.firstLine();for(B=Pt+1;!ke&&Ct<=--B;){if(Je.getLineHandle(B),we=Je.getLineTokens(B),Oe=0,Q&&B===Q.line)for(;Oe<we.length&&!(we[Oe].start>=Q.ch);Oe++);for(Oe>=we.length&&(Oe=we.length-1);Oe>=0;Oe--)if(ot=we[Oe],"function"==typeof se?se(ot,we,Oe):se.test(ot.type)){ke=ot;break}}}return ke?{lineNo:B,token:ke,i_token:Oe}:null},xe.prototype.expandRange=function(se,Ee){var B,Q=this.cm;"function"==typeof se?B=se:("string"==typeof se&&(se=new RegExp("(?:^|\\s)"+se+"(?:\\s|$)")),B=function(Ct){return!!Ct&&se.test(Ct.type||"")});for(var we={lineNo:this.lineNo,i_token:this.i_token,token:this.lineTokens[this.i_token]},ke=Object.assign({},we),rt=!1,ot=this.lineTokens,Je=this.i_token;!rt;){for(Je>=ot.length&&(Je=ot.length-1);Je>=0;Je--){var Oe=ot[Je];if(!B(Oe,ot,Je)){rt=!0;break}we.i_token=Je,we.token=Oe}if(rt||!(Ee&&we.lineNo>Q.firstLine()))break;Je=(ot=Q.getLineTokens(--we.lineNo)).length-1}for(rt=!1,ot=this.lineTokens,Je=this.i_token;!rt;){for(Je<0&&(Je=0);Je<ot.length;Je++){var Pt=ot[Je];if(!B(Pt,ot,Je)){rt=!0;break}ke.i_token=Je,ke.token=Pt}if(rt||!(Ee&&ke.lineNo<Q.lastLine()))break;ot=Q.getLineTokens(++ke.lineNo),Je=0}return{from:we,to:ke}},xe.prototype.setPos=function(se,Ee,Q){void 0===Ee?(Ee=se,se=this.line):"number"==typeof se&&(se=this.cm.getLineHandle(se));var we=0;Q||se!==this.line?(this.line=se,this.lineNo=se.lineNo(),this.lineTokens=this.cm.getLineTokens(this.lineNo)):this.lineTokens[we=this.i_token].start>Ee&&(we=0);for(var Oe=this.lineTokens;we<Oe.length&&!(Oe[we].end>Ee);we++);this.i_token=we},xe.prototype.getToken=function(se){return"number"!=typeof se&&(se=this.i_token),this.lineTokens[se]},xe.prototype.getTokenType=function(se){"number"!=typeof se&&(se=this.i_token);var Ee=this.lineTokens[se];return Ee&&Ee.type||""};var Ce=function(se){var Ee=this;this.cm=se,this.caches=new Array,se.on("change",function(Q,B){var we=B.from.line;Ee.caches.length>we&&Ee.caches.splice(we)})};Ce.prototype.getTokenTypes=function(se,Ee){var Q=Ee?Ee.state:{},B=se.state;return{em:B.em?1:Q.em?2:0,strikethrough:B.strikethrough?1:Q.strikethrough?2:0,strong:B.strong?1:Q.strong?2:0,code:B.code?1:Q.code?2:0,linkText:B.linkText?3===B.hmdLinkType||6===B.hmdLinkType?1:0:Q.linkText?2:0,linkHref:B.linkHref&&!B.linkText?1:B.linkHref||B.linkText||!Q.linkHref||Q.linkText?0:2,task:-1!==(" "+se.type+" ").indexOf(" formatting-task ")?3:0,hashtag:B.hmdHashtag?1:Q.hmdHashtag?2:0}},Ce.prototype.extract=function(se,Ee){if(!Ee){var B=this.caches[se];if(B)return B}for(var we=this.cm.getLineTokens(se),ke=this.cm.getLine(se),Oe=ke.length,rt=[],ot={},Je=0;Je<we.length;Je++){var Pt=we[Je],Ct=this.getTokenTypes(Pt,we[Je-1]);for(var J in Ct){var Ne=ot[J];1&Ct[J]&&(Ne||(Ne={type:J,begin:Pt.start,end:Oe,head:Pt,head_i:Je,tail:we[we.length-1],tail_i:we.length-1,text:ke.slice(Pt.start)},rt.push(Ne),ot[J]=Ne)),2&Ct[J]&&Ne&&(Ne.tail=Pt,Ne.tail_i=Je,Ne.end=Pt.end,Ne.text=Ne.text.slice(0,Ne.end-Ne.begin),ot[J]=null)}}return this.caches[se]=rt,rt},Ce.prototype.findSpansAt=function(se){for(var Ee=this.extract(se.line),Q=se.ch,B=[],we=0;we<Ee.length;we++){var ke=Ee[we];if(ke.begin>Q)break;Q>=ke.begin&&ke.end>=Q&&B.push(ke)}return B},Ce.prototype.findSpanWithTypeAt=function(se,Ee){for(var Q=this.extract(se.line),B=se.ch,we=0;we<Q.length;we++){var ke=Q[we];if(ke.begin>B)break;if(B>=ke.begin&&ke.end>=B&&ke.type===Ee)return ke}return null};var ie=R("LineSpanExtractor");var Ie=Object.freeze({Addon:function(se){},Getter:function Re(se,Ee,Q){return function(B){if(B.hmd||(B.hmd={}),!B.hmd[se]){var we=new Ee(B);if(B.hmd[se]=we,Q)for(var ke in Q)we[ke]=Q[ke];return we}return B.hmd[se]}}});m.cmpPos=S.cmpPos,m.Addon=Ie,m.FlipFlop=T,m.tryToRun=function F(se,Ee,Q){Ee=~~Ee||5;var B=250;setTimeout(function we(){if(Ee--){try{if(se())return}catch(ke){}setTimeout(we,B),B*=2}else Q&&Q()},0)},m.debounce=$,m.addClass=Z,m.rmClass=P,m.contains=U,m.repeat=function H(se,Ee){var Q=new Array(Ee);if(Q.fill)Q.fill(se);else for(var B=0;B<Ee;B++)Q[B]=se;return Q},m.repeatStr=function D(se,Ee){for(var Q="";Ee-- >0;)Q+=se;return Q},m.visitElements=I,m.watchSize=function j(se,Ee,Q){var B=se.getBoundingClientRect(),we=B.width,ke=B.height,Oe=$(function(){var Ne=se.getBoundingClientRect(),je=Ne.width,Te=Ne.height;(we!=je||ke!=Te)&&(Ee(je,Te,we,ke),we=je,ke=Te,setTimeout(Oe,200))},100),rt=null,Je=!1,Ct=[];return Q||I([se],function J(Ne){var je=Ne.tagName;"none"!=(getComputedStyle(Ne).getPropertyValue("resize")||"")&&(Q=!0),/^(?:img|video)$/i.test(je)?(Ne.addEventListener("load",Oe,!1),Ne.addEventListener("error",Oe,!1)):/^(?:details|summary)$/i.test(je)&&Ne.addEventListener("click",Oe,!1)}),Q&&(rt=setTimeout(function ot(){rt&&clearTimeout(rt),Je||(rt=setTimeout(ot,200)),Oe()},200)),{check:Oe,stop:function Pt(){Je=!0,Oe.stop(),rt&&(clearTimeout(rt),rt=null);for(var Ne=0;Ne<Ct.length;Ne++)Ct[Ne][0].removeEventListener(Ct[Ne][1],Oe,!1)}}},m.makeSymbol=R,m.suggestedEditorConfig=V,m.normalVisualConfig=q,m.fromTextArea=function G(se,Ee){var Q=Object.assign({},V,Ee),B=S.fromTextArea(se,Q);return B[x]=!0,B},m.switchToNormal=function re(se,Ee){if(se[x]){"string"==typeof Ee&&(Ee={theme:Ee});var Q=Object.assign({},q,Ee);for(var B in Q)se.setOption(B,Q[B])}},m.switchToHyperMD=function pe(se,Ee){"string"==typeof Ee&&(Ee={theme:Ee});var Q={};if(x in se){for(var B in q)Q[B]=V[B];Object.assign(Q,Ee)}else Object.assign(Q,V,Ee),se[x]=!0;for(var we in Q)se.setOption(we,Q[we])},m.cm_internal=ye,m.TokenSeeker=xe,m.getEveryCharToken=function ae(se){var Ee=new Array(se.text.length),Q=se.styles,B=0;if(Q)for(var we=1;we<Q.length;we+=2)for(var ke=Q[we],Oe=Q[we+1];B<ke;)Ee[B++]=Oe;else for(var ot=(se.parent.cm||se.parent.parent.cm||se.parent.parent.parent.cm).getLineTokens(se.lineNo()),Je=0;Je<ot.length;Je++)for(var Pt=ot[Je].end,Ct=ot[Je].type;B<Pt;)Ee[B++]=Ct;return Ee},m.expandRange=function oe(se,Ee,Q){var Je,B=Ee.line,we={line:B,ch:0},ke={line:B,ch:Ee.ch},Oe="function"==typeof Q&&Q,rt=!Oe&&new RegExp("(?:^|\\s)"+Q+"(?:\\s|$)"),ot=se.getLineTokens(B);for(Je=0;Je<ot.length&&!(ot[Je].end>=Ee.ch);Je++);if(Je===ot.length)return null;for(var Pt=Je;Pt<ot.length;Pt++){var Ct=ot[Pt];if(!(Oe?Oe(Ct):rt.test(Ct.type)))break;ke.ch=Ct.end}for(Pt=Je;Pt>=0;Pt--)if(Ct=ot[Pt],!(Oe?Oe(Ct):rt.test(Ct.type))){we.ch=Ct.end;break}return{from:we,to:ke}},m.orderedRange=function k(se){return"anchor"in se&&(se=[se.head,se.anchor]),S.cmpPos(se[0],se[1])>0?[se[1],se[0]]:[se[0],se[1]]},m.rangesIntersect=function he(se,Ee){var Q=se[0],ke=Ee[1];return!(S.cmpPos(se[1],Ee[0])<0||S.cmpPos(Q,ke)>0)},m.getLineSpanExtractor=function ue(se){return ie in se?se[ie]:se[ie]=new Ce(se)},Object.defineProperty(m,"__esModule",{value:!0})}(de,Y(8266),Y(6501),Y(3400),Y(4242),Y(8375),Y(4777),Y(5685),Y(3903))},7025:(vt,de,Y)=>{!function(m,S,T,F,$,Z,P,U,H,D,I,j,R,x,V,q,G,re,pe,fe,me){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),function te(ye){for(var xe in ye)S.hasOwnProperty(xe)||(S[xe]=ye[xe])}(T),S.Mode=F,S.InsertFile=$,S.ReadLink=Z,S.Hover=P,S.Click=U,S.Paste=H,S.Fold=D,S.FoldImage=I,S.FoldLink=j,S.FoldCode=R,S.FoldMath=x,S.FoldEmoji=V,S.FoldHTML=q,S.TableAlign=G,S.ModeLoader=re,S.HideToken=pe,S.CursorDebounce=fe,S.KeyMap=me}(0,de,Y(1415),Y(8608),Y(6980),Y(9127),Y(1746),Y(2729),Y(3956),Y(5413),Y(9985),Y(844),Y(6017),Y(8576),Y(9329),Y(5637),Y(6883),Y(9159),Y(8281),Y(3443),Y(3710))},3710:(vt,de,Y)=>{!function(m,S,T,F,$){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var Z,P=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,U=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,H=/[*+-]\s/,D=/^(\s*)([*+-]\s|(\d+)([.)]))(\s*)/,I=function(te){return/hmd-table-sep/.test(te.type)&&!/hmd-table-sep-dummy/.test(te.type)};function j(te){if(te.getOption("disableInput"))return T.Pass;for(var xe=[],ae=0,oe=te.listSelections();ae<oe.length;ae++){var k=oe[ae],he=k.head,Ce=k.empty(),ie=te.getStateAfter(he.line),ue=te.getLine(he.line),W=!1;if(!W){var Re=!1!==ie.list,Ie=ie.quote,se=P.exec(ue),Ee=/^\s*$/.test(ue.slice(0,he.ch));if(Ce&&(Re||Ie)&&se&&!Ee)if(W=!0,U.test(ue))/>\s*$/.test(ue)||te.replaceRange("",{line:he.line,ch:0},{line:he.line,ch:he.ch+1}),xe.push("\n");else{var Q=se[1],B=se[5],we=!(H.test(se[2])||se[2].indexOf(">")>=0),ke=we?parseInt(se[3],10)+1+se[4]:se[2].replace("x"," ");xe.push("\n"+Q+ke+B),we&&pe(te,he)}}if(!W){var Oe=Ce?ie.hmdTable:0;if(0!=Oe){if(!/^[\s\|]+$/.test(ue)||he.line!==te.lastLine()&&te.getStateAfter(he.line+1).hmdTable===Oe){var ot=$.repeatStr("  |  ",ie.hmdTableColumns.length-1),Je="\n";2===Oe&&(Je+="| ",ot+=" |"),te.setCursor(0==ie.hmdTableRow?{line:he.line+1,ch:te.getLine(he.line+1).length}:{line:he.line,ch:ue.length}),te.replaceSelection(Je),te.replaceSelection(ot,"start")}else te.setCursor({line:he.line,ch:0}),te.replaceRange("\n",{line:he.line,ch:0},{line:he.line,ch:ue.length});return void(W=!0)}if(Ce&&he.ch>=ue.length&&!ie.code&&!ie.hmdInnerMode&&/^\|.+\|.+\|$/.test(ue)){for(var Pt=te.getLineTokens(he.line),Ct="|",J="|",Ne=1;Ne<Pt.length;Ne++){var je=Pt[Ne];"|"===je.string&&(!je.type||!je.type.trim().length)&&(Ct+=" ------- |",J+="   |")}return te.setCursor({line:he.line,ch:ue.length}),te.replaceSelection("\n"+Ct+"\n| "),te.replaceSelection(J.slice(1)+"\n","start"),void(W=!0)}}if(W||Ce&&"$$"==ue.slice(he.ch-2,he.ch)&&/math-end/.test(te.getTokenTypeAt(he))&&(xe.push("\n"),W=!0),!W)return void te.execCommand("newlineAndIndent")}te.replaceSelections(xe)}function R(te){if(te.getOption("disableInput"))return T.Pass;for(var ye=te.listSelections(),xe=$.repeat("\n",ye.length),ae=0;ae<ye.length;ae++){var he=te.getStateAfter(ye[ae].head.line);!1!==he.list&&(xe[ae]+=$.repeatStr(" ",he.listStack.slice(-1)[0]))}te.replaceSelections(xe)}function x(te,ye,xe){if(xe&&!(xe<0)){var ae=/^ */.exec(te.getLine(ye))[0].length;ae<xe&&(xe=ae),xe>0&&te.replaceRange("",{line:ye,ch:0},{line:ye,ch:xe})}}function V(te){for(var ye,xe=te.listSelections(),oe=new $.TokenSeeker(te),k=0;k<xe.length;k++){var he=xe[k],Ce=he.head,ie=he.anchor;!he.empty()&&F.cmpPos(Ce,ie)>0?(ie=(ye=[Ce,ie])[0],Ce=ye[1]):ie===Ce&&(ie=he.anchor={ch:Ce.ch,line:Ce.line});var W=te.getStateAfter(Ce.line);if(W.hmdTable){oe.setPos(Ce.line,Ce.ch);var Re=2===W.hmdTable,Ie=Ce.line,se=te.getLine(Ie),Ee=0,Q=0,B=oe.findPrev(I);if(B){var we=oe.findPrev(I,B.i_token-1);Q=B.token.start,0==(Ee=we?we.token.end:0)&&Re&&(Ee+=se.match(/^\s*\|/)[0].length)}else{if(0==W.hmdTableRow)return;2==W.hmdTableRow&&Ie--,Ie--,se=te.getLine(Ie),oe.setPos(Ie,se.length),Ee=(we=oe.findPrev(I)).token.end,Q=se.length,Re&&(Q-=se.match(/\|\s*$/)[0].length)}return" "===se.charAt(Ee)&&(Ee+=1),Ee>0&&" |"===se.substr(Ee-1,2)&&Ee--," "===se.charAt(Q-1)&&(Q-=1),void te.setSelection({line:Ie,ch:Ee},{line:Ie,ch:Q})}if(W.listStack.length>0){for(var ke=Ce.line;!D.test(te.getLine(ke));)if(ke--,!(te.getStateAfter(ke).listStack.length>0)){ke++;break}for(var rt=te.lastLine(),ot=void 0;ke<=ie.line&&(ot=D.exec(te.getLine(ke)));ke++){var Ct,Je=te.getStateAfter(ke).listStack,Pt=Je.length;for(x(te,ke,Ct=1==Pt?ot[1].length:Je[Pt-1]-(Je[Pt-2]||0));++ke<=rt;){if(te.getStateAfter(ke).listStack.length!==Pt){ke=1/0;break}if(D.test(te.getLine(ke))){ke--;break}x(te,ke,Ct)}}return}}te.execCommand("indentLess")}function q(te){var ye,xe=te.listSelections(),ae=[],oe=[],k=[],he={},Ce=new $.TokenSeeker(te),ie=!1,ue=!1,W=!1,Re=!0;function Ie(sn){ae[Q]=sn,sn&&(ue=!0)}function se(sn){oe[Q]=sn,sn&&(W=!0)}function Ee(sn){k[Q]=sn,sn&&(Re=!0)}for(var Q=0;Q<xe.length;Q++){ae[Q]=oe[Q]=k[Q]="";var B=xe[Q],we=B.head,ke=B.anchor,Oe=B.empty();!Oe&&F.cmpPos(we,ke)>0?(ke=(ye=[we,ke])[0],we=ye[1]):ke===we&&(ke=B.anchor={ch:we.ch,line:we.line});var rt=te.getStateAfter(we.line),ot=te.getLine(we.line);if(rt.hmdTable){ie=!0;var Je=2===rt.hmdTable,Pt=rt.hmdTableColumns;Ce.setPos(we.line,we.ch);var Ct=Ce.findNext(I,Ce.i_token);if(Ct){var be=Ce.findNext(/hmd-table-sep/,Ct.i_token+1);we.ch=Ct.token.end,ke.ch=be?be.token.start:ot.length,ke.ch>we.ch&&" "===ot.charAt(we.ch)&&we.ch++,ke.ch>we.ch&&" "===ot.charAt(ke.ch-1)&&ke.ch--,Ee(ke.ch>we.ch?te.getRange(we,ke):"")}else{var J=0===rt.hmdTableRow?2:1;if(we.line+J>te.lastLine()||te.getStateAfter(we.line+J).hmdTable!=rt.hmdTable){we.ch=ke.ch=ot.length;var Ne=$.repeatStr("  |  ",Pt.length-1);0===rt.hmdTableRow&&(ke.line=we.line+=1,ke.ch=we.ch=te.getLine(we.line).length),Je?(Ie("\n| "),se(Ne+" |")):(Ie("\n"),se(Ne.trimRight())),Ee("")}else{ke.line=we.line+=J,Ce.setPos(we.line,0);var je=Ce.line.text,Te=Je&&Ce.findNext(/hmd-table-sep-dummy/,0);be=Ce.findNext(/hmd-table-sep/,Te?Te.i_token+1:1),we.ch=Te?Te.token.end:0,ke.ch=be?be.token.start:je.length,ke.ch>we.ch&&" "===je.charAt(we.ch)&&we.ch++,ke.ch>we.ch&&" "===je.charAt(ke.ch-1)&&ke.ch--,Ee(ke.ch>we.ch?te.getRange(we,ke):"")}}}else if(rt.listStack.length>0){for(var Pe=we.line,We=void 0;!(We=D.exec(te.getLine(Pe)));)if(Pe--,!(te.getStateAfter(Pe).listStack.length>0)){Pe++;break}for(var ze=te.firstLine(),dt=te.lastLine();Pe<=ke.line&&(We=D.exec(te.getLine(Pe)));Pe++){var Ye=te.getStateAfter(Pe).listStack,nt=te.getStateAfter(Pe-1).listStack,kt=Ye.length,Rt="";for(Pe>ze&&kt<=nt.length&&(Rt=$.repeatStr(" ",kt==nt.length?nt[kt-1]-We[1].length:nt[kt]-We[0].length)),he[Pe]=Rt;++Pe<=dt;){if(te.getStateAfter(Pe).listStack.length!==kt){Pe=1/0;break}if(D.test(te.getLine(Pe))){Pe--;break}he[Pe]=Rt}}if(!Oe){Re=!1;break}}else if(Oe)Ie("    ");else for(Ee(te.getRange(we,ke)),Pe=we.line;Pe<=ke.line;Pe++)Pe in he||(he[Pe]="    ")}for(var Pe in he)he[Pe]&&te.replaceRange(he[Pe],{line:~~Pe,ch:0});ie&&te.setSelections(xe),ue&&te.replaceSelections(ae),W&&te.replaceSelections(oe,"start"),Re&&te.replaceSelections(k,"around")}function re(te,ye,xe){return function(ae){var oe;if(ae.getOption("disableInput"))return T.Pass;for(var k=new $.TokenSeeker(ae),he=ae.listSelections(),Ce=new Array(he.length),ie=0;ie<he.length;ie++){var ue=he[ie],W=ue.head,Re=ue.anchor,Ie=ae.getStateAfter(W.line),se=ue.empty();F.cmpPos(W,Re)>0&&(Re=(oe=[W,Re])[0],W=oe[1]);var Ee=Ce[ie]=se?"":ae.getRange(W,Re);if(se||te(ae.getTokenAt(W).state)){var Q=W.line;k.setPos(Q,W.ch,!0);var B=k.lineTokens[k.i_token];(!B||/^\s*$/.test(B.string))&&(B=k.lineTokens[--k.i_token]);var ke=k.expandRange(function(je){return je&&(te(je.state)||ye(je))}),Oe=ke.from,rt=ke.to;if(rt.i_token===Oe.i_token){var ot=xe();if(B&&!/^\s*$/.test(B.string)){var Je={line:Q,ch:B.start},Pt={line:Q,ch:B.end};return ae.replaceRange(ot+(B=Oe.token).string+ot,Je,Pt),Pt.ch+=ot.length,void ae.setCursor(Pt)}Ce[ie]=ot}else ye(rt.token)&&ae.replaceRange("",{line:Q,ch:rt.token.start},{line:Q,ch:rt.token.end}),Oe.i_token!==rt.i_token&&ye(Oe.token)&&ae.replaceRange("",{line:Q,ch:Oe.token.start},{line:Q,ch:Oe.token.end})}else{var Ct=ae.getTokenAt(W),Ne=xe(Ct?Ct.state:Ie);Ce[ie]=Ne+Ee+Ne}}ae.replaceSelections(Ce)}}function pe(te,ye){var xe=P,ae=ye.line,oe=0,k=0,he=xe.exec(te.getLine(ae)),Ce=he[1];do{var ie=ae+(oe+=1),ue=te.getLine(ie),W=xe.exec(ue);if(W){var Re=W[1],Ie=parseInt(he[3],10)+oe-k,se=parseInt(W[3],10),Ee=se;if(Ce!==Re||isNaN(se)){if(Ce.length>Re.length||Ce.length<Re.length&&1===oe)return;k+=1}else Ie===se&&(Ee=se+1),Ie>se&&(Ee=Ie+1),te.replaceRange(ue.replace(xe,Re+Ee+W[4]+W[5]),{line:ie,ch:0},{line:ie,ch:ue.length})}}while(W)}S.newlineAndContinue=j,S.newline=R,S.shiftTab=V,S.tab=q,S.wrapTexts=function G(te,ye,xe){var ae;if(te.getOption("disableInput"))return T.Pass;var oe=te.listSelections(),k=new Array(oe.length),he=new Array(oe.length),Ce=!1,ie=!1,ue=!1;xe||(xe=ye);for(var W=ye.length,Re=xe.length,Ie=0;Ie<oe.length;Ie++){k[Ie]=he[Ie]="";var se=oe[Ie],Ee=se.head,Q=se.anchor,B=te.getLine(Ee.line);if(se.empty())Ee.ch>=W&&B.substr(Ee.ch-W,W)===ye?(ue=!0,Ee.ch-=W):(ie=!0,he[Ie]=ye);else{Ce=!0,F.cmpPos(Ee,Q)>0&&(Q=(ae=[Ee,Q])[0],Ee=ae[1]);var ke=te.getRange(Ee,Q);Ee.ch>=W&&Ee.line===Q.line&&B.substr(Ee.ch-W,W)===ye&&B.substr(Q.ch,Re)===xe&&(ue=!0,Q.ch+=Re,Ee.ch-=W,ke=ye+ke+xe),k[Ie]=ke.slice(0,W)===ye&&ke.slice(-Re)===xe?ke.slice(W,-Re):ye+ke+xe}}ue&&te.setSelections(oe),ie&&te.replaceSelections(he),Ce&&te.replaceSelections(k,"around")},S.createStyleToggler=re,Object.assign(T.commands,{hmdNewlineAndContinue:j,hmdNewline:R,hmdShiftTab:V,hmdTab:q});var me=T.keyMap.default===T.keyMap.macDefault?"Cmd":"Ctrl";S.keyMap=((Z={"Shift-Tab":"hmdShiftTab",Tab:"hmdTab",Enter:"hmdNewlineAndContinue","Shift-Enter":"hmdNewline"})[me+"-B"]=re(function(te){return te.strong},function(te){return/ formatting-strong /.test(te.type)},function(te){return $.repeatStr(te&&te.strong||"*",2)}),Z[me+"-I"]=re(function(te){return te.em},function(te){return/ formatting-em /.test(te.type)},function(te){return te&&te.em||"*"}),Z[me+"-D"]=re(function(te){return te.strikethrough},function(te){return/ formatting-strikethrough /.test(te.type)},function(te){return"~~"}),Z.fallthrough="default",Z),S.keyMap=T.normalizeKeyMap(S.keyMap),T.keyMap.hypermd=S.keyMap,$.suggestedEditorConfig.keyMap="hypermd"}(0,de,Y(8266),Y(8266),Y(1415))},8608:function(vt,de,Y){var m=this&&this.__assign||Object.assign||function(S){for(var T,F=1,$=arguments.length;F<$;F++)for(var Z in T=arguments[F])Object.prototype.hasOwnProperty.call(T,Z)&&(S[Z]=T[Z]);return S};!function(S,T,F){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var $,Z=/[^\\][$|]/,P=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,U=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i,H=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,D=/^\.{0,2}\/[^\>\s]+/,I=/^(?:[-()/a-zA-Z0-9\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff70\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u30fc\u3005\u3041-\u3093\u30a1-\u30fe\u4e00-\u9FEF\u3400-\u4db5\ufa0e\ufa0f\ufa11\ufa13\ufa14\ufa1f\ufa21\ufa23\ufa24\ufa27-\ufa29]|[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d])+/,j=/^\s*[^\|].*?\|.*[^|]\s*$/,R=/^\s*[^\|].*\|/,x=/^\s*\|[^\|]+\|.+\|\s*$/,V=/^\s*\|/,q=(($={})[1]="hmd-barelink",$[6]="hmd-barelink2",$[2]="hmd-barelink hmd-footref",$[4]="hmd-footnote line-HyperMD-footnote",$[7]="hmd-footref2",$);function G(fe){fe.hmdTable=0,fe.hmdTableColumns=[],fe.hmdTableID=null,fe.hmdTableCol=fe.hmdTableRow=0}var re=/^\s+((\d+[).]|[-*+])\s+)?/,pe={hr:"line-HyperMD-hr line-background-HyperMD-hr-bg hr",list1:"list-1",list2:"list-2",list3:"list-3",code:"inline-code",hashtag:"hashtag meta"};F.defineMode("hypermd",function(fe,me){var te={front_matter:!0,math:!0,table:!0,toc:!0,orgModeMarkup:!0,hashtag:!1,fencedCodeBlockHighlighting:!0,name:"markdown",highlightFormatting:!0,taskLists:!0,strikethrough:!0,emoji:!0,tokenTypeOverrides:pe};Object.assign(te,me),te.tokenTypeOverrides!==pe&&(te.tokenTypeOverrides=Object.assign({},pe,te.tokenTypeOverrides)),te.name="markdown";var ye={htmlBlock:null},xe=F.getMode(fe,te),ae=m({},xe);function oe(ue,W){var Re=W.hmdInnerExitChecker(ue,W),Ie=W.hmdInnerStyle,se=(!Re||!Re.skipInnerMode)&&W.hmdInnerMode.token(ue,W.hmdInnerState)||"";return Ie&&(se+=" "+Ie),Re&&(Re.style&&(se+=" "+Re.style),Re.endPos&&(ue.pos=Re.endPos),W.hmdInnerExitChecker=null,W.hmdInnerMode=null,W.hmdInnerState=null,W.hmdOverride=null),se.trim()||null}function he(ue){return{token:function(W){var Re=W.string.indexOf(ue,W.start);return-1===Re?W.skipToEnd():0===Re?W.pos+=ue.length:(W.pos=Re,"\\"===W.string.charAt(Re-1)&&W.pos++),null}}}function Ce(ue,W){return W||(W={}),function(Re,Ie){return Re.string.substr(Re.start,ue.length)===ue?(W.endPos=Re.start+ue.length,W):null}}function ie(ue,W,Re,Ie){if("string"==typeof Re&&(Re=F.getMode(fe,Re)),!(Re&&"null"!==Re.name||(Re="endTag"in Ie?he(Ie.endTag):"function"==typeof Ie.fallbackMode&&Ie.fallbackMode(),Re)))throw new Error("no mode");W.hmdInnerExitChecker="endTag"in Ie?Ce(Ie.endTag):Ie.exitChecker,W.hmdInnerStyle=Ie.style,W.hmdInnerMode=Re,W.hmdOverride=oe,W.hmdInnerState=F.startState(Re);var se=Ie.style||"";return Ie.skipFirstToken||(se+=" "+Re.token(ue,W.hmdInnerState)),se.trim()}return ae.startState=function(){var ue=xe.startState();return G(ue),ue.hmdOverride=null,ue.hmdInnerExitChecker=null,ue.hmdInnerMode=null,ue.hmdLinkType=0,ue.hmdNextMaybe=te.front_matter?1:0,ue.hmdNextState=null,ue.hmdNextStyle=null,ue.hmdNextPos=null,ue.hmdHashtag=0,ue},ae.copyState=function(ue){for(var W=xe.copyState(ue),Ie=0,se=["hmdLinkType","hmdNextMaybe","hmdTable","hmdTableID","hmdTableCol","hmdTableRow","hmdOverride","hmdInnerMode","hmdInnerStyle","hmdInnerExitChecker","hmdNextPos","hmdNextState","hmdNextStyle","hmdHashtag"];Ie<se.length;Ie++){var Ee=se[Ie];W[Ee]=ue[Ee]}return W.hmdTableColumns=ue.hmdTableColumns.slice(0),ue.hmdInnerMode&&(W.hmdInnerState=F.copyState(ue.hmdInnerMode,ue.hmdInnerState)),W},ae.blankLine=function(ue){var W,Re=ue.hmdInnerMode;return Re?Re.blankLine&&(W=Re.blankLine(ue.hmdInnerState)):W=xe.blankLine(ue),W||(W=""),-1===ue.code&&(W+=" line-HyperMD-codeblock line-background-HyperMD-codeblock-bg"),G(ue),W.trim()||null},ae.indent=function(ue,W){var Re=ue.hmdInnerMode||xe,Ie=Re.indent;return"function"==typeof Ie?Ie.apply(Re,arguments):F.Pass},ae.innerMode=function(ue){return ue.hmdInnerMode?{mode:ue.hmdInnerMode,state:ue.hmdInnerState}:xe.innerMode(ue)},ae.token=function(ue,W){if(W.hmdOverride)return W.hmdOverride(ue,W);if(1===W.hmdNextMaybe){if("---"===ue.string)return W.hmdNextMaybe=2,ie(ue,W,"yaml",{style:"hmd-frontmatter",fallbackMode:function(){return he("---")},exitChecker:function(nn,vn){return"---"===nn.string?(vn.hmdNextMaybe=0,{endPos:3}):null}});W.hmdNextMaybe=0}var Oe,Re=W.f===ye.htmlBlock,Ie=-1===W.code,se=0===ue.start,Ee=W.linkText,Q=W.linkHref,B=!(Ie||Re),we=B&&!(W.code||W.indentedCode||W.linkHref),ke="";if(B){if(te.math&&we&&(Oe=ue.match(/^\${1,2}/,!1))){var rt=Oe[0],ot=rt.length;if(2===ot||ue.string.slice(ue.pos).match(/[^\\]\$/)){var Je=F.getMode(fe,{name:"stex"}),Pt="stex"!==Je.name;return ke+=ie(ue,W,Je,{style:"math",skipFirstToken:Pt,fallbackMode:function(){return he(rt)},exitChecker:Ce(rt,{style:"formatting formatting-math formatting-math-end math-"+ot})}),Pt&&(ue.pos+=Oe[0].length),ke+" formatting formatting-math formatting-math-begin math-"+ot}}if(se&&te.orgModeMarkup&&(Oe=ue.match(/^\#\+(\w+\:?)\s*/)))return ue.eol()||(W.hmdOverride=function(nn,vn){return nn.skipToEnd(),vn.hmdOverride=null,"string hmd-orgmode-markup"}),"meta formatting-hmd-orgmode-markup hmd-orgmode-markup line-HyperMD-orgmode-markup";if(se&&te.toc&&ue.match(/^\[TOCM?\]\s*$/i))return"meta line-HyperMD-toc hmd-toc";if(we&&!W.hmdLinkType&&(ue.match(U)||ue.match(H)))return"url"}W.hmdNextState?(ue.pos=W.hmdNextPos,ke+=" "+(W.hmdNextStyle||""),Object.assign(W,W.hmdNextState),W.hmdNextState=null,W.hmdNextStyle=null,W.hmdNextPos=null):ke+=" "+(xe.token(ue,W)||""),0!==W.hmdHashtag&&(ke+=" "+te.tokenTypeOverrides.hashtag),!ye.htmlBlock&&W.htmlState&&(ye.htmlBlock=W.f);var Ct=W.f===ye.htmlBlock,J=-1===W.code;B=B&&!(Ct||J),(we=we&&B&&!(W.code||W.indentedCode||W.linkHref))&&(Oe=ue.current().match(Z))&&(ue.pos=ue.start+Oe.index+1);var Ne=ue.current();if(Ct!=Re&&(Ct?(ke+=" hmd-html-begin",ye.htmlBlock=W.f):ke+=" hmd-html-end"),(Ie||J)&&((!W.localMode||!Ie)&&(ke=ke.replace("inline-code","")),ke+=" line-HyperMD-codeblock line-background-HyperMD-codeblock-bg",J!==Ie&&(J?Ie||(ke+=" line-HyperMD-codeblock-begin line-background-HyperMD-codeblock-begin-bg"):ke+=" line-HyperMD-codeblock-end line-background-HyperMD-codeblock-end-bg")),B){var je=W.hmdTable;if(se&&je&&((1==je?R:V).test(ue.string)?(W.hmdTableCol=0,W.hmdTableRow++):G(W)),se&&W.header&&(/^(?:---+|===+)\s*$/.test(ue.string)&&W.prevLine&&W.prevLine.header?ke+=" line-HyperMD-header-line line-HyperMD-header-line-"+W.header:ke+=" line-HyperMD-header line-HyperMD-header-"+W.header),W.indentedCode&&(ke+=" hmd-indented-code"),W.quote){if(ue.eol()&&(ke+=" line-HyperMD-quote line-HyperMD-quote-"+W.quote,/^ {0,3}\>/.test(ue.string)||(ke+=" line-HyperMD-quote-lazy")),se&&(Oe=Ne.match(/^\s+/)))return ue.pos=Oe[0].length,(ke+=" hmd-indent-in-quote").trim();/^>\s+$/.test(Ne)&&">"!=ue.peek()&&(ue.pos=ue.start+1,Ne=">",W.hmdOverride=function(nn,vn){return nn.match(re),vn.hmdOverride=null,"hmd-indent-in-quote line-HyperMD-quote line-HyperMD-quote-"+vn.quote})}var be=(W.listStack[W.listStack.length-1]||0)+3,Pe=se&&/^\s+$/.test(Ne)&&(!1!==W.list||ue.indentation()<=be),We=W.list&&/formatting-list/.test(ke);if(We||Pe&&(!1!==W.list||ue.match(P,!1))){var tt=W.listStack&&W.listStack.length||0;if(Pe){if(ue.match(P,!1))!1===W.list&&tt++;else{for(;tt>0&&ue.pos<W.listStack[tt-1];)tt--;if(!tt)return ke.trim()||null;ke+=" line-HyperMD-list-line-nobullet line-HyperMD-list-line line-HyperMD-list-line-"+tt}ke+=" hmd-list-indent hmd-list-indent-"+tt}else We&&(ke+=" line-HyperMD-list-line line-HyperMD-list-line-"+tt)}if(Ee!==W.linkText&&(Ee?(W.hmdLinkType in q&&(ke+=" "+q[W.hmdLinkType]),W.hmdLinkType=4===W.hmdLinkType?5:0):(Oe=ue.match(/^([^\]]+)\](\(| ?\[|\:)?/,!1),W.hmdLinkType=Oe?Oe[2]?":"===Oe[2]?4:"["!==Oe[2]&&" ["!==Oe[2]||"]"!==ue.string.charAt(ue.pos+Oe[0].length)?3:6:"^"===Oe[1].charAt(0)?2:1:1)),Q!==W.linkHref&&(Q?W.hmdLinkType&&(ke+=" "+q[W.hmdLinkType],W.hmdLinkType=0):"["===Ne&&"]"!==ue.peek()&&(W.hmdLinkType=7)),0!==W.hmdLinkType&&(W.hmdLinkType in q&&(ke+=" "+q[W.hmdLinkType]),5===W.hmdLinkType&&(/^(?:\]\:)?\s*$/.test(Ne)||(U.test(Ne)||D.test(Ne)?ke+=" hmd-footnote-url":ke=ke.replace("string url",""),W.hmdLinkType=0))),/formatting-escape/.test(ke)&&Ne.length>1){var ze=Ne.length-1,dt=ke.replace("formatting-escape","escape")+" hmd-escape-char";return W.hmdOverride=function(nn,vn){return nn.pos+=ze,vn.hmdOverride=null,dt.trim()},ke+=" hmd-escape-backslash",ue.pos-=ze,ke}if(!ke.trim()&&te.table){var Dt=!1;if("|"===Ne.charAt(0)&&(ue.pos=ue.start+1,Ne="|",Dt=!0),Dt){if(!je){j.test(ue.string)?je=1:x.test(ue.string)&&(je=2);var Ye=void 0;if(je){var nt=ue.lookAhead(1);if(2===je?x.test(nt)?nt=nt.replace(/^\s*\|/,"").replace(/\|\s*$/,""):je=0:1===je&&(j.test(nt)||(je=0)),je){Ye=nt.split("|");for(var kt=0;kt<Ye.length;kt++){if(/^\s*--+\s*:\s*$/.test(Rt=Ye[kt]))Rt="right";else if(/^\s*:\s*--+\s*$/.test(Rt))Rt="left";else if(/^\s*:\s*--+\s*:\s*$/.test(Rt))Rt="center";else{if(!/^\s*--+\s*$/.test(Rt)){je=0;break}Rt="default"}Ye[kt]=Rt}}}je&&(W.hmdTable=je,W.hmdTableColumns=Ye,W.hmdTableID="T"+ue.lineOracle.line,W.hmdTableRow=W.hmdTableCol=0)}if(je){var sn=W.hmdTableColumns.length-1;if(2===je&&(0===W.hmdTableCol&&/^\s*\|$/.test(ue.string.slice(0,ue.pos))||ue.match(/^\s*$/,!1)))ke+=" hmd-table-sep hmd-table-sep-dummy";else if(W.hmdTableCol<sn){var Rt=W.hmdTableRow,Qt=W.hmdTableCol++;0==Qt&&(ke+=" line-HyperMD-table_"+W.hmdTableID+" line-HyperMD-table-"+je+" line-HyperMD-table-row line-HyperMD-table-row-"+Rt),ke+=" hmd-table-sep hmd-table-sep-"+Qt}}}}if(je&&1===W.hmdTableRow&&/emoji/.test(ke)&&(ke=""),we&&"<"===Ne){var Ot=null;if(ue.match(/^\![A-Z]+/)?Ot=">":ue.match("?")?Ot="?>":ue.match("![CDATA[")&&(Ot="]]>"),null!=Ot)return ie(ue,W,null,{endTag:Ot,style:(ke+" comment hmd-cdata-html").trim()})}if(te.hashtag&&we)switch(W.hmdHashtag){case 0:if("#"===Ne&&!W.linkText&&!W.image&&(se||/^\s*$/.test(ue.string.charAt(ue.start-1)))){var xt=ue.string.slice(ue.pos).replace(/\\./g,"");if(Oe=I.exec(xt))for(W.hmdHashtag=/^\d+$/.test(Oe[0])?0:1,xt=xt.slice(Oe[0].length);;){if("#"===xt[0]&&(1===xt.length||!I.test(xt[1]))){W.hmdHashtag=2;break}if(!((Oe=xt.match(/^\s+/))&&(xt=xt.slice(Oe[0].length),Oe=xt.match(I))))break;xt=xt.slice(Oe[0].length)}W.hmdHashtag&&(ke+=" formatting formatting-hashtag hashtag-begin "+te.tokenTypeOverrides.hashtag)}break;case 1:var cn=!1;if(!/formatting/.test(ke)&&!/^\s*$/.test(Ne)){Oe=Ne.match(I);var Ut=Ne.length-(Oe?Oe[0].length:0);Ut>0&&(ue.backUp(Ut),cn=!0)}cn||(cn=ue.eol()),cn||(cn=!I.test(ue.peek())),cn&&(ke+=" hashtag-end",W.hmdHashtag=0);break;case 2:"#"===Ne&&(ke=ke.replace(/\sformatting-header(?:-\d+)?/g,""),ke+=" formatting formatting-hashtag hashtag-end",W.hmdHashtag=0)}}return ke.trim()||null},ae},"hypermd"),F.defineMIME("text/x-hypermd","hypermd")}(0,de,Y(8266),Y(521),Y(4810))},2940:function(vt,de){!function(Y){"use strict";function m(G){return Array.prototype.slice.call(G)}function S(G){return new Promise(function(re,pe){G.onsuccess=function(){re(G.result)},G.onerror=function(){pe(G.error)}})}function T(G,re,pe){var fe,me=new Promise(function(te,ye){S(fe=G[re].apply(G,pe)).then(te,ye)});return me.request=fe,me}function F(G,re,pe){var fe=T(G,re,pe);return fe.then(function(me){if(me)return new D(me,fe.request)})}function $(G,re,pe){pe.forEach(function(fe){Object.defineProperty(G.prototype,fe,{get:function(){return this[re][fe]},set:function(me){this[re][fe]=me}})})}function Z(G,re,pe,fe){fe.forEach(function(me){me in pe.prototype&&(G.prototype[me]=function(){return T(this[re],me,arguments)})})}function P(G,re,pe,fe){fe.forEach(function(me){me in pe.prototype&&(G.prototype[me]=function(){return this[re][me].apply(this[re],arguments)})})}function U(G,re,pe,fe){fe.forEach(function(me){me in pe.prototype&&(G.prototype[me]=function(){return F(this[re],me,arguments)})})}function H(G){this._index=G}function D(G,re){this._cursor=G,this._request=re}function I(G){this._store=G}function j(G){this._tx=G,this.complete=new Promise(function(re,pe){G.oncomplete=function(){re()},G.onerror=function(){pe(G.error)},G.onabort=function(){pe(G.error)}})}function R(G,re,pe){this._db=G,this.oldVersion=re,this.transaction=new j(pe)}function x(G){this._db=G}$(H,"_index",["name","keyPath","multiEntry","unique"]),Z(H,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),U(H,"_index",IDBIndex,["openCursor","openKeyCursor"]),$(D,"_cursor",["direction","key","primaryKey","value"]),Z(D,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(G){G in IDBCursor.prototype&&(D.prototype[G]=function(){var re=this,pe=arguments;return Promise.resolve().then(function(){return re._cursor[G].apply(re._cursor,pe),S(re._request).then(function(fe){if(fe)return new D(fe,re._request)})})})}),I.prototype.createIndex=function(){return new H(this._store.createIndex.apply(this._store,arguments))},I.prototype.index=function(){return new H(this._store.index.apply(this._store,arguments))},$(I,"_store",["name","keyPath","indexNames","autoIncrement"]),Z(I,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),U(I,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),P(I,"_store",IDBObjectStore,["deleteIndex"]),j.prototype.objectStore=function(){return new I(this._tx.objectStore.apply(this._tx,arguments))},$(j,"_tx",["objectStoreNames","mode"]),P(j,"_tx",IDBTransaction,["abort"]),R.prototype.createObjectStore=function(){return new I(this._db.createObjectStore.apply(this._db,arguments))},$(R,"_db",["name","version","objectStoreNames"]),P(R,"_db",IDBDatabase,["deleteObjectStore","close"]),x.prototype.transaction=function(){return new j(this._db.transaction.apply(this._db,arguments))},$(x,"_db",["name","version","objectStoreNames"]),P(x,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(G){[I,H].forEach(function(re){G in re.prototype&&(re.prototype[G.replace("open","iterate")]=function(){var pe=m(arguments),fe=pe[pe.length-1],me=this._store||this._index,te=me[G].apply(me,pe.slice(0,-1));te.onsuccess=function(){fe(te.result)}})})}),[H,I].forEach(function(G){G.prototype.getAll||(G.prototype.getAll=function(re,pe){var fe=this,me=[];return new Promise(function(te){fe.iterateCursor(re,function(ye){ye?(me.push(ye.value),void 0===pe||me.length!=pe?ye.continue():te(me)):te(me)})})})}),Y.openDb=function V(G,re,pe){var fe=T(indexedDB,"open",[G,re]),me=fe.request;return me&&(me.onupgradeneeded=function(te){pe&&pe(new R(me.result,te.oldVersion,me.transaction))}),fe.then(function(te){return new x(te)})},Y.deleteDb=function q(G){return T(indexedDB,"deleteDatabase",[G])},Object.defineProperty(Y,"__esModule",{value:!0})}(de)},5650:vt=>{vt.exports=function de(Y,m,S){function T(Z,P){if(!m[Z]){if(!Y[Z]){if(F)return F(Z,!0);var H=new Error("Cannot find module '"+Z+"'");throw H.code="MODULE_NOT_FOUND",H}var D=m[Z]={exports:{}};Y[Z][0].call(D.exports,function(I){return T(Y[Z][1][I]||I)},D,D.exports,de,Y,m,S)}return m[Z].exports}for(var F=void 0,$=0;$<S.length;$++)T(S[$]);return T}({1:[function(de,Y,m){"use strict";var S=de("./utils"),T=de("./support"),F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode=function($){for(var Z,P,U,D,I,j,R=[],x=0,V=$.length,q=V,G="string"!==S.getTypeOf($);x<$.length;)q=V-x,U=G?(Z=$[x++],P=x<V?$[x++]:0,x<V?$[x++]:0):(Z=$.charCodeAt(x++),P=x<V?$.charCodeAt(x++):0,x<V?$.charCodeAt(x++):0),D=(3&Z)<<4|P>>4,I=1<q?(15&P)<<2|U>>6:64,j=2<q?63&U:64,R.push(F.charAt(Z>>2)+F.charAt(D)+F.charAt(I)+F.charAt(j));return R.join("")},m.decode=function($){var Z,P,U,H,D,I,j=0,R=0,x="data:";if($.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var V,q=3*($=$.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if($.charAt($.length-1)===F.charAt(64)&&q--,$.charAt($.length-2)===F.charAt(64)&&q--,q%1!=0)throw new Error("Invalid base64 input, bad content length.");for(V=T.uint8array?new Uint8Array(0|q):new Array(0|q);j<$.length;)Z=F.indexOf($.charAt(j++))<<2|(H=F.indexOf($.charAt(j++)))>>4,P=(15&H)<<4|(D=F.indexOf($.charAt(j++)))>>2,U=(3&D)<<6|(I=F.indexOf($.charAt(j++))),V[R++]=Z,64!==D&&(V[R++]=P),64!==I&&(V[R++]=U);return V}},{"./support":30,"./utils":32}],2:[function(de,Y,m){"use strict";var S=de("./external"),T=de("./stream/DataWorker"),F=de("./stream/Crc32Probe"),$=de("./stream/DataLengthProbe");function Z(P,U,H,D,I){this.compressedSize=P,this.uncompressedSize=U,this.crc32=H,this.compression=D,this.compressedContent=I}Z.prototype={getContentWorker:function(){var P=new T(S.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new $("data_length")),U=this;return P.on("end",function(){if(this.streamInfo.data_length!==U.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),P},getCompressedWorker:function(){return new T(S.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Z.createWorkerFrom=function(P,U,H){return P.pipe(new F).pipe(new $("uncompressedSize")).pipe(U.compressWorker(H)).pipe(new $("compressedSize")).withStreamInfo("compression",U)},Y.exports=Z},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(de,Y,m){"use strict";var S=de("./stream/GenericWorker");m.STORE={magic:"\0\0",compressWorker:function(T){return new S("STORE compression")},uncompressWorker:function(){return new S("STORE decompression")}},m.DEFLATE=de("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(de,Y,m){"use strict";var S=de("./utils"),T=function(){for(var F,$=[],Z=0;Z<256;Z++){F=Z;for(var P=0;P<8;P++)F=1&F?3988292384^F>>>1:F>>>1;$[Z]=F}return $}();Y.exports=function(F,$){return void 0!==F&&F.length?"string"!==S.getTypeOf(F)?function(Z,P,U,H){var D=T,I=0+U;Z^=-1;for(var j=0;j<I;j++)Z=Z>>>8^D[255&(Z^P[j])];return-1^Z}(0|$,F,F.length):function(Z,P,U,H){var D=T,I=0+U;Z^=-1;for(var j=0;j<I;j++)Z=Z>>>8^D[255&(Z^P.charCodeAt(j))];return-1^Z}(0|$,F,F.length):0}},{"./utils":32}],5:[function(de,Y,m){"use strict";m.base64=!1,m.binary=!1,m.dir=!1,m.createFolders=!0,m.date=null,m.compression=null,m.compressionOptions=null,m.comment=null,m.unixPermissions=null,m.dosPermissions=null},{}],6:[function(de,Y,m){"use strict";var S;S="undefined"!=typeof Promise?Promise:de("lie"),Y.exports={Promise:S}},{lie:37}],7:[function(de,Y,m){"use strict";var S="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,T=de("pako"),F=de("./utils"),$=de("./stream/GenericWorker"),Z=S?"uint8array":"array";function P(U,H){$.call(this,"FlateWorker/"+U),this._pako=null,this._pakoAction=U,this._pakoOptions=H,this.meta={}}m.magic="\b\0",F.inherits(P,$),P.prototype.processChunk=function(U){this.meta=U.meta,null===this._pako&&this._createPako(),this._pako.push(F.transformTo(Z,U.data),!1)},P.prototype.flush=function(){$.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},P.prototype.cleanUp=function(){$.prototype.cleanUp.call(this),this._pako=null},P.prototype._createPako=function(){this._pako=new T[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var U=this;this._pako.onData=function(H){U.push({data:H,meta:U.meta})}},m.compressWorker=function(U){return new P("Deflate",U)},m.uncompressWorker=function(){return new P("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(de,Y,m){"use strict";function S(D,I){var j,R="";for(j=0;j<I;j++)R+=String.fromCharCode(255&D),D>>>=8;return R}function T(D,I,j,R,x,V){var q,G,re=D.file,pe=D.compression,fe=V!==Z.utf8encode,me=F.transformTo("string",V(re.name)),te=F.transformTo("string",Z.utf8encode(re.name)),ye=re.comment,xe=F.transformTo("string",V(ye)),ae=F.transformTo("string",Z.utf8encode(ye)),oe=te.length!==re.name.length,k=ae.length!==ye.length,he="",Ce="",ie="",ue=re.dir,W=re.date,Re={crc32:0,compressedSize:0,uncompressedSize:0};I&&!j||(Re.crc32=D.crc32,Re.compressedSize=D.compressedSize,Re.uncompressedSize=D.uncompressedSize);var Ie=0;I&&(Ie|=8),fe||!oe&&!k||(Ie|=2048);var B,ke,se=0,Ee=0;ue&&(se|=16),"UNIX"===x?(Ee=798,se|=(ke=B=re.unixPermissions,B||(ke=ue?16893:33204),(65535&ke)<<16)):(Ee=20,se|=function(B){return 63&(B||0)}(re.dosPermissions)),q=W.getUTCHours(),q<<=6,q|=W.getUTCMinutes(),q<<=5,q|=W.getUTCSeconds()/2,G=W.getUTCFullYear()-1980,G<<=4,G|=W.getUTCMonth()+1,G<<=5,G|=W.getUTCDate(),oe&&(Ce=S(1,1)+S(P(me),4)+te,he+="up"+S(Ce.length,2)+Ce),k&&(ie=S(1,1)+S(P(xe),4)+ae,he+="uc"+S(ie.length,2)+ie);var Q="";return Q+="\n\0",Q+=S(Ie,2),Q+=pe.magic,Q+=S(q,2),Q+=S(G,2),Q+=S(Re.crc32,4),Q+=S(Re.compressedSize,4),Q+=S(Re.uncompressedSize,4),Q+=S(me.length,2),Q+=S(he.length,2),{fileRecord:U.LOCAL_FILE_HEADER+Q+me+he,dirRecord:U.CENTRAL_FILE_HEADER+S(Ee,2)+Q+S(xe.length,2)+"\0\0\0\0"+S(se,4)+S(R,4)+me+he+xe}}var F=de("../utils"),$=de("../stream/GenericWorker"),Z=de("../utf8"),P=de("../crc32"),U=de("../signature");function H(D,I,j,R){$.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=j,this.encodeFileName=R,this.streamFiles=D,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}F.inherits(H,$),H.prototype.push=function(D){var I=D.meta.percent||0,j=this.entriesCount,R=this._sources.length;this.accumulate?this.contentBuffer.push(D):(this.bytesWritten+=D.data.length,$.prototype.push.call(this,{data:D.data,meta:{currentFile:this.currentFile,percent:j?(I+100*(j-R-1))/j:100}}))},H.prototype.openedSource=function(D){this.currentSourceOffset=this.bytesWritten,this.currentFile=D.file.name;var I=this.streamFiles&&!D.file.dir;if(I){var j=T(D,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:j.fileRecord,meta:{percent:0}})}else this.accumulate=!0},H.prototype.closedSource=function(D){this.accumulate=!1;var R,I=this.streamFiles&&!D.file.dir,j=T(D,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(j.dirRecord),I)this.push({data:(R=D,U.DATA_DESCRIPTOR+S(R.crc32,4)+S(R.compressedSize,4)+S(R.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:j.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},H.prototype.flush=function(){for(var D=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var x,V,q,pe,R=(x=this.dirRecords.length,V=this.bytesWritten-D,q=D,pe=F.transformTo("string",(0,this.encodeFileName)(this.zipComment)),U.CENTRAL_DIRECTORY_END+"\0\0\0\0"+S(x,2)+S(x,2)+S(V,4)+S(q,4)+S(pe.length,2)+pe);this.push({data:R,meta:{percent:100}})},H.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},H.prototype.registerPrevious=function(D){this._sources.push(D);var I=this;return D.on("data",function(j){I.processChunk(j)}),D.on("end",function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()}),D.on("error",function(j){I.error(j)}),this},H.prototype.resume=function(){return!!$.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},H.prototype.error=function(D){var I=this._sources;if(!$.prototype.error.call(this,D))return!1;for(var j=0;j<I.length;j++)try{I[j].error(D)}catch(R){}return!0},H.prototype.lock=function(){$.prototype.lock.call(this);for(var D=this._sources,I=0;I<D.length;I++)D[I].lock()},Y.exports=H},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(de,Y,m){"use strict";var S=de("../compressions"),T=de("./ZipFileWorker");m.generateWorker=function(F,$,Z){var P=new T($.streamFiles,Z,$.platform,$.encodeFileName),U=0;try{F.forEach(function(H,D){U++;var I=function(V,q){var G=V||q,re=S[G];if(!re)throw new Error(G+" is not a valid compression method !");return re}(D.options.compression,$.compression),R=D.dir,x=D.date;D._compressWorker(I,D.options.compressionOptions||$.compressionOptions||{}).withStreamInfo("file",{name:H,dir:R,date:x,comment:D.comment||"",unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions}).pipe(P)}),P.entriesCount=U}catch(H){P.error(H)}return P}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(de,Y,m){"use strict";function S(){if(!(this instanceof S))return new S;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var T=new S;for(var F in this)"function"!=typeof this[F]&&(T[F]=this[F]);return T}}(S.prototype=de("./object")).loadAsync=de("./load"),S.support=de("./support"),S.defaults=de("./defaults"),S.version="3.9.1",S.loadAsync=function(T,F){return(new S).loadAsync(T,F)},S.external=de("./external"),Y.exports=S},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(de,Y,m){"use strict";var S=de("./utils"),T=de("./external"),F=de("./utf8"),$=de("./zipEntries"),Z=de("./stream/Crc32Probe"),P=de("./nodejsUtils");function U(H){return new T.Promise(function(D,I){var j=H.decompressed.getContentWorker().pipe(new Z);j.on("error",function(R){I(R)}).on("end",function(){j.streamInfo.crc32!==H.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):D()}).resume()})}Y.exports=function(H,D){var I=this;return D=S.extend(D||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:F.utf8decode}),P.isNode&&P.isStream(H)?T.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):S.prepareContent("the loaded zip file",H,!0,D.optimizedBinaryString,D.base64).then(function(j){var R=new $(D);return R.load(j),R}).then(function(j){var R=[T.Promise.resolve(j)],x=j.files;if(D.checkCRC32)for(var V=0;V<x.length;V++)R.push(U(x[V]));return T.Promise.all(R)}).then(function(j){for(var R=j.shift(),x=R.files,V=0;V<x.length;V++){var q=x[V],G=q.fileNameStr,re=S.resolve(q.fileNameStr);I.file(re,q.decompressed,{binary:!0,optimizedBinaryString:!0,date:q.date,dir:q.dir,comment:q.fileCommentStr.length?q.fileCommentStr:null,unixPermissions:q.unixPermissions,dosPermissions:q.dosPermissions,createFolders:D.createFolders}),q.dir||(I.file(re).unsafeOriginalName=G)}return R.zipComment.length&&(I.comment=R.zipComment),I})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(de,Y,m){"use strict";var S=de("../utils"),T=de("../stream/GenericWorker");function F($,Z){T.call(this,"Nodejs stream input adapter for "+$),this._upstreamEnded=!1,this._bindStream(Z)}S.inherits(F,T),F.prototype._bindStream=function($){var Z=this;(this._stream=$).pause(),$.on("data",function(P){Z.push({data:P,meta:{percent:0}})}).on("error",function(P){Z.isPaused?this.generatedError=P:Z.error(P)}).on("end",function(){Z.isPaused?Z._upstreamEnded=!0:Z.end()})},F.prototype.pause=function(){return!!T.prototype.pause.call(this)&&(this._stream.pause(),!0)},F.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Y.exports=F},{"../stream/GenericWorker":28,"../utils":32}],13:[function(de,Y,m){"use strict";var S=de("readable-stream").Readable;function T(F,$,Z){S.call(this,$),this._helper=F;var P=this;F.on("data",function(U,H){P.push(U)||P._helper.pause(),Z&&Z(H)}).on("error",function(U){P.emit("error",U)}).on("end",function(){P.push(null)})}de("../utils").inherits(T,S),T.prototype._read=function(){this._helper.resume()},Y.exports=T},{"../utils":32,"readable-stream":16}],14:[function(de,Y,m){"use strict";Y.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(S,T){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(S,T);if("number"==typeof S)throw new Error('The "data" argument must not be a number');return new Buffer(S,T)},allocBuffer:function(S){if(Buffer.alloc)return Buffer.alloc(S);var T=new Buffer(S);return T.fill(0),T},isBuffer:function(S){return Buffer.isBuffer(S)},isStream:function(S){return S&&"function"==typeof S.on&&"function"==typeof S.pause&&"function"==typeof S.resume}}},{}],15:[function(de,Y,m){"use strict";function S(re,pe,fe){var me,te=F.getTypeOf(pe),ye=F.extend(fe||{},P);ye.date=ye.date||new Date,null!==ye.compression&&(ye.compression=ye.compression.toUpperCase()),"string"==typeof ye.unixPermissions&&(ye.unixPermissions=parseInt(ye.unixPermissions,8)),ye.unixPermissions&&16384&ye.unixPermissions&&(ye.dir=!0),ye.dosPermissions&&16&ye.dosPermissions&&(ye.dir=!0),ye.dir&&(re=x(re)),ye.createFolders&&(me=R(re))&&V.call(this,me,!0),fe&&void 0!==fe.binary||(ye.binary=!("string"===te&&!1===ye.binary&&!1===ye.base64)),(pe instanceof U&&0===pe.uncompressedSize||ye.dir||!pe||0===pe.length)&&(ye.base64=!1,ye.binary=!0,pe="",ye.compression="STORE",te="string");var ae;ae=pe instanceof U||pe instanceof $?pe:I.isNode&&I.isStream(pe)?new j(re,pe):F.prepareContent(re,pe,ye.binary,ye.optimizedBinaryString,ye.base64);var oe=new H(re,ae,ye);this.files[re]=oe}var T=de("./utf8"),F=de("./utils"),$=de("./stream/GenericWorker"),Z=de("./stream/StreamHelper"),P=de("./defaults"),U=de("./compressedObject"),H=de("./zipObject"),D=de("./generate"),I=de("./nodejsUtils"),j=de("./nodejs/NodejsStreamInputAdapter"),R=function(re){"/"===re.slice(-1)&&(re=re.substring(0,re.length-1));var pe=re.lastIndexOf("/");return 0<pe?re.substring(0,pe):""},x=function(re){return"/"!==re.slice(-1)&&(re+="/"),re},V=function(re,pe){return pe=void 0!==pe?pe:P.createFolders,re=x(re),this.files[re]||S.call(this,re,null,{dir:!0,createFolders:pe}),this.files[re]};function q(re){return"[object RegExp]"===Object.prototype.toString.call(re)}var G={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(re){var pe,fe,me;for(pe in this.files)me=this.files[pe],(fe=pe.slice(this.root.length,pe.length))&&pe.slice(0,this.root.length)===this.root&&re(fe,me)},filter:function(re){var pe=[];return this.forEach(function(fe,me){re(fe,me)&&pe.push(me)}),pe},file:function(re,pe,fe){if(1!==arguments.length)return S.call(this,re=this.root+re,pe,fe),this;if(q(re)){var me=re;return this.filter(function(ye,xe){return!xe.dir&&me.test(ye)})}var te=this.files[this.root+re];return te&&!te.dir?te:null},folder:function(re){if(!re)return this;if(q(re))return this.filter(function(te,ye){return ye.dir&&re.test(te)});var fe=V.call(this,this.root+re),me=this.clone();return me.root=fe.name,me},remove:function(re){var pe=this.files[re=this.root+re];if(pe||("/"!==re.slice(-1)&&(re+="/"),pe=this.files[re]),pe&&!pe.dir)delete this.files[re];else for(var fe=this.filter(function(te,ye){return ye.name.slice(0,re.length)===re}),me=0;me<fe.length;me++)delete this.files[fe[me].name];return this},generate:function(re){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(re){var pe,fe={};try{if((fe=F.extend(re||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:T.utf8encode})).type=fe.type.toLowerCase(),fe.compression=fe.compression.toUpperCase(),"binarystring"===fe.type&&(fe.type="string"),!fe.type)throw new Error("No output type specified.");F.checkSupport(fe.type),"darwin"!==fe.platform&&"freebsd"!==fe.platform&&"linux"!==fe.platform&&"sunos"!==fe.platform||(fe.platform="UNIX"),"win32"===fe.platform&&(fe.platform="DOS"),pe=D.generateWorker(this,fe,fe.comment||this.comment||"")}catch(te){(pe=new $("error")).error(te)}return new Z(pe,fe.type||"string",fe.mimeType)},generateAsync:function(re,pe){return this.generateInternalStream(re).accumulate(pe)},generateNodeStream:function(re,pe){return(re=re||{}).type||(re.type="nodebuffer"),this.generateInternalStream(re).toNodejsStream(pe)}};Y.exports=G},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(de,Y,m){Y.exports=de("stream")},{stream:void 0}],17:[function(de,Y,m){"use strict";var S=de("./DataReader");function T(F){S.call(this,F);for(var $=0;$<this.data.length;$++)F[$]=255&F[$]}de("../utils").inherits(T,S),T.prototype.byteAt=function(F){return this.data[this.zero+F]},T.prototype.lastIndexOfSignature=function(F){for(var $=F.charCodeAt(0),Z=F.charCodeAt(1),P=F.charCodeAt(2),U=F.charCodeAt(3),H=this.length-4;0<=H;--H)if(this.data[H]===$&&this.data[H+1]===Z&&this.data[H+2]===P&&this.data[H+3]===U)return H-this.zero;return-1},T.prototype.readAndCheckSignature=function(F){var $=F.charCodeAt(0),Z=F.charCodeAt(1),P=F.charCodeAt(2),U=F.charCodeAt(3),H=this.readData(4);return $===H[0]&&Z===H[1]&&P===H[2]&&U===H[3]},T.prototype.readData=function(F){if(this.checkOffset(F),0===F)return[];var $=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,$},Y.exports=T},{"../utils":32,"./DataReader":18}],18:[function(de,Y,m){"use strict";var S=de("../utils");function T(F){this.data=F,this.length=F.length,this.index=0,this.zero=0}T.prototype={checkOffset:function(F){this.checkIndex(this.index+F)},checkIndex:function(F){if(this.length<this.zero+F||F<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+F+"). Corrupted zip ?")},setIndex:function(F){this.checkIndex(F),this.index=F},skip:function(F){this.setIndex(this.index+F)},byteAt:function(F){},readInt:function(F){var $,Z=0;for(this.checkOffset(F),$=this.index+F-1;$>=this.index;$--)Z=(Z<<8)+this.byteAt($);return this.index+=F,Z},readString:function(F){return S.transformTo("string",this.readData(F))},readData:function(F){},lastIndexOfSignature:function(F){},readAndCheckSignature:function(F){},readDate:function(){var F=this.readInt(4);return new Date(Date.UTC(1980+(F>>25&127),(F>>21&15)-1,F>>16&31,F>>11&31,F>>5&63,(31&F)<<1))}},Y.exports=T},{"../utils":32}],19:[function(de,Y,m){"use strict";var S=de("./Uint8ArrayReader");function T(F){S.call(this,F)}de("../utils").inherits(T,S),T.prototype.readData=function(F){this.checkOffset(F);var $=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,$},Y.exports=T},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(de,Y,m){"use strict";var S=de("./DataReader");function T(F){S.call(this,F)}de("../utils").inherits(T,S),T.prototype.byteAt=function(F){return this.data.charCodeAt(this.zero+F)},T.prototype.lastIndexOfSignature=function(F){return this.data.lastIndexOf(F)-this.zero},T.prototype.readAndCheckSignature=function(F){return F===this.readData(4)},T.prototype.readData=function(F){this.checkOffset(F);var $=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,$},Y.exports=T},{"../utils":32,"./DataReader":18}],21:[function(de,Y,m){"use strict";var S=de("./ArrayReader");function T(F){S.call(this,F)}de("../utils").inherits(T,S),T.prototype.readData=function(F){if(this.checkOffset(F),0===F)return new Uint8Array(0);var $=this.data.subarray(this.zero+this.index,this.zero+this.index+F);return this.index+=F,$},Y.exports=T},{"../utils":32,"./ArrayReader":17}],22:[function(de,Y,m){"use strict";var S=de("../utils"),T=de("../support"),F=de("./ArrayReader"),$=de("./StringReader"),Z=de("./NodeBufferReader"),P=de("./Uint8ArrayReader");Y.exports=function(U){var H=S.getTypeOf(U);return S.checkSupport(H),"string"!==H||T.uint8array?"nodebuffer"===H?new Z(U):T.uint8array?new P(S.transformTo("uint8array",U)):new F(S.transformTo("array",U)):new $(U)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(de,Y,m){"use strict";m.LOCAL_FILE_HEADER="PK\x03\x04",m.CENTRAL_FILE_HEADER="PK\x01\x02",m.CENTRAL_DIRECTORY_END="PK\x05\x06",m.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",m.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",m.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(de,Y,m){"use strict";var S=de("./GenericWorker"),T=de("../utils");function F($){S.call(this,"ConvertWorker to "+$),this.destType=$}T.inherits(F,S),F.prototype.processChunk=function($){this.push({data:T.transformTo(this.destType,$.data),meta:$.meta})},Y.exports=F},{"../utils":32,"./GenericWorker":28}],25:[function(de,Y,m){"use strict";var S=de("./GenericWorker"),T=de("../crc32");function F(){S.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}de("../utils").inherits(F,S),F.prototype.processChunk=function($){this.streamInfo.crc32=T($.data,this.streamInfo.crc32||0),this.push($)},Y.exports=F},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(de,Y,m){"use strict";var S=de("../utils"),T=de("./GenericWorker");function F($){T.call(this,"DataLengthProbe for "+$),this.propName=$,this.withStreamInfo($,0)}S.inherits(F,T),F.prototype.processChunk=function($){$&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+$.data.length),T.prototype.processChunk.call(this,$)},Y.exports=F},{"../utils":32,"./GenericWorker":28}],27:[function(de,Y,m){"use strict";var S=de("../utils"),T=de("./GenericWorker");function F($){T.call(this,"DataWorker");var Z=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,$.then(function(P){Z.dataIsReady=!0,Z.data=P,Z.max=P&&P.length||0,Z.type=S.getTypeOf(P),Z.isPaused||Z._tickAndRepeat()},function(P){Z.error(P)})}S.inherits(F,T),F.prototype.cleanUp=function(){T.prototype.cleanUp.call(this),this.data=null},F.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,S.delay(this._tickAndRepeat,[],this)),!0)},F.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(S.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},F.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var $=null,Z=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":$=this.data.substring(this.index,Z);break;case"uint8array":$=this.data.subarray(this.index,Z);break;case"array":case"nodebuffer":$=this.data.slice(this.index,Z)}return this.index=Z,this.push({data:$,meta:{percent:this.max?this.index/this.max*100:0}})},Y.exports=F},{"../utils":32,"./GenericWorker":28}],28:[function(de,Y,m){"use strict";function S(T){this.name=T||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}S.prototype={push:function(T){this.emit("data",T)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(T){this.emit("error",T)}return!0},error:function(T){return!this.isFinished&&(this.isPaused?this.generatedError=T:(this.isFinished=!0,this.emit("error",T),this.previous&&this.previous.error(T),this.cleanUp()),!0)},on:function(T,F){return this._listeners[T].push(F),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(T,F){if(this._listeners[T])for(var $=0;$<this._listeners[T].length;$++)this._listeners[T][$].call(this,F)},pipe:function(T){return T.registerPrevious(this)},registerPrevious:function(T){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=T.streamInfo,this.mergeStreamInfo(),this.previous=T;var F=this;return T.on("data",function($){F.processChunk($)}),T.on("end",function(){F.end()}),T.on("error",function($){F.error($)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var T=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),T=!0),this.previous&&this.previous.resume(),!T},flush:function(){},processChunk:function(T){this.push(T)},withStreamInfo:function(T,F){return this.extraStreamInfo[T]=F,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var T in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(T)&&(this.streamInfo[T]=this.extraStreamInfo[T])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var T="Worker "+this.name;return this.previous?this.previous+" -> "+T:T}},Y.exports=S},{}],29:[function(de,Y,m){"use strict";var S=de("../utils"),T=de("./ConvertWorker"),F=de("./GenericWorker"),$=de("../base64"),Z=de("../support"),P=de("../external"),U=null;if(Z.nodestream)try{U=de("../nodejs/NodejsStreamOutputAdapter")}catch(I){}function D(I,j,R){var x=j;switch(j){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=j,this._mimeType=R,S.checkSupport(x),this._worker=I.pipe(new T(x)),I.lock()}catch(V){this._worker=new F("error"),this._worker.error(V)}}D.prototype={accumulate:function(I){return function H(I,j){return new P.Promise(function(R,x){var V=[],q=I._internalType,G=I._outputType,re=I._mimeType;I.on("data",function(pe,fe){V.push(pe),j&&j(fe)}).on("error",function(pe){V=[],x(pe)}).on("end",function(){try{var pe=function(fe,me,te){switch(fe){case"blob":return S.newBlob(S.transformTo("arraybuffer",me),te);case"base64":return $.encode(me);default:return S.transformTo(fe,me)}}(G,function(fe,me){var te,ye=0,xe=null,ae=0;for(te=0;te<me.length;te++)ae+=me[te].length;switch(fe){case"string":return me.join("");case"array":return Array.prototype.concat.apply([],me);case"uint8array":for(xe=new Uint8Array(ae),te=0;te<me.length;te++)xe.set(me[te],ye),ye+=me[te].length;return xe;case"nodebuffer":return Buffer.concat(me);default:throw new Error("concat : unsupported type '"+fe+"'")}}(q,V),re);R(pe)}catch(fe){x(fe)}V=[]}).resume()})}(this,I)},on:function(I,j){var R=this;return this._worker.on(I,"data"===I?function(x){j.call(R,x.data,x.meta)}:function(){S.delay(j,arguments,R)}),this},resume:function(){return S.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(S.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new U(this,{objectMode:"nodebuffer"!==this._outputType},I)}},Y.exports=D},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(de,Y,m){"use strict";if(m.base64=!0,m.array=!0,m.string=!0,m.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,m.nodebuffer="undefined"!=typeof Buffer,m.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)m.blob=!1;else{var S=new ArrayBuffer(0);try{m.blob=0===new Blob([S],{type:"application/zip"}).size}catch(F){try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);T.append(S),m.blob=0===T.getBlob("application/zip").size}catch($){m.blob=!1}}}try{m.nodestream=!!de("readable-stream").Readable}catch(F){m.nodestream=!1}},{"readable-stream":16}],31:[function(de,Y,m){"use strict";for(var S=de("./utils"),T=de("./support"),F=de("./nodejsUtils"),$=de("./stream/GenericWorker"),Z=new Array(256),P=0;P<256;P++)Z[P]=252<=P?6:248<=P?5:240<=P?4:224<=P?3:192<=P?2:1;function U(){$.call(this,"utf-8 decode"),this.leftOver=null}function H(){$.call(this,"utf-8 encode")}Z[254]=Z[254]=1,m.utf8encode=function(D){return T.nodebuffer?F.newBufferFrom(D,"utf-8"):function(I){var j,R,x,V,q,G=I.length,re=0;for(V=0;V<G;V++)55296==(64512&(R=I.charCodeAt(V)))&&V+1<G&&56320==(64512&(x=I.charCodeAt(V+1)))&&(R=65536+(R-55296<<10)+(x-56320),V++),re+=R<128?1:R<2048?2:R<65536?3:4;for(j=T.uint8array?new Uint8Array(re):new Array(re),V=q=0;q<re;V++)55296==(64512&(R=I.charCodeAt(V)))&&V+1<G&&56320==(64512&(x=I.charCodeAt(V+1)))&&(R=65536+(R-55296<<10)+(x-56320),V++),R<128?j[q++]=R:(R<2048?j[q++]=192|R>>>6:(R<65536?j[q++]=224|R>>>12:(j[q++]=240|R>>>18,j[q++]=128|R>>>12&63),j[q++]=128|R>>>6&63),j[q++]=128|63&R);return j}(D)},m.utf8decode=function(D){return T.nodebuffer?S.transformTo("nodebuffer",D).toString("utf-8"):function(I){var j,R,x,V,q=I.length,G=new Array(2*q);for(j=R=0;j<q;)if((x=I[j++])<128)G[R++]=x;else if(4<(V=Z[x]))G[R++]=65533,j+=V-1;else{for(x&=2===V?31:3===V?15:7;1<V&&j<q;)x=x<<6|63&I[j++],V--;1<V?G[R++]=65533:x<65536?G[R++]=x:(G[R++]=55296|(x-=65536)>>10&1023,G[R++]=56320|1023&x)}return G.length!==R&&(G.subarray?G=G.subarray(0,R):G.length=R),S.applyFromCharCode(G)}(D=S.transformTo(T.uint8array?"uint8array":"array",D))},S.inherits(U,$),U.prototype.processChunk=function(D){var I=S.transformTo(T.uint8array?"uint8array":"array",D.data);if(this.leftOver&&this.leftOver.length){if(T.uint8array){var j=I;(I=new Uint8Array(j.length+this.leftOver.length)).set(this.leftOver,0),I.set(j,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var R=function(V,q){var G;for((q=q||V.length)>V.length&&(q=V.length),G=q-1;0<=G&&128==(192&V[G]);)G--;return G<0||0===G?q:G+Z[V[G]]>q?G:q}(I),x=I;R!==I.length&&(T.uint8array?(x=I.subarray(0,R),this.leftOver=I.subarray(R,I.length)):(x=I.slice(0,R),this.leftOver=I.slice(R,I.length))),this.push({data:m.utf8decode(x),meta:D.meta})},U.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:m.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},m.Utf8DecodeWorker=U,S.inherits(H,$),H.prototype.processChunk=function(D){this.push({data:m.utf8encode(D.data),meta:D.meta})},m.Utf8EncodeWorker=H},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(de,Y,m){"use strict";var S=de("./support"),T=de("./base64"),F=de("./nodejsUtils"),$=de("set-immediate-shim"),Z=de("./external");function P(R){return R}function U(R,x){for(var V=0;V<R.length;++V)x[V]=255&R.charCodeAt(V);return x}m.newBlob=function(R,x){m.checkSupport("blob");try{return new Blob([R],{type:x})}catch(q){try{var V=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return V.append(R),V.getBlob(x)}catch(G){throw new Error("Bug : can't construct the Blob.")}}};var H={stringifyByChunk:function(R,x,V){var q=[],G=0,re=R.length;if(re<=V)return String.fromCharCode.apply(null,R);for(;G<re;)q.push(String.fromCharCode.apply(null,"array"===x||"nodebuffer"===x?R.slice(G,Math.min(G+V,re)):R.subarray(G,Math.min(G+V,re)))),G+=V;return q.join("")},stringifyByChar:function(R){for(var x="",V=0;V<R.length;V++)x+=String.fromCharCode(R[V]);return x},applyCanBeUsed:{uint8array:function(){try{return S.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(R){return!1}}(),nodebuffer:function(){try{return S.nodebuffer&&1===String.fromCharCode.apply(null,F.allocBuffer(1)).length}catch(R){return!1}}()}};function D(R){var x=65536,V=m.getTypeOf(R),q=!0;if("uint8array"===V?q=H.applyCanBeUsed.uint8array:"nodebuffer"===V&&(q=H.applyCanBeUsed.nodebuffer),q)for(;1<x;)try{return H.stringifyByChunk(R,V,x)}catch(G){x=Math.floor(x/2)}return H.stringifyByChar(R)}function I(R,x){for(var V=0;V<R.length;V++)x[V]=R[V];return x}m.applyFromCharCode=D;var j={};j.string={string:P,array:function(R){return U(R,new Array(R.length))},arraybuffer:function(R){return j.string.uint8array(R).buffer},uint8array:function(R){return U(R,new Uint8Array(R.length))},nodebuffer:function(R){return U(R,F.allocBuffer(R.length))}},j.array={string:D,array:P,arraybuffer:function(R){return new Uint8Array(R).buffer},uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return F.newBufferFrom(R)}},j.arraybuffer={string:function(R){return D(new Uint8Array(R))},array:function(R){return I(new Uint8Array(R),new Array(R.byteLength))},arraybuffer:P,uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return F.newBufferFrom(new Uint8Array(R))}},j.uint8array={string:D,array:function(R){return I(R,new Array(R.length))},arraybuffer:function(R){return R.buffer},uint8array:P,nodebuffer:function(R){return F.newBufferFrom(R)}},j.nodebuffer={string:D,array:function(R){return I(R,new Array(R.length))},arraybuffer:function(R){return j.nodebuffer.uint8array(R).buffer},uint8array:function(R){return I(R,new Uint8Array(R.length))},nodebuffer:P},m.transformTo=function(R,x){if(x=x||"",!R)return x;m.checkSupport(R);var V=m.getTypeOf(x);return j[V][R](x)},m.resolve=function(R){for(var x=R.split("/"),V=[],q=0;q<x.length;q++){var G=x[q];"."===G||""===G&&0!==q&&q!==x.length-1||(".."===G?V.pop():V.push(G))}return V.join("/")},m.getTypeOf=function(R){return"string"==typeof R?"string":"[object Array]"===Object.prototype.toString.call(R)?"array":S.nodebuffer&&F.isBuffer(R)?"nodebuffer":S.uint8array&&R instanceof Uint8Array?"uint8array":S.arraybuffer&&R instanceof ArrayBuffer?"arraybuffer":void 0},m.checkSupport=function(R){if(!S[R.toLowerCase()])throw new Error(R+" is not supported by this platform")},m.MAX_VALUE_16BITS=65535,m.MAX_VALUE_32BITS=-1,m.pretty=function(R){var x,V,q="";for(V=0;V<(R||"").length;V++)q+="\\x"+((x=R.charCodeAt(V))<16?"0":"")+x.toString(16).toUpperCase();return q},m.delay=function(R,x,V){$(function(){R.apply(V||null,x||[])})},m.inherits=function(R,x){function V(){}V.prototype=x.prototype,R.prototype=new V},m.extend=function(){var R,x,V={};for(R=0;R<arguments.length;R++)for(x in arguments[R])arguments[R].hasOwnProperty(x)&&void 0===V[x]&&(V[x]=arguments[R][x]);return V},m.prepareContent=function(R,x,V,q,G){return Z.Promise.resolve(x).then(function(re){return S.blob&&(re instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(re)))&&"undefined"!=typeof FileReader?new Z.Promise(function(pe,fe){var me=new FileReader;me.onload=function(te){pe(te.target.result)},me.onerror=function(te){fe(te.target.error)},me.readAsArrayBuffer(re)}):re}).then(function(re){var fe,pe=m.getTypeOf(re);return pe?("arraybuffer"===pe?re=m.transformTo("uint8array",re):"string"===pe&&(G?re=T.decode(re):V&&!0!==q&&(re=U(fe=re,S.uint8array?new Uint8Array(fe.length):new Array(fe.length)))),re):Z.Promise.reject(new Error("Can't read the data of '"+R+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(de,Y,m){"use strict";var S=de("./reader/readerFor"),T=de("./utils"),F=de("./signature"),$=de("./zipEntry"),Z=(de("./utf8"),de("./support"));function P(U){this.files=[],this.loadOptions=U}P.prototype={checkSignature:function(U){if(!this.reader.readAndCheckSignature(U)){this.reader.index-=4;var H=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+T.pretty(H)+", expected "+T.pretty(U)+")")}},isSignature:function(U,H){var D=this.reader.index;this.reader.setIndex(U);var I=this.reader.readString(4)===H;return this.reader.setIndex(D),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var U=this.reader.readData(this.zipCommentLength),D=T.transformTo(Z.uint8array?"uint8array":"array",U);this.zipComment=this.loadOptions.decodeFileName(D)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var U,H,D,I=this.zip64EndOfCentralSize-44;0<I;)U=this.reader.readInt(2),H=this.reader.readInt(4),D=this.reader.readData(H),this.zip64ExtensibleData[U]={id:U,length:H,value:D}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var U,H;for(U=0;U<this.files.length;U++)this.reader.setIndex((H=this.files[U]).localHeaderOffset),this.checkSignature(F.LOCAL_FILE_HEADER),H.readLocalPart(this.reader),H.handleUTF8(),H.processAttributes()},readCentralDir:function(){var U;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(F.CENTRAL_FILE_HEADER);)(U=new $({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(U);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var U=this.reader.lastIndexOfSignature(F.CENTRAL_DIRECTORY_END);if(U<0)throw this.isSignature(0,F.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(U);var H=U;if(this.checkSignature(F.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===T.MAX_VALUE_16BITS||this.diskWithCentralDirStart===T.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===T.MAX_VALUE_16BITS||this.centralDirRecords===T.MAX_VALUE_16BITS||this.centralDirSize===T.MAX_VALUE_32BITS||this.centralDirOffset===T.MAX_VALUE_32BITS){if(this.zip64=!0,(U=this.reader.lastIndexOfSignature(F.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(U),this.checkSignature(F.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,F.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(F.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(F.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var D=this.centralDirOffset+this.centralDirSize;this.zip64&&(D+=20,D+=12+this.zip64EndOfCentralSize);var I=H-D;if(0<I)this.isSignature(H,F.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(U){this.reader=S(U)},load:function(U){this.prepareReader(U),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Y.exports=P},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(de,Y,m){"use strict";var S=de("./reader/readerFor"),T=de("./utils"),F=de("./compressedObject"),$=de("./crc32"),Z=de("./utf8"),P=de("./compressions"),U=de("./support");function H(D,I){this.options=D,this.loadOptions=I}H.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(D){var I,j;if(D.skip(22),this.fileNameLength=D.readInt(2),j=D.readInt(2),this.fileName=D.readData(this.fileNameLength),D.skip(j),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(I=function(R){for(var x in P)if(P.hasOwnProperty(x)&&P[x].magic===R)return P[x];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+T.pretty(this.compressionMethod)+" unknown (inner file : "+T.transformTo("string",this.fileName)+")");this.decompressed=new F(this.compressedSize,this.uncompressedSize,this.crc32,I,D.readData(this.compressedSize))},readCentralPart:function(D){this.versionMadeBy=D.readInt(2),D.skip(2),this.bitFlag=D.readInt(2),this.compressionMethod=D.readString(2),this.date=D.readDate(),this.crc32=D.readInt(4),this.compressedSize=D.readInt(4),this.uncompressedSize=D.readInt(4);var I=D.readInt(2);if(this.extraFieldsLength=D.readInt(2),this.fileCommentLength=D.readInt(2),this.diskNumberStart=D.readInt(2),this.internalFileAttributes=D.readInt(2),this.externalFileAttributes=D.readInt(4),this.localHeaderOffset=D.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");D.skip(I),this.readExtraFields(D),this.parseZIP64ExtraField(D),this.fileComment=D.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var D=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==D&&(this.dosPermissions=63&this.externalFileAttributes),3==D&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(D){if(this.extraFields[1]){var I=S(this.extraFields[1].value);this.uncompressedSize===T.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===T.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===T.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===T.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(D){var I,j,R,x=D.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});D.index+4<x;)I=D.readInt(2),j=D.readInt(2),R=D.readData(j),this.extraFields[I]={id:I,length:j,value:R};D.setIndex(x)},handleUTF8:function(){var D=U.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Z.utf8decode(this.fileName),this.fileCommentStr=Z.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(null!==I)this.fileNameStr=I;else{var j=T.transformTo(D,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(j)}var R=this.findExtraFieldUnicodeComment();if(null!==R)this.fileCommentStr=R;else{var x=T.transformTo(D,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var D=this.extraFields[28789];if(D){var I=S(D.value);return 1!==I.readInt(1)||$(this.fileName)!==I.readInt(4)?null:Z.utf8decode(I.readData(D.length-5))}return null},findExtraFieldUnicodeComment:function(){var D=this.extraFields[25461];if(D){var I=S(D.value);return 1!==I.readInt(1)||$(this.fileComment)!==I.readInt(4)?null:Z.utf8decode(I.readData(D.length-5))}return null}},Y.exports=H},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(de,Y,m){"use strict";function S(I,j,R){this.name=I,this.dir=R.dir,this.date=R.date,this.comment=R.comment,this.unixPermissions=R.unixPermissions,this.dosPermissions=R.dosPermissions,this._data=j,this._dataBinary=R.binary,this.options={compression:R.compression,compressionOptions:R.compressionOptions}}var T=de("./stream/StreamHelper"),F=de("./stream/DataWorker"),$=de("./utf8"),Z=de("./compressedObject"),P=de("./stream/GenericWorker");S.prototype={internalStream:function(I){var j=null,R="string";try{if(!I)throw new Error("No output type specified.");var x="string"===(R=I.toLowerCase())||"text"===R;"binarystring"!==R&&"text"!==R||(R="string"),j=this._decompressWorker();var V=!this._dataBinary;V&&!x&&(j=j.pipe(new $.Utf8EncodeWorker)),!V&&x&&(j=j.pipe(new $.Utf8DecodeWorker))}catch(q){(j=new P("error")).error(q)}return new T(j,R,"")},async:function(I,j){return this.internalStream(I).accumulate(j)},nodeStream:function(I,j){return this.internalStream(I||"nodebuffer").toNodejsStream(j)},_compressWorker:function(I,j){if(this._data instanceof Z&&this._data.compression.magic===I.magic)return this._data.getCompressedWorker();var R=this._decompressWorker();return this._dataBinary||(R=R.pipe(new $.Utf8EncodeWorker)),Z.createWorkerFrom(R,I,j)},_decompressWorker:function(){return this._data instanceof Z?this._data.getContentWorker():this._data instanceof P?this._data:new F(this._data)}};for(var U=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],H=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},D=0;D<U.length;D++)S.prototype[U[D]]=H;Y.exports=S},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(de,Y,m){(function(S){"use strict";var T,F,$=S.MutationObserver||S.WebKitMutationObserver;if($){var Z=0,P=new $(I),U=S.document.createTextNode("");P.observe(U,{characterData:!0}),T=function(){U.data=Z=++Z%2}}else if(S.setImmediate||void 0===S.MessageChannel)T="document"in S&&"onreadystatechange"in S.document.createElement("script")?function(){var j=S.document.createElement("script");j.onreadystatechange=function(){I(),j.onreadystatechange=null,j.parentNode.removeChild(j),j=null},S.document.documentElement.appendChild(j)}:function(){setTimeout(I,0)};else{var H=new S.MessageChannel;H.port1.onmessage=I,T=function(){H.port2.postMessage(0)}}var D=[];function I(){var j,R;F=!0;for(var x=D.length;x;){for(R=D,D=[],j=-1;++j<x;)R[j]();x=D.length}F=!1}Y.exports=function(j){1!==D.push(j)||F||T()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(de,Y,m){"use strict";var S=de("immediate");function T(){}var F={},$=["REJECTED"],Z=["FULFILLED"],P=["PENDING"];function U(x){if("function"!=typeof x)throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,x!==T&&j(this,x)}function H(x,V,q){this.promise=x,"function"==typeof V&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),"function"==typeof q&&(this.onRejected=q,this.callRejected=this.otherCallRejected)}function D(x,V,q){S(function(){var G;try{G=V(q)}catch(re){return F.reject(x,re)}G===x?F.reject(x,new TypeError("Cannot resolve promise with itself")):F.resolve(x,G)})}function I(x){var V=x&&x.then;if(x&&("object"==typeof x||"function"==typeof x)&&"function"==typeof V)return function(){V.apply(x,arguments)}}function j(x,V){var q=!1;function G(fe){q||(q=!0,F.reject(x,fe))}function re(fe){q||(q=!0,F.resolve(x,fe))}var pe=R(function(){V(re,G)});"error"===pe.status&&G(pe.value)}function R(x,V){var q={};try{q.value=x(V),q.status="success"}catch(G){q.status="error",q.value=G}return q}(Y.exports=U).prototype.finally=function(x){if("function"!=typeof x)return this;var V=this.constructor;return this.then(function(q){return V.resolve(x()).then(function(){return q})},function(q){return V.resolve(x()).then(function(){throw q})})},U.prototype.catch=function(x){return this.then(null,x)},U.prototype.then=function(x,V){if("function"!=typeof x&&this.state===Z||"function"!=typeof V&&this.state===$)return this;var q=new this.constructor(T);return this.state!==P?D(q,this.state===Z?x:V,this.outcome):this.queue.push(new H(q,x,V)),q},H.prototype.callFulfilled=function(x){F.resolve(this.promise,x)},H.prototype.otherCallFulfilled=function(x){D(this.promise,this.onFulfilled,x)},H.prototype.callRejected=function(x){F.reject(this.promise,x)},H.prototype.otherCallRejected=function(x){D(this.promise,this.onRejected,x)},F.resolve=function(x,V){var q=R(I,V);if("error"===q.status)return F.reject(x,q.value);var G=q.value;if(G)j(x,G);else{x.state=Z,x.outcome=V;for(var re=-1,pe=x.queue.length;++re<pe;)x.queue[re].callFulfilled(V)}return x},F.reject=function(x,V){x.state=$,x.outcome=V;for(var q=-1,G=x.queue.length;++q<G;)x.queue[q].callRejected(V);return x},U.resolve=function(x){return x instanceof this?x:F.resolve(new this(T),x)},U.reject=function(x){var V=new this(T);return F.reject(V,x)},U.all=function(x){var V=this;if("[object Array]"!==Object.prototype.toString.call(x))return this.reject(new TypeError("must be an array"));var q=x.length,G=!1;if(!q)return this.resolve([]);for(var re=new Array(q),pe=0,fe=-1,me=new this(T);++fe<q;)te(x[fe],fe);return me;function te(ye,xe){V.resolve(ye).then(function(ae){re[xe]=ae,++pe!==q||G||(G=!0,F.resolve(me,re))},function(ae){G||(G=!0,F.reject(me,ae))})}},U.race=function(x){if("[object Array]"!==Object.prototype.toString.call(x))return this.reject(new TypeError("must be an array"));var q=x.length,G=!1;if(!q)return this.resolve([]);for(var re=-1,pe=new this(T);++re<q;)this.resolve(x[re]).then(function(me){G||(G=!0,F.resolve(pe,me))},function(me){G||(G=!0,F.reject(pe,me))});return pe}},{immediate:36}],38:[function(de,Y,m){"use strict";var S={};(0,de("./lib/utils/common").assign)(S,de("./lib/deflate"),de("./lib/inflate"),de("./lib/zlib/constants")),Y.exports=S},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(de,Y,m){"use strict";var S=de("./zlib/deflate"),T=de("./utils/common"),F=de("./utils/strings"),$=de("./zlib/messages"),Z=de("./zlib/zstream"),P=Object.prototype.toString;function j(x){if(!(this instanceof j))return new j(x);this.options=T.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},x||{});var V=this.options;V.raw&&0<V.windowBits?V.windowBits=-V.windowBits:V.gzip&&0<V.windowBits&&V.windowBits<16&&(V.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Z,this.strm.avail_out=0;var q=S.deflateInit2(this.strm,V.level,V.method,V.windowBits,V.memLevel,V.strategy);if(0!==q)throw new Error($[q]);if(V.header&&S.deflateSetHeader(this.strm,V.header),V.dictionary){var G;if(G="string"==typeof V.dictionary?F.string2buf(V.dictionary):"[object ArrayBuffer]"===P.call(V.dictionary)?new Uint8Array(V.dictionary):V.dictionary,0!==(q=S.deflateSetDictionary(this.strm,G)))throw new Error($[q]);this._dict_set=!0}}function R(x,V){var q=new j(V);if(q.push(x,!0),q.err)throw q.msg||$[q.err];return q.result}j.prototype.push=function(x,V){var q,G,re=this.strm,pe=this.options.chunkSize;if(this.ended)return!1;G=V===~~V?V:!0===V?4:0,re.input="string"==typeof x?F.string2buf(x):"[object ArrayBuffer]"===P.call(x)?new Uint8Array(x):x,re.next_in=0,re.avail_in=re.input.length;do{if(0===re.avail_out&&(re.output=new T.Buf8(pe),re.next_out=0,re.avail_out=pe),1!==(q=S.deflate(re,G))&&0!==q)return this.onEnd(q),!(this.ended=!0);0!==re.avail_out&&(0!==re.avail_in||4!==G&&2!==G)||this.onData("string"===this.options.to?F.buf2binstring(T.shrinkBuf(re.output,re.next_out)):T.shrinkBuf(re.output,re.next_out))}while((0<re.avail_in||0===re.avail_out)&&1!==q);return 4===G?(q=S.deflateEnd(this.strm),this.onEnd(q),this.ended=!0,0===q):2!==G||(this.onEnd(0),!(re.avail_out=0))},j.prototype.onData=function(x){this.chunks.push(x)},j.prototype.onEnd=function(x){0===x&&(this.result="string"===this.options.to?this.chunks.join(""):T.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},m.Deflate=j,m.deflate=R,m.deflateRaw=function(x,V){return(V=V||{}).raw=!0,R(x,V)},m.gzip=function(x,V){return(V=V||{}).gzip=!0,R(x,V)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(de,Y,m){"use strict";var S=de("./zlib/inflate"),T=de("./utils/common"),F=de("./utils/strings"),$=de("./zlib/constants"),Z=de("./zlib/messages"),P=de("./zlib/zstream"),U=de("./zlib/gzheader"),H=Object.prototype.toString;function D(j){if(!(this instanceof D))return new D(j);this.options=T.assign({chunkSize:16384,windowBits:0,to:""},j||{});var R=this.options;R.raw&&0<=R.windowBits&&R.windowBits<16&&(R.windowBits=-R.windowBits,0===R.windowBits&&(R.windowBits=-15)),!(0<=R.windowBits&&R.windowBits<16)||j&&j.windowBits||(R.windowBits+=32),15<R.windowBits&&R.windowBits<48&&0==(15&R.windowBits)&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P,this.strm.avail_out=0;var x=S.inflateInit2(this.strm,R.windowBits);if(x!==$.Z_OK)throw new Error(Z[x]);this.header=new U,S.inflateGetHeader(this.strm,this.header)}function I(j,R){var x=new D(R);if(x.push(j,!0),x.err)throw x.msg||Z[x.err];return x.result}D.prototype.push=function(j,R){var x,V,q,G,re,pe,fe=this.strm,me=this.options.chunkSize,te=this.options.dictionary,ye=!1;if(this.ended)return!1;V=R===~~R?R:!0===R?$.Z_FINISH:$.Z_NO_FLUSH,fe.input="string"==typeof j?F.binstring2buf(j):"[object ArrayBuffer]"===H.call(j)?new Uint8Array(j):j,fe.next_in=0,fe.avail_in=fe.input.length;do{if(0===fe.avail_out&&(fe.output=new T.Buf8(me),fe.next_out=0,fe.avail_out=me),(x=S.inflate(fe,$.Z_NO_FLUSH))===$.Z_NEED_DICT&&te&&(pe="string"==typeof te?F.string2buf(te):"[object ArrayBuffer]"===H.call(te)?new Uint8Array(te):te,x=S.inflateSetDictionary(this.strm,pe)),x===$.Z_BUF_ERROR&&!0===ye&&(x=$.Z_OK,ye=!1),x!==$.Z_STREAM_END&&x!==$.Z_OK)return this.onEnd(x),!(this.ended=!0);fe.next_out&&(0!==fe.avail_out&&x!==$.Z_STREAM_END&&(0!==fe.avail_in||V!==$.Z_FINISH&&V!==$.Z_SYNC_FLUSH)||("string"===this.options.to?(q=F.utf8border(fe.output,fe.next_out),G=fe.next_out-q,re=F.buf2string(fe.output,q),fe.next_out=G,fe.avail_out=me-G,G&&T.arraySet(fe.output,fe.output,q,G,0),this.onData(re)):this.onData(T.shrinkBuf(fe.output,fe.next_out)))),0===fe.avail_in&&0===fe.avail_out&&(ye=!0)}while((0<fe.avail_in||0===fe.avail_out)&&x!==$.Z_STREAM_END);return x===$.Z_STREAM_END&&(V=$.Z_FINISH),V===$.Z_FINISH?(x=S.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===$.Z_OK):V!==$.Z_SYNC_FLUSH||(this.onEnd($.Z_OK),!(fe.avail_out=0))},D.prototype.onData=function(j){this.chunks.push(j)},D.prototype.onEnd=function(j){j===$.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):T.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},m.Inflate=D,m.inflate=I,m.inflateRaw=function(j,R){return(R=R||{}).raw=!0,I(j,R)},m.ungzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(de,Y,m){"use strict";var S="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;m.assign=function($){for(var Z=Array.prototype.slice.call(arguments,1);Z.length;){var P=Z.shift();if(P){if("object"!=typeof P)throw new TypeError(P+"must be non-object");for(var U in P)P.hasOwnProperty(U)&&($[U]=P[U])}}return $},m.shrinkBuf=function($,Z){return $.length===Z?$:$.subarray?$.subarray(0,Z):($.length=Z,$)};var T={arraySet:function($,Z,P,U,H){if(Z.subarray&&$.subarray)$.set(Z.subarray(P,P+U),H);else for(var D=0;D<U;D++)$[H+D]=Z[P+D]},flattenChunks:function($){var Z,P,U,H,D,I;for(Z=U=0,P=$.length;Z<P;Z++)U+=$[Z].length;for(I=new Uint8Array(U),Z=H=0,P=$.length;Z<P;Z++)I.set(D=$[Z],H),H+=D.length;return I}},F={arraySet:function($,Z,P,U,H){for(var D=0;D<U;D++)$[H+D]=Z[P+D]},flattenChunks:function($){return[].concat.apply([],$)}};m.setTyped=function($){$?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,T)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,F))},m.setTyped(S)},{}],42:[function(de,Y,m){"use strict";var S=de("./common"),T=!0,F=!0;try{String.fromCharCode.apply(null,[0])}catch(U){T=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(U){F=!1}for(var $=new S.Buf8(256),Z=0;Z<256;Z++)$[Z]=252<=Z?6:248<=Z?5:240<=Z?4:224<=Z?3:192<=Z?2:1;function P(U,H){if(H<65537&&(U.subarray&&F||!U.subarray&&T))return String.fromCharCode.apply(null,S.shrinkBuf(U,H));for(var D="",I=0;I<H;I++)D+=String.fromCharCode(U[I]);return D}$[254]=$[254]=1,m.string2buf=function(U){var H,D,I,j,R,x=U.length,V=0;for(j=0;j<x;j++)55296==(64512&(D=U.charCodeAt(j)))&&j+1<x&&56320==(64512&(I=U.charCodeAt(j+1)))&&(D=65536+(D-55296<<10)+(I-56320),j++),V+=D<128?1:D<2048?2:D<65536?3:4;for(H=new S.Buf8(V),j=R=0;R<V;j++)55296==(64512&(D=U.charCodeAt(j)))&&j+1<x&&56320==(64512&(I=U.charCodeAt(j+1)))&&(D=65536+(D-55296<<10)+(I-56320),j++),D<128?H[R++]=D:(D<2048?H[R++]=192|D>>>6:(D<65536?H[R++]=224|D>>>12:(H[R++]=240|D>>>18,H[R++]=128|D>>>12&63),H[R++]=128|D>>>6&63),H[R++]=128|63&D);return H},m.buf2binstring=function(U){return P(U,U.length)},m.binstring2buf=function(U){for(var H=new S.Buf8(U.length),D=0,I=H.length;D<I;D++)H[D]=U.charCodeAt(D);return H},m.buf2string=function(U,H){var D,I,j,R,x=H||U.length,V=new Array(2*x);for(D=I=0;D<x;)if((j=U[D++])<128)V[I++]=j;else if(4<(R=$[j]))V[I++]=65533,D+=R-1;else{for(j&=2===R?31:3===R?15:7;1<R&&D<x;)j=j<<6|63&U[D++],R--;1<R?V[I++]=65533:j<65536?V[I++]=j:(V[I++]=55296|(j-=65536)>>10&1023,V[I++]=56320|1023&j)}return P(V,I)},m.utf8border=function(U,H){var D;for((H=H||U.length)>U.length&&(H=U.length),D=H-1;0<=D&&128==(192&U[D]);)D--;return D<0||0===D?H:D+$[U[D]]>H?D:H}},{"./common":41}],43:[function(de,Y,m){"use strict";Y.exports=function(S,T,F,$){for(var Z=65535&S|0,P=S>>>16&65535|0,U=0;0!==F;){for(F-=U=2e3<F?2e3:F;P=P+(Z=Z+T[$++]|0)|0,--U;);Z%=65521,P%=65521}return Z|P<<16|0}},{}],44:[function(de,Y,m){"use strict";Y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(de,Y,m){"use strict";var S=function(){for(var T,F=[],$=0;$<256;$++){T=$;for(var Z=0;Z<8;Z++)T=1&T?3988292384^T>>>1:T>>>1;F[$]=T}return F}();Y.exports=function(T,F,$,Z){var P=S,U=Z+$;T^=-1;for(var H=Z;H<U;H++)T=T>>>8^P[255&(T^F[H])];return-1^T}},{}],46:[function(de,Y,m){"use strict";var S,T=de("../utils/common"),F=de("./trees"),$=de("./adler32"),Z=de("./crc32"),P=de("./messages"),I=-2,ye=258,xe=262;function ue(J,Ne){return J.msg=P[Ne],Ne}function W(J){return(J<<1)-(4<J?9:0)}function Re(J){for(var Ne=J.length;0<=--Ne;)J[Ne]=0}function Ie(J){var Ne=J.state,je=Ne.pending;je>J.avail_out&&(je=J.avail_out),0!==je&&(T.arraySet(J.output,Ne.pending_buf,Ne.pending_out,je,J.next_out),J.next_out+=je,Ne.pending_out+=je,J.total_out+=je,J.avail_out-=je,Ne.pending-=je,0===Ne.pending&&(Ne.pending_out=0))}function se(J,Ne){F._tr_flush_block(J,0<=J.block_start?J.block_start:-1,J.strstart-J.block_start,Ne),J.block_start=J.strstart,Ie(J.strm)}function Ee(J,Ne){J.pending_buf[J.pending++]=Ne}function Q(J,Ne){J.pending_buf[J.pending++]=Ne>>>8&255,J.pending_buf[J.pending++]=255&Ne}function B(J,Ne){var je,Te,be=J.max_chain_length,Pe=J.strstart,We=J.prev_length,tt=J.nice_match,ze=J.strstart>J.w_size-xe?J.strstart-(J.w_size-xe):0,dt=J.window,Dt=J.w_mask,Ye=J.prev,nt=J.strstart+ye,kt=dt[Pe+We-1],Rt=dt[Pe+We];J.prev_length>=J.good_match&&(be>>=2),tt>J.lookahead&&(tt=J.lookahead);do{if(dt[(je=Ne)+We]===Rt&&dt[je+We-1]===kt&&dt[je]===dt[Pe]&&dt[++je]===dt[Pe+1]){Pe+=2,je++;do{}while(dt[++Pe]===dt[++je]&&dt[++Pe]===dt[++je]&&dt[++Pe]===dt[++je]&&dt[++Pe]===dt[++je]&&dt[++Pe]===dt[++je]&&dt[++Pe]===dt[++je]&&dt[++Pe]===dt[++je]&&dt[++Pe]===dt[++je]&&Pe<nt);if(Te=ye-(nt-Pe),Pe=nt-ye,We<Te){if(J.match_start=Ne,tt<=(We=Te))break;kt=dt[Pe+We-1],Rt=dt[Pe+We]}}}while((Ne=Ye[Ne&Dt])>ze&&0!=--be);return We<=J.lookahead?We:J.lookahead}function we(J){var Ne,je,Te,be,Pe,We,tt,ze,dt,Dt,Ye=J.w_size;do{if(be=J.window_size-J.lookahead-J.strstart,J.strstart>=Ye+(Ye-xe)){for(T.arraySet(J.window,J.window,Ye,Ye,0),J.match_start-=Ye,J.strstart-=Ye,J.block_start-=Ye,Ne=je=J.hash_size;Te=J.head[--Ne],J.head[Ne]=Ye<=Te?Te-Ye:0,--je;);for(Ne=je=Ye;Te=J.prev[--Ne],J.prev[Ne]=Ye<=Te?Te-Ye:0,--je;);be+=Ye}if(0===J.strm.avail_in)break;if(tt=J.window,ze=J.strstart+J.lookahead,Dt=void 0,(dt=be)<(Dt=(We=J.strm).avail_in)&&(Dt=dt),je=0===Dt?0:(We.avail_in-=Dt,T.arraySet(tt,We.input,We.next_in,Dt,ze),1===We.state.wrap?We.adler=$(We.adler,tt,Dt,ze):2===We.state.wrap&&(We.adler=Z(We.adler,tt,Dt,ze)),We.next_in+=Dt,We.total_in+=Dt,Dt),J.lookahead+=je,J.lookahead+J.insert>=3)for(J.ins_h=J.window[Pe=J.strstart-J.insert],J.ins_h=(J.ins_h<<J.hash_shift^J.window[Pe+1])&J.hash_mask;J.insert&&(J.ins_h=(J.ins_h<<J.hash_shift^J.window[Pe+3-1])&J.hash_mask,J.prev[Pe&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=Pe,Pe++,J.insert--,!(J.lookahead+J.insert<3)););}while(J.lookahead<xe&&0!==J.strm.avail_in)}function ke(J,Ne){for(var je,Te;;){if(J.lookahead<xe){if(we(J),J.lookahead<xe&&0===Ne)return 1;if(0===J.lookahead)break}if(je=0,J.lookahead>=3&&(J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+3-1])&J.hash_mask,je=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart),0!==je&&J.strstart-je<=J.w_size-xe&&(J.match_length=B(J,je)),J.match_length>=3)if(Te=F._tr_tally(J,J.strstart-J.match_start,J.match_length-3),J.lookahead-=J.match_length,J.match_length<=J.max_lazy_match&&J.lookahead>=3){for(J.match_length--;J.strstart++,J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+3-1])&J.hash_mask,je=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart,0!=--J.match_length;);J.strstart++}else J.strstart+=J.match_length,J.match_length=0,J.ins_h=J.window[J.strstart],J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+1])&J.hash_mask;else Te=F._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++;if(Te&&(se(J,!1),0===J.strm.avail_out))return 1}return J.insert=J.strstart<2?J.strstart:2,4===Ne?(se(J,!0),0===J.strm.avail_out?3:4):J.last_lit&&(se(J,!1),0===J.strm.avail_out)?1:2}function Oe(J,Ne){for(var je,Te,be;;){if(J.lookahead<xe){if(we(J),J.lookahead<xe&&0===Ne)return 1;if(0===J.lookahead)break}if(je=0,J.lookahead>=3&&(J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+3-1])&J.hash_mask,je=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart),J.prev_length=J.match_length,J.prev_match=J.match_start,J.match_length=2,0!==je&&J.prev_length<J.max_lazy_match&&J.strstart-je<=J.w_size-xe&&(J.match_length=B(J,je),J.match_length<=5&&(1===J.strategy||3===J.match_length&&4096<J.strstart-J.match_start)&&(J.match_length=2)),J.prev_length>=3&&J.match_length<=J.prev_length){for(be=J.strstart+J.lookahead-3,Te=F._tr_tally(J,J.strstart-1-J.prev_match,J.prev_length-3),J.lookahead-=J.prev_length-1,J.prev_length-=2;++J.strstart<=be&&(J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+3-1])&J.hash_mask,je=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart),0!=--J.prev_length;);if(J.match_available=0,J.match_length=2,J.strstart++,Te&&(se(J,!1),0===J.strm.avail_out))return 1}else if(J.match_available){if((Te=F._tr_tally(J,0,J.window[J.strstart-1]))&&se(J,!1),J.strstart++,J.lookahead--,0===J.strm.avail_out)return 1}else J.match_available=1,J.strstart++,J.lookahead--}return J.match_available&&(Te=F._tr_tally(J,0,J.window[J.strstart-1]),J.match_available=0),J.insert=J.strstart<2?J.strstart:2,4===Ne?(se(J,!0),0===J.strm.avail_out?3:4):J.last_lit&&(se(J,!1),0===J.strm.avail_out)?1:2}function rt(J,Ne,je,Te,be){this.good_length=J,this.max_lazy=Ne,this.nice_length=je,this.max_chain=Te,this.func=be}function ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new T.Buf16(1146),this.dyn_dtree=new T.Buf16(122),this.bl_tree=new T.Buf16(78),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new T.Buf16(16),this.heap=new T.Buf16(573),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new T.Buf16(573),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Je(J){var Ne;return J&&J.state?(J.total_in=J.total_out=0,J.data_type=2,(Ne=J.state).pending=0,Ne.pending_out=0,Ne.wrap<0&&(Ne.wrap=-Ne.wrap),Ne.status=Ne.wrap?42:113,J.adler=2===Ne.wrap?0:1,Ne.last_flush=0,F._tr_init(Ne),0):ue(J,I)}function Pt(J){var je,Ne=Je(J);return 0===Ne&&((je=J.state).window_size=2*je.w_size,Re(je.head),je.max_lazy_match=S[je.level].max_lazy,je.good_match=S[je.level].good_length,je.nice_match=S[je.level].nice_length,je.max_chain_length=S[je.level].max_chain,je.strstart=0,je.block_start=0,je.lookahead=0,je.insert=0,je.match_length=je.prev_length=2,je.match_available=0,je.ins_h=0),Ne}function Ct(J,Ne,je,Te,be,Pe){if(!J)return I;var We=1;if(-1===Ne&&(Ne=6),Te<0?(We=0,Te=-Te):15<Te&&(We=2,Te-=16),be<1||9<be||8!==je||Te<8||15<Te||Ne<0||9<Ne||Pe<0||4<Pe)return ue(J,I);8===Te&&(Te=9);var tt=new ot;return(J.state=tt).strm=J,tt.wrap=We,tt.gzhead=null,tt.w_bits=Te,tt.w_size=1<<tt.w_bits,tt.w_mask=tt.w_size-1,tt.hash_bits=be+7,tt.hash_size=1<<tt.hash_bits,tt.hash_mask=tt.hash_size-1,tt.hash_shift=~~((tt.hash_bits+3-1)/3),tt.window=new T.Buf8(2*tt.w_size),tt.head=new T.Buf16(tt.hash_size),tt.prev=new T.Buf16(tt.w_size),tt.lit_bufsize=1<<be+6,tt.pending_buf_size=4*tt.lit_bufsize,tt.pending_buf=new T.Buf8(tt.pending_buf_size),tt.d_buf=1*tt.lit_bufsize,tt.l_buf=3*tt.lit_bufsize,tt.level=Ne,tt.strategy=Pe,tt.method=je,Pt(J)}S=[new rt(0,0,0,0,function(J,Ne){var je=65535;for(je>J.pending_buf_size-5&&(je=J.pending_buf_size-5);;){if(J.lookahead<=1){if(we(J),0===J.lookahead&&0===Ne)return 1;if(0===J.lookahead)break}J.strstart+=J.lookahead,J.lookahead=0;var Te=J.block_start+je;if((0===J.strstart||J.strstart>=Te)&&(J.lookahead=J.strstart-Te,J.strstart=Te,se(J,!1),0===J.strm.avail_out)||J.strstart-J.block_start>=J.w_size-xe&&(se(J,!1),0===J.strm.avail_out))return 1}return J.insert=0,4===Ne?(se(J,!0),0===J.strm.avail_out?3:4):(J.strstart>J.block_start&&se(J,!1),1)}),new rt(4,4,8,4,ke),new rt(4,5,16,8,ke),new rt(4,6,32,32,ke),new rt(4,4,16,16,Oe),new rt(8,16,32,32,Oe),new rt(8,16,128,128,Oe),new rt(8,32,128,256,Oe),new rt(32,128,258,1024,Oe),new rt(32,258,258,4096,Oe)],m.deflateInit=function(J,Ne){return Ct(J,Ne,8,15,8,0)},m.deflateInit2=Ct,m.deflateReset=Pt,m.deflateResetKeep=Je,m.deflateSetHeader=function(J,Ne){return J&&J.state?2!==J.state.wrap?I:(J.state.gzhead=Ne,0):I},m.deflate=function(J,Ne){var je,Te,be,Pe;if(!J||!J.state||5<Ne||Ne<0)return J?ue(J,I):I;if(Te=J.state,!J.output||!J.input&&0!==J.avail_in||666===Te.status&&4!==Ne)return ue(J,0===J.avail_out?-5:I);if(Te.strm=J,je=Te.last_flush,Te.last_flush=Ne,42===Te.status)if(2===Te.wrap)J.adler=0,Ee(Te,31),Ee(Te,139),Ee(Te,8),Te.gzhead?(Ee(Te,(Te.gzhead.text?1:0)+(Te.gzhead.hcrc?2:0)+(Te.gzhead.extra?4:0)+(Te.gzhead.name?8:0)+(Te.gzhead.comment?16:0)),Ee(Te,255&Te.gzhead.time),Ee(Te,Te.gzhead.time>>8&255),Ee(Te,Te.gzhead.time>>16&255),Ee(Te,Te.gzhead.time>>24&255),Ee(Te,9===Te.level?2:2<=Te.strategy||Te.level<2?4:0),Ee(Te,255&Te.gzhead.os),Te.gzhead.extra&&Te.gzhead.extra.length&&(Ee(Te,255&Te.gzhead.extra.length),Ee(Te,Te.gzhead.extra.length>>8&255)),Te.gzhead.hcrc&&(J.adler=Z(J.adler,Te.pending_buf,Te.pending,0)),Te.gzindex=0,Te.status=69):(Ee(Te,0),Ee(Te,0),Ee(Te,0),Ee(Te,0),Ee(Te,0),Ee(Te,9===Te.level?2:2<=Te.strategy||Te.level<2?4:0),Ee(Te,3),Te.status=113);else{var We=8+(Te.w_bits-8<<4)<<8;We|=(2<=Te.strategy||Te.level<2?0:Te.level<6?1:6===Te.level?2:3)<<6,0!==Te.strstart&&(We|=32),We+=31-We%31,Te.status=113,Q(Te,We),0!==Te.strstart&&(Q(Te,J.adler>>>16),Q(Te,65535&J.adler)),J.adler=1}if(69===Te.status)if(Te.gzhead.extra){for(be=Te.pending;Te.gzindex<(65535&Te.gzhead.extra.length)&&(Te.pending!==Te.pending_buf_size||(Te.gzhead.hcrc&&Te.pending>be&&(J.adler=Z(J.adler,Te.pending_buf,Te.pending-be,be)),Ie(J),be=Te.pending,Te.pending!==Te.pending_buf_size));)Ee(Te,255&Te.gzhead.extra[Te.gzindex]),Te.gzindex++;Te.gzhead.hcrc&&Te.pending>be&&(J.adler=Z(J.adler,Te.pending_buf,Te.pending-be,be)),Te.gzindex===Te.gzhead.extra.length&&(Te.gzindex=0,Te.status=73)}else Te.status=73;if(73===Te.status)if(Te.gzhead.name){be=Te.pending;do{if(Te.pending===Te.pending_buf_size&&(Te.gzhead.hcrc&&Te.pending>be&&(J.adler=Z(J.adler,Te.pending_buf,Te.pending-be,be)),Ie(J),be=Te.pending,Te.pending===Te.pending_buf_size)){Pe=1;break}Pe=Te.gzindex<Te.gzhead.name.length?255&Te.gzhead.name.charCodeAt(Te.gzindex++):0,Ee(Te,Pe)}while(0!==Pe);Te.gzhead.hcrc&&Te.pending>be&&(J.adler=Z(J.adler,Te.pending_buf,Te.pending-be,be)),0===Pe&&(Te.gzindex=0,Te.status=91)}else Te.status=91;if(91===Te.status)if(Te.gzhead.comment){be=Te.pending;do{if(Te.pending===Te.pending_buf_size&&(Te.gzhead.hcrc&&Te.pending>be&&(J.adler=Z(J.adler,Te.pending_buf,Te.pending-be,be)),Ie(J),be=Te.pending,Te.pending===Te.pending_buf_size)){Pe=1;break}Pe=Te.gzindex<Te.gzhead.comment.length?255&Te.gzhead.comment.charCodeAt(Te.gzindex++):0,Ee(Te,Pe)}while(0!==Pe);Te.gzhead.hcrc&&Te.pending>be&&(J.adler=Z(J.adler,Te.pending_buf,Te.pending-be,be)),0===Pe&&(Te.status=103)}else Te.status=103;if(103===Te.status&&(Te.gzhead.hcrc?(Te.pending+2>Te.pending_buf_size&&Ie(J),Te.pending+2<=Te.pending_buf_size&&(Ee(Te,255&J.adler),Ee(Te,J.adler>>8&255),J.adler=0,Te.status=113)):Te.status=113),0!==Te.pending){if(Ie(J),0===J.avail_out)return Te.last_flush=-1,0}else if(0===J.avail_in&&W(Ne)<=W(je)&&4!==Ne)return ue(J,-5);if(666===Te.status&&0!==J.avail_in)return ue(J,-5);if(0!==J.avail_in||0!==Te.lookahead||0!==Ne&&666!==Te.status){var tt=2===Te.strategy?function(ze,dt){for(var Dt;;){if(0===ze.lookahead&&(we(ze),0===ze.lookahead)){if(0===dt)return 1;break}if(ze.match_length=0,Dt=F._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++,Dt&&(se(ze,!1),0===ze.strm.avail_out))return 1}return ze.insert=0,4===dt?(se(ze,!0),0===ze.strm.avail_out?3:4):ze.last_lit&&(se(ze,!1),0===ze.strm.avail_out)?1:2}(Te,Ne):3===Te.strategy?function(ze,dt){for(var Dt,Ye,nt,kt,Rt=ze.window;;){if(ze.lookahead<=ye){if(we(ze),ze.lookahead<=ye&&0===dt)return 1;if(0===ze.lookahead)break}if(ze.match_length=0,ze.lookahead>=3&&0<ze.strstart&&(Ye=Rt[nt=ze.strstart-1])===Rt[++nt]&&Ye===Rt[++nt]&&Ye===Rt[++nt]){kt=ze.strstart+ye;do{}while(Ye===Rt[++nt]&&Ye===Rt[++nt]&&Ye===Rt[++nt]&&Ye===Rt[++nt]&&Ye===Rt[++nt]&&Ye===Rt[++nt]&&Ye===Rt[++nt]&&Ye===Rt[++nt]&&nt<kt);ze.match_length=ye-(kt-nt),ze.match_length>ze.lookahead&&(ze.match_length=ze.lookahead)}if(ze.match_length>=3?(Dt=F._tr_tally(ze,1,ze.match_length-3),ze.lookahead-=ze.match_length,ze.strstart+=ze.match_length,ze.match_length=0):(Dt=F._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++),Dt&&(se(ze,!1),0===ze.strm.avail_out))return 1}return ze.insert=0,4===dt?(se(ze,!0),0===ze.strm.avail_out?3:4):ze.last_lit&&(se(ze,!1),0===ze.strm.avail_out)?1:2}(Te,Ne):S[Te.level].func(Te,Ne);if(3!==tt&&4!==tt||(Te.status=666),1===tt||3===tt)return 0===J.avail_out&&(Te.last_flush=-1),0;if(2===tt&&(1===Ne?F._tr_align(Te):5!==Ne&&(F._tr_stored_block(Te,0,0,!1),3===Ne&&(Re(Te.head),0===Te.lookahead&&(Te.strstart=0,Te.block_start=0,Te.insert=0))),Ie(J),0===J.avail_out))return Te.last_flush=-1,0}return 4!==Ne?0:Te.wrap<=0?1:(2===Te.wrap?(Ee(Te,255&J.adler),Ee(Te,J.adler>>8&255),Ee(Te,J.adler>>16&255),Ee(Te,J.adler>>24&255),Ee(Te,255&J.total_in),Ee(Te,J.total_in>>8&255),Ee(Te,J.total_in>>16&255),Ee(Te,J.total_in>>24&255)):(Q(Te,J.adler>>>16),Q(Te,65535&J.adler)),Ie(J),0<Te.wrap&&(Te.wrap=-Te.wrap),0!==Te.pending?0:1)},m.deflateEnd=function(J){var Ne;return J&&J.state?42!==(Ne=J.state.status)&&69!==Ne&&73!==Ne&&91!==Ne&&103!==Ne&&113!==Ne&&666!==Ne?ue(J,I):(J.state=null,113===Ne?ue(J,-3):0):I},m.deflateSetDictionary=function(J,Ne){var je,Te,be,Pe,We,tt,ze,dt,Dt=Ne.length;if(!J||!J.state||2===(Pe=(je=J.state).wrap)||1===Pe&&42!==je.status||je.lookahead)return I;for(1===Pe&&(J.adler=$(J.adler,Ne,Dt,0)),je.wrap=0,Dt>=je.w_size&&(0===Pe&&(Re(je.head),je.strstart=0,je.block_start=0,je.insert=0),dt=new T.Buf8(je.w_size),T.arraySet(dt,Ne,Dt-je.w_size,je.w_size,0),Ne=dt,Dt=je.w_size),We=J.avail_in,tt=J.next_in,ze=J.input,J.avail_in=Dt,J.next_in=0,J.input=Ne,we(je);je.lookahead>=3;){for(Te=je.strstart,be=je.lookahead-2;je.ins_h=(je.ins_h<<je.hash_shift^je.window[Te+3-1])&je.hash_mask,je.prev[Te&je.w_mask]=je.head[je.ins_h],je.head[je.ins_h]=Te,Te++,--be;);je.strstart=Te,je.lookahead=2,we(je)}return je.strstart+=je.lookahead,je.block_start=je.strstart,je.insert=je.lookahead,je.lookahead=0,je.match_length=je.prev_length=2,je.match_available=0,J.next_in=tt,J.input=ze,J.avail_in=We,je.wrap=Pe,0},m.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(de,Y,m){"use strict";Y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(de,Y,m){"use strict";Y.exports=function(S,T){var F,$,Z,P,U,H,D,I,j,R,x,V,q,G,re,pe,fe,me,te,ye,xe,ae,oe,k,he;k=S.input,Z=($=S.next_in)+(S.avail_in-5),he=S.output,U=(P=S.next_out)-(T-S.avail_out),H=P+(S.avail_out-257),D=(F=S.state).dmax,I=F.wsize,j=F.whave,R=F.wnext,x=F.window,V=F.hold,q=F.bits,G=F.lencode,re=F.distcode,pe=(1<<F.lenbits)-1,fe=(1<<F.distbits)-1;e:do{q<15&&(V+=k[$++]<<q,V+=k[$++]<<(q+=8),q+=8),me=G[V&pe];t:for(;;){if(V>>>=te=me>>>24,q-=te,0==(te=me>>>16&255))he[P++]=65535&me;else{if(!(16&te)){if(0==(64&te)){me=G[(65535&me)+(V&(1<<te)-1)];continue t}if(32&te){F.mode=12;break e}S.msg="invalid literal/length code",F.mode=30;break e}ye=65535&me,(te&=15)&&(q<te&&(V+=k[$++]<<q,q+=8),ye+=V&(1<<te)-1,V>>>=te,q-=te),q<15&&(V+=k[$++]<<q,V+=k[$++]<<(q+=8),q+=8),me=re[V&fe];n:for(;;){if(V>>>=te=me>>>24,q-=te,!(16&(te=me>>>16&255))){if(0==(64&te)){me=re[(65535&me)+(V&(1<<te)-1)];continue n}S.msg="invalid distance code",F.mode=30;break e}if(xe=65535&me,q<(te&=15)&&(V+=k[$++]<<q,(q+=8)<te&&(V+=k[$++]<<q,q+=8)),D<(xe+=V&(1<<te)-1)){S.msg="invalid distance too far back",F.mode=30;break e}if(V>>>=te,q-=te,(te=P-U)<xe){if(j<(te=xe-te)&&F.sane){S.msg="invalid distance too far back",F.mode=30;break e}if(oe=x,(ae=0)===R){if(ae+=I-te,te<ye){for(ye-=te;he[P++]=x[ae++],--te;);ae=P-xe,oe=he}}else if(R<te){if(ae+=I+R-te,(te-=R)<ye){for(ye-=te;he[P++]=x[ae++],--te;);if(ae=0,R<ye){for(ye-=te=R;he[P++]=x[ae++],--te;);ae=P-xe,oe=he}}}else if(ae+=R-te,te<ye){for(ye-=te;he[P++]=x[ae++],--te;);ae=P-xe,oe=he}for(;2<ye;)he[P++]=oe[ae++],he[P++]=oe[ae++],he[P++]=oe[ae++],ye-=3;ye&&(he[P++]=oe[ae++],1<ye&&(he[P++]=oe[ae++]))}else{for(ae=P-xe;he[P++]=he[ae++],he[P++]=he[ae++],he[P++]=he[ae++],2<(ye-=3););ye&&(he[P++]=he[ae++],1<ye&&(he[P++]=he[ae++]))}break}}break}}while($<Z&&P<H);$-=ye=q>>3,V&=(1<<(q-=ye<<3))-1,S.next_in=$,S.next_out=P,S.avail_in=$<Z?Z-$+5:5-($-Z),S.avail_out=P<H?H-P+257:257-(P-H),F.hold=V,F.bits=q}},{}],49:[function(de,Y,m){"use strict";var S=de("../utils/common"),T=de("./adler32"),F=de("./crc32"),$=de("./inffast"),Z=de("./inftrees"),D=-2;function x(ae){return(ae>>>24&255)+(ae>>>8&65280)+((65280&ae)<<8)+((255&ae)<<24)}function V(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new S.Buf16(320),this.work=new S.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function q(ae){var oe;return ae&&ae.state?(ae.total_in=ae.total_out=(oe=ae.state).total=0,ae.msg="",oe.wrap&&(ae.adler=1&oe.wrap),oe.mode=1,oe.last=0,oe.havedict=0,oe.dmax=32768,oe.head=null,oe.hold=0,oe.bits=0,oe.lencode=oe.lendyn=new S.Buf32(852),oe.distcode=oe.distdyn=new S.Buf32(592),oe.sane=1,oe.back=-1,0):D}function G(ae){var oe;return ae&&ae.state?((oe=ae.state).wsize=0,oe.whave=0,oe.wnext=0,q(ae)):D}function re(ae,oe){var k,he;return ae&&ae.state?(he=ae.state,oe<0?(k=0,oe=-oe):(k=1+(oe>>4),oe<48&&(oe&=15)),oe&&(oe<8||15<oe)?D:(null!==he.window&&he.wbits!==oe&&(he.window=null),he.wrap=k,he.wbits=oe,G(ae))):D}function pe(ae,oe){var k,he;return ae?(he=new V,(ae.state=he).window=null,0!==(k=re(ae,oe))&&(ae.state=null),k):D}var fe,me,te=!0;function ye(ae){if(te){var oe;for(fe=new S.Buf32(512),me=new S.Buf32(32),oe=0;oe<144;)ae.lens[oe++]=8;for(;oe<256;)ae.lens[oe++]=9;for(;oe<280;)ae.lens[oe++]=7;for(;oe<288;)ae.lens[oe++]=8;for(Z(1,ae.lens,0,288,fe,0,ae.work,{bits:9}),oe=0;oe<32;)ae.lens[oe++]=5;Z(2,ae.lens,0,32,me,0,ae.work,{bits:5}),te=!1}ae.lencode=fe,ae.lenbits=9,ae.distcode=me,ae.distbits=5}function xe(ae,oe,k,he){var Ce,ie=ae.state;return null===ie.window&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new S.Buf8(ie.wsize)),he>=ie.wsize?(S.arraySet(ie.window,oe,k-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(he<(Ce=ie.wsize-ie.wnext)&&(Ce=he),S.arraySet(ie.window,oe,k-he,Ce,ie.wnext),(he-=Ce)?(S.arraySet(ie.window,oe,k-he,he,0),ie.wnext=he,ie.whave=ie.wsize):(ie.wnext+=Ce,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=Ce))),0}m.inflateReset=G,m.inflateReset2=re,m.inflateResetKeep=q,m.inflateInit=function(ae){return pe(ae,15)},m.inflateInit2=pe,m.inflate=function(ae,oe){var k,he,Ce,ie,ue,W,Re,Ie,se,Ee,Q,B,we,ke,Oe,rt,ot,Je,Pt,Ct,J,Ne,je,Te,be=0,Pe=new S.Buf8(4),We=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ae||!ae.state||!ae.output||!ae.input&&0!==ae.avail_in)return D;12===(k=ae.state).mode&&(k.mode=13),ue=ae.next_out,Ce=ae.output,ie=ae.next_in,he=ae.input,Ie=k.hold,se=k.bits,Ee=W=ae.avail_in,Q=Re=ae.avail_out,Ne=0;e:for(;;)switch(k.mode){case 1:if(0===k.wrap){k.mode=13;break}for(;se<16;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if(2&k.wrap&&35615===Ie){Pe[k.check=0]=255&Ie,Pe[1]=Ie>>>8&255,k.check=F(k.check,Pe,2,0),se=Ie=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&Ie)<<8)+(Ie>>8))%31){ae.msg="incorrect header check",k.mode=30;break}if(8!=(15&Ie)){ae.msg="unknown compression method",k.mode=30;break}if(se-=4,J=8+(15&(Ie>>>=4)),0===k.wbits)k.wbits=J;else if(J>k.wbits){ae.msg="invalid window size",k.mode=30;break}k.dmax=1<<J,ae.adler=k.check=1,k.mode=512&Ie?10:12,se=Ie=0;break;case 2:for(;se<16;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if(k.flags=Ie,8!=(255&k.flags)){ae.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){ae.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=Ie>>8&1),512&k.flags&&(Pe[0]=255&Ie,Pe[1]=Ie>>>8&255,k.check=F(k.check,Pe,2,0)),se=Ie=0,k.mode=3;case 3:for(;se<32;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}k.head&&(k.head.time=Ie),512&k.flags&&(Pe[0]=255&Ie,Pe[1]=Ie>>>8&255,Pe[2]=Ie>>>16&255,Pe[3]=Ie>>>24&255,k.check=F(k.check,Pe,4,0)),se=Ie=0,k.mode=4;case 4:for(;se<16;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}k.head&&(k.head.xflags=255&Ie,k.head.os=Ie>>8),512&k.flags&&(Pe[0]=255&Ie,Pe[1]=Ie>>>8&255,k.check=F(k.check,Pe,2,0)),se=Ie=0,k.mode=5;case 5:if(1024&k.flags){for(;se<16;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}k.length=Ie,k.head&&(k.head.extra_len=Ie),512&k.flags&&(Pe[0]=255&Ie,Pe[1]=Ie>>>8&255,k.check=F(k.check,Pe,2,0)),se=Ie=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(W<(B=k.length)&&(B=W),B&&(k.head&&(J=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),S.arraySet(k.head.extra,he,ie,B,J)),512&k.flags&&(k.check=F(k.check,he,B,ie)),W-=B,ie+=B,k.length-=B),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(0===W)break e;for(B=0;J=he[ie+B++],k.head&&J&&k.length<65536&&(k.head.name+=String.fromCharCode(J)),J&&B<W;);if(512&k.flags&&(k.check=F(k.check,he,B,ie)),W-=B,ie+=B,J)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(0===W)break e;for(B=0;J=he[ie+B++],k.head&&J&&k.length<65536&&(k.head.comment+=String.fromCharCode(J)),J&&B<W;);if(512&k.flags&&(k.check=F(k.check,he,B,ie)),W-=B,ie+=B,J)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;se<16;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if(Ie!==(65535&k.check)){ae.msg="header crc mismatch",k.mode=30;break}se=Ie=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),ae.adler=k.check=0,k.mode=12;break;case 10:for(;se<32;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}ae.adler=k.check=x(Ie),se=Ie=0,k.mode=11;case 11:if(0===k.havedict)return ae.next_out=ue,ae.avail_out=Re,ae.next_in=ie,ae.avail_in=W,k.hold=Ie,k.bits=se,2;ae.adler=k.check=1,k.mode=12;case 12:if(5===oe||6===oe)break e;case 13:if(k.last){Ie>>>=7&se,se-=7&se,k.mode=27;break}for(;se<3;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}switch(k.last=1&Ie,se-=1,3&(Ie>>>=1)){case 0:k.mode=14;break;case 1:if(ye(k),k.mode=20,6!==oe)break;Ie>>>=2,se-=2;break e;case 2:k.mode=17;break;case 3:ae.msg="invalid block type",k.mode=30}Ie>>>=2,se-=2;break;case 14:for(Ie>>>=7&se,se-=7&se;se<32;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if((65535&Ie)!=(Ie>>>16^65535)){ae.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&Ie,se=Ie=0,k.mode=15,6===oe)break e;case 15:k.mode=16;case 16:if(B=k.length){if(W<B&&(B=W),Re<B&&(B=Re),0===B)break e;S.arraySet(Ce,he,ie,B,ue),W-=B,ie+=B,Re-=B,ue+=B,k.length-=B;break}k.mode=12;break;case 17:for(;se<14;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if(k.nlen=257+(31&Ie),se-=5,k.ndist=1+(31&(Ie>>>=5)),se-=5,k.ncode=4+(15&(Ie>>>=5)),Ie>>>=4,se-=4,286<k.nlen||30<k.ndist){ae.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;se<3;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}k.lens[We[k.have++]]=7&Ie,Ie>>>=3,se-=3}for(;k.have<19;)k.lens[We[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Ne=Z(0,k.lens,0,19,k.lencode,0,k.work,je={bits:k.lenbits}),k.lenbits=je.bits,Ne){ae.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;rt=(be=k.lencode[Ie&(1<<k.lenbits)-1])>>>16&255,ot=65535&be,!((Oe=be>>>24)<=se);){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if(ot<16)Ie>>>=Oe,se-=Oe,k.lens[k.have++]=ot;else{if(16===ot){for(Te=Oe+2;se<Te;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if(Ie>>>=Oe,se-=Oe,0===k.have){ae.msg="invalid bit length repeat",k.mode=30;break}J=k.lens[k.have-1],B=3+(3&Ie),Ie>>>=2,se-=2}else if(17===ot){for(Te=Oe+3;se<Te;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}se-=Oe,J=0,B=3+(7&(Ie>>>=Oe)),Ie>>>=3,se-=3}else{for(Te=Oe+7;se<Te;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}se-=Oe,J=0,B=11+(127&(Ie>>>=Oe)),Ie>>>=7,se-=7}if(k.have+B>k.nlen+k.ndist){ae.msg="invalid bit length repeat",k.mode=30;break}for(;B--;)k.lens[k.have++]=J}}if(30===k.mode)break;if(0===k.lens[256]){ae.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,Ne=Z(1,k.lens,0,k.nlen,k.lencode,0,k.work,je={bits:k.lenbits}),k.lenbits=je.bits,Ne){ae.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,Ne=Z(2,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,je={bits:k.distbits}),k.distbits=je.bits,Ne){ae.msg="invalid distances set",k.mode=30;break}if(k.mode=20,6===oe)break e;case 20:k.mode=21;case 21:if(6<=W&&258<=Re){ae.next_out=ue,ae.avail_out=Re,ae.next_in=ie,ae.avail_in=W,k.hold=Ie,k.bits=se,$(ae,Q),ue=ae.next_out,Ce=ae.output,Re=ae.avail_out,ie=ae.next_in,he=ae.input,W=ae.avail_in,Ie=k.hold,se=k.bits,12===k.mode&&(k.back=-1);break}for(k.back=0;rt=(be=k.lencode[Ie&(1<<k.lenbits)-1])>>>16&255,ot=65535&be,!((Oe=be>>>24)<=se);){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if(rt&&0==(240&rt)){for(Je=Oe,Pt=rt,Ct=ot;rt=(be=k.lencode[Ct+((Ie&(1<<Je+Pt)-1)>>Je)])>>>16&255,ot=65535&be,!(Je+(Oe=be>>>24)<=se);){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}Ie>>>=Je,se-=Je,k.back+=Je}if(Ie>>>=Oe,se-=Oe,k.back+=Oe,k.length=ot,0===rt){k.mode=26;break}if(32&rt){k.back=-1,k.mode=12;break}if(64&rt){ae.msg="invalid literal/length code",k.mode=30;break}k.extra=15&rt,k.mode=22;case 22:if(k.extra){for(Te=k.extra;se<Te;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}k.length+=Ie&(1<<k.extra)-1,Ie>>>=k.extra,se-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;rt=(be=k.distcode[Ie&(1<<k.distbits)-1])>>>16&255,ot=65535&be,!((Oe=be>>>24)<=se);){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if(0==(240&rt)){for(Je=Oe,Pt=rt,Ct=ot;rt=(be=k.distcode[Ct+((Ie&(1<<Je+Pt)-1)>>Je)])>>>16&255,ot=65535&be,!(Je+(Oe=be>>>24)<=se);){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}Ie>>>=Je,se-=Je,k.back+=Je}if(Ie>>>=Oe,se-=Oe,k.back+=Oe,64&rt){ae.msg="invalid distance code",k.mode=30;break}k.offset=ot,k.extra=15&rt,k.mode=24;case 24:if(k.extra){for(Te=k.extra;se<Te;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}k.offset+=Ie&(1<<k.extra)-1,Ie>>>=k.extra,se-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){ae.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(0===Re)break e;if(k.offset>(B=Q-Re)){if((B=k.offset-B)>k.whave&&k.sane){ae.msg="invalid distance too far back",k.mode=30;break}we=B>k.wnext?k.wsize-(B-=k.wnext):k.wnext-B,B>k.length&&(B=k.length),ke=k.window}else ke=Ce,we=ue-k.offset,B=k.length;for(Re<B&&(B=Re),Re-=B,k.length-=B;Ce[ue++]=ke[we++],--B;);0===k.length&&(k.mode=21);break;case 26:if(0===Re)break e;Ce[ue++]=k.length,Re--,k.mode=21;break;case 27:if(k.wrap){for(;se<32;){if(0===W)break e;W--,Ie|=he[ie++]<<se,se+=8}if(ae.total_out+=Q-=Re,k.total+=Q,Q&&(ae.adler=k.check=k.flags?F(k.check,Ce,Q,ue-Q):T(k.check,Ce,Q,ue-Q)),Q=Re,(k.flags?Ie:x(Ie))!==k.check){ae.msg="incorrect data check",k.mode=30;break}se=Ie=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;se<32;){if(0===W)break e;W--,Ie+=he[ie++]<<se,se+=8}if(Ie!==(4294967295&k.total)){ae.msg="incorrect length check",k.mode=30;break}se=Ie=0}k.mode=29;case 29:Ne=1;break e;case 30:Ne=-3;break e;case 31:return-4;default:return D}return ae.next_out=ue,ae.avail_out=Re,ae.next_in=ie,ae.avail_in=W,k.hold=Ie,k.bits=se,(k.wsize||Q!==ae.avail_out&&k.mode<30&&(k.mode<27||4!==oe))&&xe(ae,ae.output,ae.next_out,Q-ae.avail_out)?(k.mode=31,-4):(Q-=ae.avail_out,ae.total_in+=Ee-=ae.avail_in,ae.total_out+=Q,k.total+=Q,k.wrap&&Q&&(ae.adler=k.check=k.flags?F(k.check,Ce,Q,ae.next_out-Q):T(k.check,Ce,Q,ae.next_out-Q)),ae.data_type=k.bits+(k.last?64:0)+(12===k.mode?128:0)+(20===k.mode||15===k.mode?256:0),(0==Ee&&0===Q||4===oe)&&0===Ne&&(Ne=-5),Ne)},m.inflateEnd=function(ae){if(!ae||!ae.state)return D;var oe=ae.state;return oe.window&&(oe.window=null),ae.state=null,0},m.inflateGetHeader=function(ae,oe){var k;return ae&&ae.state?0==(2&(k=ae.state).wrap)?D:((k.head=oe).done=!1,0):D},m.inflateSetDictionary=function(ae,oe){var k,he=oe.length;return ae&&ae.state?0!==(k=ae.state).wrap&&11!==k.mode?D:11===k.mode&&T(1,oe,he,0)!==k.check?-3:xe(ae,oe,he,he)?(k.mode=31,-4):(k.havedict=1,0):D},m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(de,Y,m){"use strict";var S=de("../utils/common"),T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],F=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],$=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Z=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Y.exports=function(P,U,H,D,I,j,R,x){var V,q,G,re,pe,fe,me,te,ye,xe=x.bits,ae=0,oe=0,k=0,he=0,Ce=0,ie=0,ue=0,W=0,Re=0,Ie=0,se=null,Ee=0,Q=new S.Buf16(16),B=new S.Buf16(16),we=null,ke=0;for(ae=0;ae<=15;ae++)Q[ae]=0;for(oe=0;oe<D;oe++)Q[U[H+oe]]++;for(Ce=xe,he=15;1<=he&&0===Q[he];he--);if(he<Ce&&(Ce=he),0===he)return I[j++]=20971520,I[j++]=20971520,x.bits=1,0;for(k=1;k<he&&0===Q[k];k++);for(Ce<k&&(Ce=k),ae=W=1;ae<=15;ae++)if(W<<=1,(W-=Q[ae])<0)return-1;if(0<W&&(0===P||1!==he))return-1;for(B[1]=0,ae=1;ae<15;ae++)B[ae+1]=B[ae]+Q[ae];for(oe=0;oe<D;oe++)0!==U[H+oe]&&(R[B[U[H+oe]]++]=oe);if(fe=0===P?(se=we=R,19):1===P?(se=T,Ee-=257,we=F,ke-=257,256):(se=$,we=Z,-1),ae=k,pe=j,ue=oe=Ie=0,G=-1,re=(Re=1<<(ie=Ce))-1,1===P&&852<Re||2===P&&592<Re)return 1;for(;;){for(me=ae-ue,ye=R[oe]<fe?(te=0,R[oe]):R[oe]>fe?(te=we[ke+R[oe]],se[Ee+R[oe]]):(te=96,0),V=1<<ae-ue,k=q=1<<ie;I[pe+(Ie>>ue)+(q-=V)]=me<<24|te<<16|ye|0,0!==q;);for(V=1<<ae-1;Ie&V;)V>>=1;if(0!==V?(Ie&=V-1,Ie+=V):Ie=0,oe++,0==--Q[ae]){if(ae===he)break;ae=U[H+R[oe]]}if(Ce<ae&&(Ie&re)!==G){for(0===ue&&(ue=Ce),pe+=k,W=1<<(ie=ae-ue);ie+ue<he&&!((W-=Q[ie+ue])<=0);)ie++,W<<=1;if(Re+=1<<ie,1===P&&852<Re||2===P&&592<Re)return 1;I[G=Ie&re]=Ce<<24|ie<<16|pe-j|0}}return 0!==Ie&&(I[pe+Ie]=ae-ue<<24|64<<16|0),x.bits=Ce,0}},{"../utils/common":41}],51:[function(de,Y,m){"use strict";Y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(de,Y,m){"use strict";var S=de("../utils/common");function $(be){for(var Pe=be.length;0<=--Pe;)be[Pe]=0}var U=256,H=286,D=30,R=15,fe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],me=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xe=new Array(576);$(xe);var ae=new Array(60);$(ae);var oe=new Array(512);$(oe);var k=new Array(256);$(k);var he=new Array(29);$(he);var Ce,ie,ue,W=new Array(D);function Re(be,Pe,We,tt,ze){this.static_tree=be,this.extra_bits=Pe,this.extra_base=We,this.elems=tt,this.max_length=ze,this.has_stree=be&&be.length}function Ie(be,Pe){this.dyn_tree=be,this.max_code=0,this.stat_desc=Pe}function se(be){return be<256?oe[be]:oe[256+(be>>>7)]}function Ee(be,Pe){be.pending_buf[be.pending++]=255&Pe,be.pending_buf[be.pending++]=Pe>>>8&255}function Q(be,Pe,We){be.bi_valid>16-We?(be.bi_buf|=Pe<<be.bi_valid&65535,Ee(be,be.bi_buf),be.bi_buf=Pe>>16-be.bi_valid,be.bi_valid+=We-16):(be.bi_buf|=Pe<<be.bi_valid&65535,be.bi_valid+=We)}function B(be,Pe,We){Q(be,We[2*Pe],We[2*Pe+1])}function we(be,Pe){for(var We=0;We|=1&be,be>>>=1,We<<=1,0<--Pe;);return We>>>1}function ke(be,Pe,We){var tt,ze,dt=new Array(16),Dt=0;for(tt=1;tt<=R;tt++)dt[tt]=Dt=Dt+We[tt-1]<<1;for(ze=0;ze<=Pe;ze++){var Ye=be[2*ze+1];0!==Ye&&(be[2*ze]=we(dt[Ye]++,Ye))}}function Oe(be){var Pe;for(Pe=0;Pe<H;Pe++)be.dyn_ltree[2*Pe]=0;for(Pe=0;Pe<D;Pe++)be.dyn_dtree[2*Pe]=0;for(Pe=0;Pe<19;Pe++)be.bl_tree[2*Pe]=0;be.dyn_ltree[512]=1,be.opt_len=be.static_len=0,be.last_lit=be.matches=0}function rt(be){8<be.bi_valid?Ee(be,be.bi_buf):0<be.bi_valid&&(be.pending_buf[be.pending++]=be.bi_buf),be.bi_buf=0,be.bi_valid=0}function ot(be,Pe,We,tt){var ze=2*Pe,dt=2*We;return be[ze]<be[dt]||be[ze]===be[dt]&&tt[Pe]<=tt[We]}function Je(be,Pe,We){for(var tt=be.heap[We],ze=We<<1;ze<=be.heap_len&&(ze<be.heap_len&&ot(Pe,be.heap[ze+1],be.heap[ze],be.depth)&&ze++,!ot(Pe,tt,be.heap[ze],be.depth));)be.heap[We]=be.heap[ze],We=ze,ze<<=1;be.heap[We]=tt}function Pt(be,Pe,We){var tt,ze,dt,Dt,Ye=0;if(0!==be.last_lit)for(;tt=be.pending_buf[be.d_buf+2*Ye]<<8|be.pending_buf[be.d_buf+2*Ye+1],ze=be.pending_buf[be.l_buf+Ye],Ye++,0===tt?B(be,ze,Pe):(B(be,(dt=k[ze])+U+1,Pe),0!==(Dt=fe[dt])&&Q(be,ze-=he[dt],Dt),B(be,dt=se(--tt),We),0!==(Dt=me[dt])&&Q(be,tt-=W[dt],Dt)),Ye<be.last_lit;);B(be,256,Pe)}function Ct(be,Pe){var We,tt,ze,dt=Pe.dyn_tree,Dt=Pe.stat_desc.static_tree,Ye=Pe.stat_desc.has_stree,nt=Pe.stat_desc.elems,kt=-1;for(be.heap_len=0,be.heap_max=573,We=0;We<nt;We++)0!==dt[2*We]?(be.heap[++be.heap_len]=kt=We,be.depth[We]=0):dt[2*We+1]=0;for(;be.heap_len<2;)dt[2*(ze=be.heap[++be.heap_len]=kt<2?++kt:0)]=1,be.depth[ze]=0,be.opt_len--,Ye&&(be.static_len-=Dt[2*ze+1]);for(Pe.max_code=kt,We=be.heap_len>>1;1<=We;We--)Je(be,dt,We);for(ze=nt;We=be.heap[1],be.heap[1]=be.heap[be.heap_len--],Je(be,dt,1),tt=be.heap[1],be.heap[--be.heap_max]=We,be.heap[--be.heap_max]=tt,dt[2*ze]=dt[2*We]+dt[2*tt],be.depth[ze]=(be.depth[We]>=be.depth[tt]?be.depth[We]:be.depth[tt])+1,dt[2*We+1]=dt[2*tt+1]=ze,be.heap[1]=ze++,Je(be,dt,1),2<=be.heap_len;);be.heap[--be.heap_max]=be.heap[1],function(Rt,sn){var Qt,Ot,xt,cn,Ut,nn,vn=sn.dyn_tree,yn=sn.max_code,Dn=sn.stat_desc.static_tree,Me=sn.stat_desc.has_stree,Le=sn.stat_desc.extra_bits,Be=sn.stat_desc.extra_base,Xe=sn.stat_desc.max_length,Ke=0;for(cn=0;cn<=R;cn++)Rt.bl_count[cn]=0;for(vn[2*Rt.heap[Rt.heap_max]+1]=0,Qt=Rt.heap_max+1;Qt<573;Qt++)Xe<(cn=vn[2*vn[2*(Ot=Rt.heap[Qt])+1]+1]+1)&&(cn=Xe,Ke++),vn[2*Ot+1]=cn,yn<Ot||(Rt.bl_count[cn]++,Ut=0,Be<=Ot&&(Ut=Le[Ot-Be]),Rt.opt_len+=(nn=vn[2*Ot])*(cn+Ut),Me&&(Rt.static_len+=nn*(Dn[2*Ot+1]+Ut)));if(0!==Ke){do{for(cn=Xe-1;0===Rt.bl_count[cn];)cn--;Rt.bl_count[cn]--,Rt.bl_count[cn+1]+=2,Rt.bl_count[Xe]--,Ke-=2}while(0<Ke);for(cn=Xe;0!==cn;cn--)for(Ot=Rt.bl_count[cn];0!==Ot;)yn<(xt=Rt.heap[--Qt])||(vn[2*xt+1]!==cn&&(Rt.opt_len+=(cn-vn[2*xt+1])*vn[2*xt],vn[2*xt+1]=cn),Ot--)}}(be,Pe),ke(dt,kt,be.bl_count)}function J(be,Pe,We){var tt,ze,dt=-1,Dt=Pe[1],Ye=0,nt=7,kt=4;for(0===Dt&&(nt=138,kt=3),Pe[2*(We+1)+1]=65535,tt=0;tt<=We;tt++)ze=Dt,Dt=Pe[2*(tt+1)+1],++Ye<nt&&ze===Dt||(Ye<kt?be.bl_tree[2*ze]+=Ye:0!==ze?(ze!==dt&&be.bl_tree[2*ze]++,be.bl_tree[32]++):Ye<=10?be.bl_tree[34]++:be.bl_tree[36]++,dt=ze,kt=(Ye=0)===Dt?(nt=138,3):ze===Dt?(nt=6,3):(nt=7,4))}function Ne(be,Pe,We){var tt,ze,dt=-1,Dt=Pe[1],Ye=0,nt=7,kt=4;for(0===Dt&&(nt=138,kt=3),tt=0;tt<=We;tt++)if(ze=Dt,Dt=Pe[2*(tt+1)+1],!(++Ye<nt&&ze===Dt)){if(Ye<kt)for(;B(be,ze,be.bl_tree),0!=--Ye;);else 0!==ze?(ze!==dt&&(B(be,ze,be.bl_tree),Ye--),B(be,16,be.bl_tree),Q(be,Ye-3,2)):Ye<=10?(B(be,17,be.bl_tree),Q(be,Ye-3,3)):(B(be,18,be.bl_tree),Q(be,Ye-11,7));dt=ze,kt=(Ye=0)===Dt?(nt=138,3):ze===Dt?(nt=6,3):(nt=7,4)}}$(W);var je=!1;function Te(be,Pe,We,tt){var ze,dt,Dt;Q(be,0+(tt?1:0),3),dt=Pe,Dt=We,rt(ze=be),Ee(ze,Dt),Ee(ze,~Dt),S.arraySet(ze.pending_buf,ze.window,dt,Dt,ze.pending),ze.pending+=Dt}m._tr_init=function(be){je||(function(){var Pe,We,tt,ze,dt,Dt=new Array(16);for(ze=tt=0;ze<28;ze++)for(he[ze]=tt,Pe=0;Pe<1<<fe[ze];Pe++)k[tt++]=ze;for(k[tt-1]=ze,ze=dt=0;ze<16;ze++)for(W[ze]=dt,Pe=0;Pe<1<<me[ze];Pe++)oe[dt++]=ze;for(dt>>=7;ze<D;ze++)for(W[ze]=dt<<7,Pe=0;Pe<1<<me[ze]-7;Pe++)oe[256+dt++]=ze;for(We=0;We<=R;We++)Dt[We]=0;for(Pe=0;Pe<=143;)xe[2*Pe+1]=8,Pe++,Dt[8]++;for(;Pe<=255;)xe[2*Pe+1]=9,Pe++,Dt[9]++;for(;Pe<=279;)xe[2*Pe+1]=7,Pe++,Dt[7]++;for(;Pe<=287;)xe[2*Pe+1]=8,Pe++,Dt[8]++;for(ke(xe,287,Dt),Pe=0;Pe<D;Pe++)ae[2*Pe+1]=5,ae[2*Pe]=we(Pe,5);Ce=new Re(xe,fe,257,H,R),ie=new Re(ae,me,0,D,R),ue=new Re(new Array(0),te,0,19,7)}(),je=!0),be.l_desc=new Ie(be.dyn_ltree,Ce),be.d_desc=new Ie(be.dyn_dtree,ie),be.bl_desc=new Ie(be.bl_tree,ue),be.bi_buf=0,be.bi_valid=0,Oe(be)},m._tr_stored_block=Te,m._tr_flush_block=function(be,Pe,We,tt){var ze,dt,Dt=0;0<be.level?(2===be.strm.data_type&&(be.strm.data_type=function(Ye){var nt,kt=4093624447;for(nt=0;nt<=31;nt++,kt>>>=1)if(1&kt&&0!==Ye.dyn_ltree[2*nt])return 0;if(0!==Ye.dyn_ltree[18]||0!==Ye.dyn_ltree[20]||0!==Ye.dyn_ltree[26])return 1;for(nt=32;nt<U;nt++)if(0!==Ye.dyn_ltree[2*nt])return 1;return 0}(be)),Ct(be,be.l_desc),Ct(be,be.d_desc),Dt=function(Ye){var nt;for(J(Ye,Ye.dyn_ltree,Ye.l_desc.max_code),J(Ye,Ye.dyn_dtree,Ye.d_desc.max_code),Ct(Ye,Ye.bl_desc),nt=18;3<=nt&&0===Ye.bl_tree[2*ye[nt]+1];nt--);return Ye.opt_len+=3*(nt+1)+5+5+4,nt}(be),(dt=be.static_len+3+7>>>3)<=(ze=be.opt_len+3+7>>>3)&&(ze=dt)):ze=dt=We+5,We+4<=ze&&-1!==Pe?Te(be,Pe,We,tt):4===be.strategy||dt===ze?(Q(be,2+(tt?1:0),3),Pt(be,xe,ae)):(Q(be,4+(tt?1:0),3),function(Ye,nt,kt,Rt){var sn;for(Q(Ye,nt-257,5),Q(Ye,kt-1,5),Q(Ye,Rt-4,4),sn=0;sn<Rt;sn++)Q(Ye,Ye.bl_tree[2*ye[sn]+1],3);Ne(Ye,Ye.dyn_ltree,nt-1),Ne(Ye,Ye.dyn_dtree,kt-1)}(be,be.l_desc.max_code+1,be.d_desc.max_code+1,Dt+1),Pt(be,be.dyn_ltree,be.dyn_dtree)),Oe(be),tt&&rt(be)},m._tr_tally=function(be,Pe,We){return be.pending_buf[be.d_buf+2*be.last_lit]=Pe>>>8&255,be.pending_buf[be.d_buf+2*be.last_lit+1]=255&Pe,be.pending_buf[be.l_buf+be.last_lit]=255&We,be.last_lit++,0===Pe?be.dyn_ltree[2*We]++:(be.matches++,Pe--,be.dyn_ltree[2*(k[We]+U+1)]++,be.dyn_dtree[2*se(Pe)]++),be.last_lit===be.lit_bufsize-1},m._tr_align=function(be){var Pe;Q(be,2,3),B(be,256,xe),16===(Pe=be).bi_valid?(Ee(Pe,Pe.bi_buf),Pe.bi_buf=0,Pe.bi_valid=0):8<=Pe.bi_valid&&(Pe.pending_buf[Pe.pending++]=255&Pe.bi_buf,Pe.bi_buf>>=8,Pe.bi_valid-=8)}},{"../utils/common":41}],53:[function(de,Y,m){"use strict";Y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(de,Y,m){"use strict";Y.exports="function"==typeof setImmediate?setImmediate:function(){var S=[].slice.apply(arguments);S.splice(1,0,0),setTimeout.apply(null,S)}},{}]},{},[10])(10)},8306:(vt,de,Y)=>{"use strict";Y.d(de,{y:()=>D});var m=Y(2961),S=Y(727),T=Y(8822),F=Y(4671);var P=Y(2416),U=Y(576),H=Y(2806);let D=(()=>{class x{constructor(q){q&&(this._subscribe=q)}lift(q){const G=new x;return G.source=this,G.operator=q,G}subscribe(q,G,re){const pe=function R(x){return x&&x instanceof m.Lv||function j(x){return x&&(0,U.m)(x.next)&&(0,U.m)(x.error)&&(0,U.m)(x.complete)}(x)&&(0,S.Nn)(x)}(q)?q:new m.Hp(q,G,re);return(0,H.x)(()=>{const{operator:fe,source:me}=this;pe.add(fe?fe.call(pe,me):me?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(q){try{return this._subscribe(q)}catch(G){q.error(G)}}forEach(q,G){return new(G=I(G))((re,pe)=>{const fe=new m.Hp({next:me=>{try{q(me)}catch(te){pe(te),fe.unsubscribe()}},error:pe,complete:re});this.subscribe(fe)})}_subscribe(q){var G;return null===(G=this.source)||void 0===G?void 0:G.subscribe(q)}[T.L](){return this}pipe(...q){return function Z(x){return 0===x.length?F.y:1===x.length?x[0]:function(q){return x.reduce((G,re)=>re(G),q)}}(q)(this)}toPromise(q){return new(q=I(q))((G,re)=>{let pe;this.subscribe(fe=>pe=fe,fe=>re(fe),()=>G(pe))})}}return x.create=V=>new x(V),x})();function I(x){var V;return null!==(V=null!=x?x:P.v.Promise)&&void 0!==V?V:Promise}},7579:(vt,de,Y)=>{"use strict";Y.d(de,{x:()=>P});var m=Y(8306),S=Y(727);const F=(0,Y(3888).d)(H=>function(){H(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=Y(8737),Z=Y(2806);let P=(()=>{class H extends m.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(I){const j=new U(this,this);return j.operator=I,j}_throwIfClosed(){if(this.closed)throw new F}next(I){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const j=this.observers.slice();for(const R of j)R.next(I)}})}error(I){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=I;const{observers:j}=this;for(;j.length;)j.shift().error(I)}})}complete(){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:I}=this;for(;I.length;)I.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var I;return(null===(I=this.observers)||void 0===I?void 0:I.length)>0}_trySubscribe(I){return this._throwIfClosed(),super._trySubscribe(I)}_subscribe(I){return this._throwIfClosed(),this._checkFinalizedStatuses(I),this._innerSubscribe(I)}_innerSubscribe(I){const{hasError:j,isStopped:R,observers:x}=this;return j||R?S.Lc:(x.push(I),new S.w0(()=>(0,$.P)(x,I)))}_checkFinalizedStatuses(I){const{hasError:j,thrownError:R,isStopped:x}=this;j?I.error(R):x&&I.complete()}asObservable(){const I=new m.y;return I.source=this,I}}return H.create=(D,I)=>new U(D,I),H})();class U extends P{constructor(D,I){super(),this.destination=D,this.source=I}next(D){var I,j;null===(j=null===(I=this.destination)||void 0===I?void 0:I.next)||void 0===j||j.call(I,D)}error(D){var I,j;null===(j=null===(I=this.destination)||void 0===I?void 0:I.error)||void 0===j||j.call(I,D)}complete(){var D,I;null===(I=null===(D=this.destination)||void 0===D?void 0:D.complete)||void 0===I||I.call(D)}_subscribe(D){var I,j;return null!==(j=null===(I=this.source)||void 0===I?void 0:I.subscribe(D))&&void 0!==j?j:S.Lc}}},2961:(vt,de,Y)=>{"use strict";Y.d(de,{Hp:()=>q,Lv:()=>j});var m=Y(576),S=Y(727),T=Y(2416),F=Y(7849);function $(){}const Z=H("C",void 0,void 0);function H(me,te,ye){return{kind:me,value:te,error:ye}}var D=Y(3410),I=Y(2806);class j extends S.w0{constructor(te){super(),this.isStopped=!1,te?(this.destination=te,(0,S.Nn)(te)&&te.add(this)):this.destination=fe}static create(te,ye,xe){return new q(te,ye,xe)}next(te){this.isStopped?pe(function U(me){return H("N",me,void 0)}(te),this):this._next(te)}error(te){this.isStopped?pe(function P(me){return H("E",void 0,me)}(te),this):(this.isStopped=!0,this._error(te))}complete(){this.isStopped?pe(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(te){this.destination.next(te)}_error(te){try{this.destination.error(te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const R=Function.prototype.bind;function x(me,te){return R.call(me,te)}class V{constructor(te){this.partialObserver=te}next(te){const{partialObserver:ye}=this;if(ye.next)try{ye.next(te)}catch(xe){G(xe)}}error(te){const{partialObserver:ye}=this;if(ye.error)try{ye.error(te)}catch(xe){G(xe)}else G(te)}complete(){const{partialObserver:te}=this;if(te.complete)try{te.complete()}catch(ye){G(ye)}}}class q extends j{constructor(te,ye,xe){let ae;if(super(),(0,m.m)(te)||!te)ae={next:null!=te?te:void 0,error:null!=ye?ye:void 0,complete:null!=xe?xe:void 0};else{let oe;this&&T.v.useDeprecatedNextContext?(oe=Object.create(te),oe.unsubscribe=()=>this.unsubscribe(),ae={next:te.next&&x(te.next,oe),error:te.error&&x(te.error,oe),complete:te.complete&&x(te.complete,oe)}):ae=te}this.destination=new V(ae)}}function G(me){T.v.useDeprecatedSynchronousErrorHandling?(0,I.O)(me):(0,F.h)(me)}function pe(me,te){const{onStoppedNotification:ye}=T.v;ye&&D.z.setTimeout(()=>ye(me,te))}const fe={closed:!0,next:$,error:function re(me){throw me},complete:$}},727:(vt,de,Y)=>{"use strict";Y.d(de,{Lc:()=>Z,w0:()=>$,Nn:()=>P});var m=Y(576);const T=(0,Y(3888).d)(H=>function(I){H(this),this.message=I?`${I.length} errors occurred during unsubscription:\n${I.map((j,R)=>`${R+1}) ${j.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=I});var F=Y(8737);class ${constructor(D){this.initialTeardown=D,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let D;if(!this.closed){this.closed=!0;const{_parentage:I}=this;if(I)if(this._parentage=null,Array.isArray(I))for(const x of I)x.remove(this);else I.remove(this);const{initialTeardown:j}=this;if((0,m.m)(j))try{j()}catch(x){D=x instanceof T?x.errors:[x]}const{_teardowns:R}=this;if(R){this._teardowns=null;for(const x of R)try{U(x)}catch(V){D=null!=D?D:[],V instanceof T?D=[...D,...V.errors]:D.push(V)}}if(D)throw new T(D)}}add(D){var I;if(D&&D!==this)if(this.closed)U(D);else{if(D instanceof $){if(D.closed||D._hasParent(this))return;D._addParent(this)}(this._teardowns=null!==(I=this._teardowns)&&void 0!==I?I:[]).push(D)}}_hasParent(D){const{_parentage:I}=this;return I===D||Array.isArray(I)&&I.includes(D)}_addParent(D){const{_parentage:I}=this;this._parentage=Array.isArray(I)?(I.push(D),I):I?[I,D]:D}_removeParent(D){const{_parentage:I}=this;I===D?this._parentage=null:Array.isArray(I)&&(0,F.P)(I,D)}remove(D){const{_teardowns:I}=this;I&&(0,F.P)(I,D),D instanceof $&&D._removeParent(this)}}$.EMPTY=(()=>{const H=new $;return H.closed=!0,H})();const Z=$.EMPTY;function P(H){return H instanceof $||H&&"closed"in H&&(0,m.m)(H.remove)&&(0,m.m)(H.add)&&(0,m.m)(H.unsubscribe)}function U(H){(0,m.m)(H)?H():H.unsubscribe()}},2416:(vt,de,Y)=>{"use strict";Y.d(de,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,de,Y)=>{"use strict";Y.d(de,{E:()=>S});const S=new(Y(8306).y)($=>$.complete())},8996:(vt,de,Y)=>{"use strict";Y.d(de,{D:()=>te});var m=Y(8421),S=Y(5363),T=Y(9468),Z=Y(8306),U=Y(2202),H=Y(576),D=Y(9672);function j(ye,xe){if(!ye)throw new Error("Iterable cannot be null");return new Z.y(ae=>{(0,D.f)(ae,xe,()=>{const oe=ye[Symbol.asyncIterator]();(0,D.f)(ae,xe,()=>{oe.next().then(k=>{k.done?ae.complete():ae.next(k.value)})},0,!0)})})}var R=Y(3670),x=Y(8239),V=Y(1144),q=Y(6495),G=Y(2206),re=Y(4532),pe=Y(3260);function te(ye,xe){return xe?function me(ye,xe){if(null!=ye){if((0,R.c)(ye))return function F(ye,xe){return(0,m.Xf)(ye).pipe((0,T.R)(xe),(0,S.Q)(xe))}(ye,xe);if((0,V.z)(ye))return function P(ye,xe){return new Z.y(ae=>{let oe=0;return xe.schedule(function(){oe===ye.length?ae.complete():(ae.next(ye[oe++]),ae.closed||this.schedule())})})}(ye,xe);if((0,x.t)(ye))return function $(ye,xe){return(0,m.Xf)(ye).pipe((0,T.R)(xe),(0,S.Q)(xe))}(ye,xe);if((0,G.D)(ye))return j(ye,xe);if((0,q.T)(ye))return function I(ye,xe){return new Z.y(ae=>{let oe;return(0,D.f)(ae,xe,()=>{oe=ye[U.h](),(0,D.f)(ae,xe,()=>{let k,he;try{({value:k,done:he}=oe.next())}catch(Ce){return void ae.error(Ce)}he?ae.complete():ae.next(k)},0,!0)}),()=>(0,H.m)(null==oe?void 0:oe.return)&&oe.return()})}(ye,xe);if((0,pe.L)(ye))return function fe(ye,xe){return j((0,pe.Q)(ye),xe)}(ye,xe)}throw(0,re.z)(ye)}(ye,xe):(0,m.Xf)(ye)}},8421:(vt,de,Y)=>{"use strict";Y.d(de,{Xf:()=>R});var m=Y(655),S=Y(1144),T=Y(8239),F=Y(8306),$=Y(3670),Z=Y(2206),P=Y(4532),U=Y(6495),H=Y(3260),D=Y(576),I=Y(7849),j=Y(8822);function R(me){if(me instanceof F.y)return me;if(null!=me){if((0,$.c)(me))return function x(me){return new F.y(te=>{const ye=me[j.L]();if((0,D.m)(ye.subscribe))return ye.subscribe(te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(me);if((0,S.z)(me))return function V(me){return new F.y(te=>{for(let ye=0;ye<me.length&&!te.closed;ye++)te.next(me[ye]);te.complete()})}(me);if((0,T.t)(me))return function q(me){return new F.y(te=>{me.then(ye=>{te.closed||(te.next(ye),te.complete())},ye=>te.error(ye)).then(null,I.h)})}(me);if((0,Z.D)(me))return re(me);if((0,U.T)(me))return function G(me){return new F.y(te=>{for(const ye of me)if(te.next(ye),te.closed)return;te.complete()})}(me);if((0,H.L)(me))return function pe(me){return re((0,H.Q)(me))}(me)}throw(0,P.z)(me)}function re(me){return new F.y(te=>{(function fe(me,te){var ye,xe,ae,oe;return(0,m.mG)(this,void 0,void 0,function*(){try{for(ye=(0,m.KL)(me);!(xe=yield ye.next()).done;)if(te.next(xe.value),te.closed)return}catch(k){ae={error:k}}finally{try{xe&&!xe.done&&(oe=ye.return)&&(yield oe.call(ye))}finally{if(ae)throw ae.error}}te.complete()})})(me,te).catch(ye=>te.error(ye))})}},6451:(vt,de,Y)=>{"use strict";Y.d(de,{T:()=>Z});var m=Y(8189),S=Y(8421),T=Y(515),F=Y(7669),$=Y(8996);function Z(...P){const U=(0,F.yG)(P),H=(0,F._6)(P,1/0),D=P;return D.length?1===D.length?(0,S.Xf)(D[0]):(0,m.J)(H)((0,$.D)(D,U)):T.E}},5403:(vt,de,Y)=>{"use strict";Y.d(de,{x:()=>S});var m=Y(2961);function S(F,$,Z,P,U){return new T(F,$,Z,P,U)}class T extends m.Lv{constructor($,Z,P,U,H,D){super($),this.onFinalize=H,this.shouldUnsubscribe=D,this._next=Z?function(I){try{Z(I)}catch(j){$.error(j)}}:super._next,this._error=U?function(I){try{U(I)}catch(j){$.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=P?function(){try{P()}catch(I){$.error(I)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===($=this.onFinalize)||void 0===$||$.call(this))}}}},4004:(vt,de,Y)=>{"use strict";Y.d(de,{U:()=>T});var m=Y(4482),S=Y(5403);function T(F,$){return(0,m.e)((Z,P)=>{let U=0;Z.subscribe((0,S.x)(P,H=>{P.next(F.call($,H,U++))}))})}},8189:(vt,de,Y)=>{"use strict";Y.d(de,{J:()=>T});var m=Y(5577),S=Y(4671);function T(F=1/0){return(0,m.z)(S.y,F)}},5577:(vt,de,Y)=>{"use strict";Y.d(de,{z:()=>U});var m=Y(4004),S=Y(8421),T=Y(4482),F=Y(9672),$=Y(5403),P=Y(576);function U(H,D,I=1/0){return(0,P.m)(D)?U((j,R)=>(0,m.U)((x,V)=>D(j,x,R,V))((0,S.Xf)(H(j,R))),I):("number"==typeof D&&(I=D),(0,T.e)((j,R)=>function Z(H,D,I,j,R,x,V,q){const G=[];let re=0,pe=0,fe=!1;const me=()=>{fe&&!G.length&&!re&&D.complete()},te=xe=>re<j?ye(xe):G.push(xe),ye=xe=>{x&&D.next(xe),re++;let ae=!1;(0,S.Xf)(I(xe,pe++)).subscribe((0,$.x)(D,oe=>{null==R||R(oe),x?te(oe):D.next(oe)},()=>{ae=!0},void 0,()=>{if(ae)try{for(re--;G.length&&re<j;){const oe=G.shift();V?(0,F.f)(D,V,()=>ye(oe)):ye(oe)}me()}catch(oe){D.error(oe)}}))};return H.subscribe((0,$.x)(D,te,()=>{fe=!0,me()})),()=>{null==q||q()}}(j,R,H,I)))}},5363:(vt,de,Y)=>{"use strict";Y.d(de,{Q:()=>F});var m=Y(9672),S=Y(4482),T=Y(5403);function F($,Z=0){return(0,S.e)((P,U)=>{P.subscribe((0,T.x)(U,H=>(0,m.f)(U,$,()=>U.next(H),Z),()=>(0,m.f)(U,$,()=>U.complete(),Z),H=>(0,m.f)(U,$,()=>U.error(H),Z)))})}},3099:(vt,de,Y)=>{"use strict";Y.d(de,{B:()=>Z});var m=Y(8996),S=Y(5698),T=Y(7579),F=Y(2961),$=Y(4482);function Z(U={}){const{connector:H=(()=>new T.x),resetOnError:D=!0,resetOnComplete:I=!0,resetOnRefCountZero:j=!0}=U;return R=>{let x=null,V=null,q=null,G=0,re=!1,pe=!1;const fe=()=>{null==V||V.unsubscribe(),V=null},me=()=>{fe(),x=q=null,re=pe=!1},te=()=>{const ye=x;me(),null==ye||ye.unsubscribe()};return(0,$.e)((ye,xe)=>{G++,!pe&&!re&&fe();const ae=q=null!=q?q:H();xe.add(()=>{G--,0===G&&!pe&&!re&&(V=P(te,j))}),ae.subscribe(xe),x||(x=new F.Hp({next:oe=>ae.next(oe),error:oe=>{pe=!0,fe(),V=P(me,D,oe),ae.error(oe)},complete:()=>{re=!0,fe(),V=P(me,I),ae.complete()}}),(0,m.D)(ye).subscribe(x))})(R)}}function P(U,H,...D){return!0===H?(U(),null):!1===H?null:H(...D).pipe((0,S.q)(1)).subscribe(()=>U())}},9468:(vt,de,Y)=>{"use strict";Y.d(de,{R:()=>S});var m=Y(4482);function S(T,F=0){return(0,m.e)(($,Z)=>{Z.add(T.schedule(()=>$.subscribe(Z),F))})}},5698:(vt,de,Y)=>{"use strict";Y.d(de,{q:()=>F});var m=Y(515),S=Y(4482),T=Y(5403);function F($){return $<=0?()=>m.E:(0,S.e)((Z,P)=>{let U=0;Z.subscribe((0,T.x)(P,H=>{++U<=$&&(P.next(H),$<=U&&P.complete())}))})}},8505:(vt,de,Y)=>{"use strict";Y.d(de,{b:()=>$});var m=Y(576),S=Y(4482),T=Y(5403),F=Y(4671);function $(Z,P,U){const H=(0,m.m)(Z)||P||U?{next:Z,error:P,complete:U}:Z;return H?(0,S.e)((D,I)=>{var j;null===(j=H.subscribe)||void 0===j||j.call(H);let R=!0;D.subscribe((0,T.x)(I,x=>{var V;null===(V=H.next)||void 0===V||V.call(H,x),I.next(x)},()=>{var x;R=!1,null===(x=H.complete)||void 0===x||x.call(H),I.complete()},x=>{var V;R=!1,null===(V=H.error)||void 0===V||V.call(H,x),I.error(x)},()=>{var x,V;R&&(null===(x=H.unsubscribe)||void 0===x||x.call(H)),null===(V=H.finalize)||void 0===V||V.call(H)}))}):F.y}},4408:(vt,de,Y)=>{"use strict";Y.d(de,{o:()=>$});var m=Y(727);class S extends m.w0{constructor(P,U){super()}schedule(P,U=0){return this}}const T={setInterval(...Z){const{delegate:P}=T;return((null==P?void 0:P.setInterval)||setInterval)(...Z)},clearInterval(Z){const{delegate:P}=T;return((null==P?void 0:P.clearInterval)||clearInterval)(Z)},delegate:void 0};var F=Y(8737);class $ extends S{constructor(P,U){super(P,U),this.scheduler=P,this.work=U,this.pending=!1}schedule(P,U=0){if(this.closed)return this;this.state=P;const H=this.id,D=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(D,H,U)),this.pending=!0,this.delay=U,this.id=this.id||this.requestAsyncId(D,this.id,U),this}requestAsyncId(P,U,H=0){return T.setInterval(P.flush.bind(P,this),H)}recycleAsyncId(P,U,H=0){if(null!=H&&this.delay===H&&!1===this.pending)return U;T.clearInterval(U)}execute(P,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const H=this._execute(P,U);if(H)return H;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(P,U){let D,H=!1;try{this.work(P)}catch(I){H=!0,D=I||new Error("Scheduled action threw falsy error")}if(H)return this.unsubscribe(),D}unsubscribe(){if(!this.closed){const{id:P,scheduler:U}=this,{actions:H}=U;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.P)(H,this),null!=P&&(this.id=this.recycleAsyncId(U,P,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,de,Y)=>{"use strict";Y.d(de,{v:()=>T});var m=Y(6063);class S{constructor($,Z=S.now){this.schedulerActionCtor=$,this.now=Z}schedule($,Z=0,P){return new this.schedulerActionCtor(this,$).schedule(P,Z)}}S.now=m.l.now;class T extends S{constructor($,Z=S.now){super($,Z),this.actions=[],this._active=!1,this._scheduled=void 0}flush($){const{actions:Z}=this;if(this._active)return void Z.push($);let P;this._active=!0;do{if(P=$.execute($.state,$.delay))break}while($=Z.shift());if(this._active=!1,P){for(;$=Z.shift();)$.unsubscribe();throw P}}}},4986:(vt,de,Y)=>{"use strict";Y.d(de,{z:()=>T});var m=Y(4408);const T=new(Y(7565).v)(m.o)},6063:(vt,de,Y)=>{"use strict";Y.d(de,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(vt,de,Y)=>{"use strict";Y.d(de,{z:()=>m});const m={setTimeout(...S){const{delegate:T}=m;return((null==T?void 0:T.setTimeout)||setTimeout)(...S)},clearTimeout(S){const{delegate:T}=m;return((null==T?void 0:T.clearTimeout)||clearTimeout)(S)},delegate:void 0}},2202:(vt,de,Y)=>{"use strict";Y.d(de,{h:()=>S});const S=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,de,Y)=>{"use strict";Y.d(de,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(vt,de,Y)=>{"use strict";Y.d(de,{_6:()=>Z,jO:()=>F,yG:()=>$});var m=Y(576);function T(P){return P[P.length-1]}function F(P){return(0,m.m)(T(P))?P.pop():void 0}function $(P){return function S(P){return P&&(0,m.m)(P.schedule)}(T(P))?P.pop():void 0}function Z(P,U){return"number"==typeof T(P)?P.pop():U}},8737:(vt,de,Y)=>{"use strict";function m(S,T){if(S){const F=S.indexOf(T);0<=F&&S.splice(F,1)}}Y.d(de,{P:()=>m})},3888:(vt,de,Y)=>{"use strict";function m(S){const F=S($=>{Error.call($),$.stack=(new Error).stack});return F.prototype=Object.create(Error.prototype),F.prototype.constructor=F,F}Y.d(de,{d:()=>m})},2806:(vt,de,Y)=>{"use strict";Y.d(de,{x:()=>T,O:()=>F});var m=Y(2416);let S=null;function T($){if(m.v.useDeprecatedSynchronousErrorHandling){const Z=!S;if(Z&&(S={errorThrown:!1,error:null}),$(),Z){const{errorThrown:P,error:U}=S;if(S=null,P)throw U}}else $()}function F($){m.v.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=$)}},9672:(vt,de,Y)=>{"use strict";function m(S,T,F,$=0,Z=!1){const P=T.schedule(function(){F(),Z?S.add(this.schedule(null,$)):this.unsubscribe()},$);if(S.add(P),!Z)return P}Y.d(de,{f:()=>m})},4671:(vt,de,Y)=>{"use strict";function m(S){return S}Y.d(de,{y:()=>m})},1144:(vt,de,Y)=>{"use strict";Y.d(de,{z:()=>m});const m=S=>S&&"number"==typeof S.length&&"function"!=typeof S},2206:(vt,de,Y)=>{"use strict";Y.d(de,{D:()=>S});var m=Y(576);function S(T){return Symbol.asyncIterator&&(0,m.m)(null==T?void 0:T[Symbol.asyncIterator])}},576:(vt,de,Y)=>{"use strict";function m(S){return"function"==typeof S}Y.d(de,{m:()=>m})},3670:(vt,de,Y)=>{"use strict";Y.d(de,{c:()=>T});var m=Y(8822),S=Y(576);function T(F){return(0,S.m)(F[m.L])}},6495:(vt,de,Y)=>{"use strict";Y.d(de,{T:()=>T});var m=Y(2202),S=Y(576);function T(F){return(0,S.m)(null==F?void 0:F[m.h])}},8239:(vt,de,Y)=>{"use strict";Y.d(de,{t:()=>S});var m=Y(576);function S(T){return(0,m.m)(null==T?void 0:T.then)}},3260:(vt,de,Y)=>{"use strict";Y.d(de,{Q:()=>T,L:()=>F});var m=Y(655),S=Y(576);function T($){return(0,m.FC)(this,arguments,function*(){const P=$.getReader();try{for(;;){const{value:U,done:H}=yield(0,m.qq)(P.read());if(H)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(U)}}finally{P.releaseLock()}})}function F($){return(0,S.m)(null==$?void 0:$.getReader)}},4482:(vt,de,Y)=>{"use strict";Y.d(de,{A:()=>S,e:()=>T});var m=Y(576);function S(F){return(0,m.m)(null==F?void 0:F.lift)}function T(F){return $=>{if(S($))return $.lift(function(Z){try{return F(Z,this)}catch(P){this.error(P)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(vt,de,Y)=>{"use strict";Y.d(de,{h:()=>T});var m=Y(2416),S=Y(3410);function T(F){S.z.setTimeout(()=>{const{onUnhandledError:$}=m.v;if(!$)throw F;$(F)})}},4532:(vt,de,Y)=>{"use strict";function m(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(de,{z:()=>m})},766:function(vt){var m;vt.exports=(m=function(){var de=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xa2":"cent","\xa3":"pound","\xa4":"currency","\xa5":"yen","\xa9":"(c)","\xaa":"a","\xae":"(r)","\xba":"o","\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"th","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010c":"C","\u010d":"c","\u010e":"D","\u010f":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011a":"E","\u011b":"e","\u011e":"G","\u011f":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012a":"i","\u012b":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014c":"O","\u014d":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015a":"S","\u015b":"s","\u015e":"S","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016a":"u","\u016b":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u018f":"E","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01c8":"LJ","\u01c9":"lj","\u01cb":"NJ","\u01cc":"nj","\u0218":"S","\u0219":"s","\u021a":"T","\u021b":"t","\u0259":"e","\u02da":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038a":"I","\u038c":"O","\u038e":"Y","\u038f":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u03aa":"I","\u03ab":"Y","\u03ac":"a","\u03ad":"e","\u03ae":"h","\u03af":"i","\u03b0":"y","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c2":"s","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ca":"i","\u03cb":"y","\u03cc":"o","\u03cd":"y","\u03ce":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040a":"NJ","\u040b":"C","\u040f":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045d":"u","\u045f":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04d8":"AE","\u04d9":"ae","\u04e8":"OE","\u04e9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E\'","\u0538":"Y\'","\u0539":"T\'","\u053a":"JH","\u053b":"I","\u053c":"L","\u053d":"X","\u053e":"C\'","\u053f":"K","\u0540":"H","\u0541":"D\'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054a":"P","\u054b":"J","\u054c":"R\'","\u054d":"S","\u054e":"V","\u054f":"T","\u0550":"R","\u0551":"C","\u0553":"P\'","\u0554":"Q\'","\u0555":"O\'\'","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062a":"t","\u062b":"th","\u062c":"j","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063a":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064a":"y","\u064b":"an","\u064c":"on","\u064d":"en","\u064e":"a","\u064f":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067e":"p","\u0686":"ch","\u0698":"zh","\u06a9":"k","\u06af":"g","\u06cc":"y","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u0e3f":"baht","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"f","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u1e62":"S","\u1e63":"s","\u1e80":"W","\u1e81":"w","\u1e82":"W","\u1e83":"w","\u1e84":"W","\u1e85":"w","\u1e9e":"SS","\u1ea0":"A","\u1ea1":"a","\u1ea2":"A","\u1ea3":"a","\u1ea4":"A","\u1ea5":"a","\u1ea6":"A","\u1ea7":"a","\u1ea8":"A","\u1ea9":"a","\u1eaa":"A","\u1eab":"a","\u1eac":"A","\u1ead":"a","\u1eae":"A","\u1eaf":"a","\u1eb0":"A","\u1eb1":"a","\u1eb2":"A","\u1eb3":"a","\u1eb4":"A","\u1eb5":"a","\u1eb6":"A","\u1eb7":"a","\u1eb8":"E","\u1eb9":"e","\u1eba":"E","\u1ebb":"e","\u1ebc":"E","\u1ebd":"e","\u1ebe":"E","\u1ebf":"e","\u1ec0":"E","\u1ec1":"e","\u1ec2":"E","\u1ec3":"e","\u1ec4":"E","\u1ec5":"e","\u1ec6":"E","\u1ec7":"e","\u1ec8":"I","\u1ec9":"i","\u1eca":"I","\u1ecb":"i","\u1ecc":"O","\u1ecd":"o","\u1ece":"O","\u1ecf":"o","\u1ed0":"O","\u1ed1":"o","\u1ed2":"O","\u1ed3":"o","\u1ed4":"O","\u1ed5":"o","\u1ed6":"O","\u1ed7":"o","\u1ed8":"O","\u1ed9":"o","\u1eda":"O","\u1edb":"o","\u1edc":"O","\u1edd":"o","\u1ede":"O","\u1edf":"o","\u1ee0":"O","\u1ee1":"o","\u1ee2":"O","\u1ee3":"o","\u1ee4":"U","\u1ee5":"u","\u1ee6":"U","\u1ee7":"u","\u1ee8":"U","\u1ee9":"u","\u1eea":"U","\u1eeb":"u","\u1eec":"U","\u1eed":"u","\u1eee":"U","\u1eef":"u","\u1ef0":"U","\u1ef1":"u","\u1ef2":"Y","\u1ef3":"y","\u1ef4":"Y","\u1ef5":"y","\u1ef6":"Y","\u1ef7":"y","\u1ef8":"Y","\u1ef9":"y","\u2013":"-","\u2018":"\'","\u2019":"\'","\u201c":"\\"","\u201d":"\\"","\u201e":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20a0":"ecu","\u20a2":"cruzeiro","\u20a3":"french franc","\u20a4":"lira","\u20a5":"mill","\u20a6":"naira","\u20a7":"peseta","\u20a8":"rupee","\u20a9":"won","\u20aa":"new shequel","\u20ab":"dong","\u20ac":"euro","\u20ad":"kip","\u20ae":"tugrik","\u20af":"drachma","\u20b0":"penny","\u20b1":"peso","\u20b2":"guarani","\u20b3":"austral","\u20b4":"hryvnia","\u20b5":"cedi","\u20b8":"kazakhstani tenge","\u20b9":"indian rupee","\u20ba":"turkish lira","\u20bd":"russian ruble","\u20bf":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221e":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\ufdfc":"rial","\ufef5":"laa","\ufef7":"laa","\ufef9":"lai","\ufefb":"la"}'),Y=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042a":"A","\u042c":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044a":"a","\u044c":"y"},"de":{"\xc4":"AE","\xe4":"ae","\xd6":"OE","\xf6":"oe","\xdc":"UE","\xfc":"ue","\xdf":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221e":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xa2":"centavos","\xa3":"libras","\xa4":"moneda","\u20a3":"francos","\u2211":"suma","\u221e":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xa2":"centime","\xa3":"livre","\xa4":"devise","\u20a3":"franc","\u2211":"somme","\u221e":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xa2":"centavo","\u2211":"soma","\xa3":"libra","\u221e":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xd8":"OE","\xf8":"oe","\xc5":"AA","\xe5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xf8rre end"},"nb":{"&":"og","\xc5":"AA","\xc6":"AE","\xd8":"OE","\xe5":"aa","\xe6":"ae","\xf8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xc5":"AA","\xc4":"AE","\xd6":"OE","\xe5":"aa","\xe4":"ae","\xf6":"oe"}}');function m(S,T){if("string"!=typeof S)throw new Error("slugify: string argument expected");var F=Y[(T="string"==typeof T?{replacement:T}:T||{}).locale]||{},$=void 0===T.replacement?"-":T.replacement,Z=void 0===T.trim||T.trim,P=S.normalize().split("").reduce(function(U,H){var D=F[H]||de[H]||H;return D===$&&(D=" "),U+D.replace(T.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return T.strict&&(P=P.replace(/[^A-Za-z0-9\s]/g,"")),Z&&(P=P.trim()),P=P.replace(/\s+/g,$),T.lower&&(P=P.toLowerCase()),P}return m.extend=function(S){Object.assign(de,S)},m})(),vt.exports.default=m()},655:(vt,de,Y)=>{"use strict";function F(k,he){var Ce={};for(var ie in k)Object.prototype.hasOwnProperty.call(k,ie)&&he.indexOf(ie)<0&&(Ce[ie]=k[ie]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ie=Object.getOwnPropertySymbols(k);ue<ie.length;ue++)he.indexOf(ie[ue])<0&&Object.prototype.propertyIsEnumerable.call(k,ie[ue])&&(Ce[ie[ue]]=k[ie[ue]])}return Ce}function U(k,he,Ce,ie){return new(Ce||(Ce=Promise))(function(W,Re){function Ie(Q){try{Ee(ie.next(Q))}catch(B){Re(B)}}function se(Q){try{Ee(ie.throw(Q))}catch(B){Re(B)}}function Ee(Q){Q.done?W(Q.value):function ue(W){return W instanceof Ce?W:new Ce(function(Re){Re(W)})}(Q.value).then(Ie,se)}Ee((ie=ie.apply(k,he||[])).next())})}function G(k){return this instanceof G?(this.v=k,this):new G(k)}function re(k,he,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ie=Ce.apply(k,he||[]),W=[];return ue={},Re("next"),Re("throw"),Re("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function Re(we){ie[we]&&(ue[we]=function(ke){return new Promise(function(Oe,rt){W.push([we,ke,Oe,rt])>1||Ie(we,ke)})})}function Ie(we,ke){try{!function se(we){we.value instanceof G?Promise.resolve(we.value.v).then(Ee,Q):B(W[0][2],we)}(ie[we](ke))}catch(Oe){B(W[0][3],Oe)}}function Ee(we){Ie("next",we)}function Q(we){Ie("throw",we)}function B(we,ke){we(ke),W.shift(),W.length&&Ie(W[0][0],W[0][1])}}function fe(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,he=k[Symbol.asyncIterator];return he?he.call(k):(k=function j(k){var he="function"==typeof Symbol&&Symbol.iterator,Ce=he&&k[he],ie=0;if(Ce)return Ce.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&ie>=k.length&&(k=void 0),{value:k&&k[ie++],done:!k}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(k),Ce={},ie("next"),ie("throw"),ie("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function ie(W){Ce[W]=k[W]&&function(Re){return new Promise(function(Ie,se){!function ue(W,Re,Ie,se){Promise.resolve(se).then(function(Ee){W({value:Ee,done:Ie})},Re)}(Ie,se,(Re=k[W](Re)).done,Re.value)})}}}Y.d(de,{_T:()=>F,mG:()=>U,qq:()=>G,FC:()=>re,KL:()=>fe})},5685:vt=>{"use strict";vt.exports='.CodeMirror-foldmarker {\n  color: blue;\n  text-shadow: #b9f 1px 1px 2px, #b9f -1px -1px 2px, #b9f 1px -1px 2px, #b9f -1px 1px 2px;\n  font-family: arial;\n  line-height: .3;\n  cursor: pointer;\n}\n.CodeMirror-foldgutter {\n  width: .7em;\n}\n.CodeMirror-foldgutter-open,\n.CodeMirror-foldgutter-folded {\n  cursor: pointer;\n}\n.CodeMirror-foldgutter-open:after {\n  content: "\\25BE";\n}\n.CodeMirror-foldgutter-folded:after {\n  content: "\\25B8";\n}\n'},4777:vt=>{"use strict";vt.exports="/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n\n.CodeMirror-linenumbers {}\n\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n\n/* Shown when moving in bi-directional text */\n\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n\n.cm-fat-cursor .CodeMirror-line::selection,\n.cm-fat-cursor .CodeMirror-line > span::selection, \n.cm-fat-cursor .CodeMirror-line > span > span::selection { background: transparent; }\n\n.cm-fat-cursor .CodeMirror-line::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span::-moz-selection,\n.cm-fat-cursor .CodeMirror-line > span > span::-moz-selection { background: transparent; }\n\n.cm-fat-cursor { caret-color: transparent; }\n\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n\n.cm-s-default .cm-quote {color: #090;}\n\n.cm-negative {color: #d44;}\n\n.cm-positive {color: #292;}\n\n.cm-header, .cm-strong {font-weight: bold;}\n\n.cm-em {font-style: italic;}\n\n.cm-link {text-decoration: underline;}\n\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n\n.cm-s-default .cm-atom {color: #219;}\n\n.cm-s-default .cm-number {color: #164;}\n\n.cm-s-default .cm-def {color: #00f;}\n\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n\n.cm-s-default .cm-variable-2 {color: #05a;}\n\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n\n.cm-s-default .cm-comment {color: #a50;}\n\n.cm-s-default .cm-string {color: #a11;}\n\n.cm-s-default .cm-string-2 {color: #f50;}\n\n.cm-s-default .cm-meta {color: #555;}\n\n.cm-s-default .cm-qualifier {color: #555;}\n\n.cm-s-default .cm-builtin {color: #30a;}\n\n.cm-s-default .cm-bracket {color: #997;}\n\n.cm-s-default .cm-tag {color: #170;}\n\n.cm-s-default .cm-attribute {color: #00c;}\n\n.cm-s-default .cm-hr {color: #999;}\n\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\n\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 50px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -50px; margin-right: -50px;\n  padding-bottom: 50px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n  z-index: 0;\n}\n\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 50px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n  outline: none;\n}\n\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -50px;\n}\n\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */ border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-feature-settings: \"calt\";\n  font-variant-ligatures: contextual;\n}\n\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\n\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n\n.CodeMirror-crosshair { cursor: crosshair; }\n\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\n\nspan.CodeMirror-selectedtext { background: none; }\n"},4810:vt=>{"use strict";vt.exports='@charset "UTF-8";\n.CodeMirror .hmd-fold-math, .CodeMirror pre.HyperMD-table-row .cm-hmd-table-sep {\n  display: inline-block;\n  vertical-align: middle;\n}\n.CodeMirror span.hmd-hidden-token.cm-formatting-em, .CodeMirror span.hmd-hidden-token.cm-formatting-strong, .CodeMirror span.hmd-hidden-token.cm-formatting-strikethrough, .CodeMirror span.hmd-hidden-token.cm-formatting-code, .CodeMirror span.hmd-hidden-token.cm-formatting-link {\n  display: inline;\n  font-size: 1px !important;\n  letter-spacing: -1ch;\n  font-family: monospace;\n  color: transparent;\n}\n.CodeMirror {\n  /* adding some CodeMirror-not-implemented styles\' default style */\n  /* tooltip for addon/hover */\n  /* gutter for addon/click */\n  /* addon/fold */\n  /* addon/table-align */\n  /* addon/fold-math */\n  /* addon/fold-emoji */\n}\n.CodeMirror .cm-inline-code,\n.CodeMirror .cm-math {\n  color: #900;\n}\n.CodeMirror div.HyperMD-hover > .HyperMD-hover-content {\n  background-color: #fff;\n  color: #000;\n  border: 1px solid #000;\n  padding: 0.5em;\n}\n.CodeMirror div.HyperMD-hover > .HyperMD-hover-content p {\n  margin: 0.2em 0;\n}\n.CodeMirror .HyperMD-goback {\n  width: 1px;\n}\n.CodeMirror div.HyperMD-goback-button {\n  background-color: #ddd;\n  color: #333;\n  text-align: center;\n  cursor: pointer;\n}\n.CodeMirror .hmd-link-icon:after {\n  content: "\u{1f517}\xbb";\n  color: #009;\n  text-shadow: 0 0 2px #69F;\n}\n.CodeMirror pre.HyperMD-table-row {\n  white-space: pre;\n}\n.CodeMirror pre.HyperMD-table-row .hmd-table-column,\n.CodeMirror pre.HyperMD-table-row .hmd-table-column-content {\n  display: inline-block;\n}\n.CodeMirror pre.HyperMD-table-row .hmd-table-column-left {\n  text-align: left;\n}\n.CodeMirror pre.HyperMD-table-row .hmd-table-column-center {\n  text-align: center;\n}\n.CodeMirror pre.HyperMD-table-row .hmd-table-column-right {\n  text-align: right;\n}\n.CodeMirror .hmd-fold-math.hmd-fold-math.math-2 {\n  width: 100%;\n}\n.CodeMirror img.hmd-emoji {\n  height: 1.2em;\n  vertical-align: middle;\n}'},3903:vt=>{"use strict";vt.exports='@font-face {\n  font-family: "HyperMD-Bullets";\n  src: url("data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAATYAAsAAAAABrQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAADLAAAAVkAAAFgkDDiyEZGVE0AAASsAAAAGwAAABx9TbkrR0RFRgAABIgAAAAiAAAAJgAnACpPUy8yAAABZAAAAEcAAABgVTNgQ2NtYXAAAALUAAAAQwAAAUoBRQLkaGVhZAAAAQgAAAAzAAAANgrgpUBoaGVhAAABPAAAAB4AAAAkBOsD+WhtdHgAAATIAAAAEAAAABALoAL5bWF4cAAAAVwAAAAGAAAABgAEUABuYW1lAAABrAAAASYAAAITC0mo3nBvc3QAAAMYAAAAEwAAACD/gwAzeJxjYGRgYABil5kPquP5bb4ycLMwgMCVWRq+ENpyHoMxAwNTNFMEkMvBwAQSBQAX2QkFAHicY2BkYGAyZtjFEMNsxQAETNEMjAyogAUAMnAB7AAAAABQAAAEAAB4nGNgYTZlnMDAysDANIvpDAMDQz+EZnzFYMTIARRlYOVkgAFGBiQQkOaawtDAoMWgy2z835ghhsn4vxuKGgUgZAQARsULIwB4nIWOMWvDMBSET4mT4g6lhC7dtBQSiI1kSgNZAw506FBIlk52YhyDsIPiDIGO/T39Lf01nXtyRJYOMcjv09O9ewfgDt8QOH+PePYsECL33MMNPj338YQfzwFCcet5gHvx4nnI/geVIgh5S7opxwIjvHnuca/x3McrvjwH1Px6HkCKB89DjMQSCzTY4wSLCiV2aCExxgYT1gQKGjNMyQYZlTmOwKLZn2xV7lo53kxkovRsKk3W5HxaoaZDxWNQYMtprOq2ak2xJb6zV9LBeVlei/JoMkJKZzfnqqWi6HbH3C4x5/nveu5rKiL+o0tSpE3dpo0tC5nESs7lZTtZq0hHLu61nGv2LA58d7kkvZ173FWXCevCHqqmlkrpWCklrxj+AequT5gAAHicY2BgYGaAYBkGRgYQcAHyGMF8FgYNIM0GpBkZmBi0GXT//wfytUD0/+v/r0HVAwEjGwOCQxAwMoHtG2YAAPijCSYAeJxjYGYAg/8NDMYMWAAAKBQBtgB4nEWOsUsCYRjG38+7y/O8zoxOIi8RXBLE0iWCtkYjLLBoNMsSJC2sKILIFuuDKIhKbBKDwDFovAgC5eb8AwqaCqql740TzBZ7nuU3Pb+HAM8DIUSKreZSufTSYgiIBQhE0AHoJqhZcJDDft7zbKm0ZM4zXW7JvEcC2+bsMKUdkK06xQ98FzQoOTSAHg3KTg1UjUR6gfsbHAAfBCYy2e311PJKzjuU8HvDI6HRgDcdzyxsdOz/N9qxgwwK8IT4ssflb6pjVCe6zuo6p7swiHfNYJfePFAxyurNqFXBBG6pGWYTYmvZZGFONO3nwtlUNX6/I86bnFAsXNILekurpcqN+DIuFK9PK7TdfHm3In7VhHQ1dZWkebp/tHcoKjiGYXxTJ0236Ywx54xhumrMxdRHU30QFPbaIJ/M4NgJ2lRmPJlGl/JT60O/SmWpITVkmRl2Zsjdv2uJiQgAAAB4nGNgZGBg4AFiMQY5BiYGRiBkBmIWoAgTEDNCMAAIgwBSAAB4nGNgYGBkAIIrkuH2YHqWhi+EtpwHADfuBa0AAgAAMwMzAOgDOgDiAzMA/A==") format("woff");\n  font-weight: normal;\n  font-style: normal;\n}\n.cm-s-hypermd-light {\n  font-family: -apple-system, BlinkMacSystemFont, "Open Sans", "Helvetica Neue", Helvetica, Arial, "Hiragino Sans GB", "WenQuanYi Micro Hei", "Noto Sans CJK SC", "Microsoft YaHei", STHeiti, "Microsoft Jhenghei", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  -webkit-font-smoothing: antialiased;\n  line-height: 1.5;\n  font-size: 12pt;\n  background: #FFF;\n  color: #000;\n}\n.cm-s-hypermd-light .hmd-fold-html-stub, .cm-s-hypermd-light .hmd-fold-code-stub, .cm-s-hypermd-light.CodeMirror div.HyperMD-hover > .HyperMD-hover-content code, .cm-s-hypermd-light pre.HyperMD-table-row span.cm-hmd-table-sep, .cm-s-hypermd-light span.cm-formatting-hashtag, .cm-s-hypermd-light span.cm-inline-code, .cm-s-hypermd-light pre.HyperMD-codeblock, .cm-s-hypermd-light span.cm-formatting-task, .cm-s-hypermd-light span.cm-hmd-indent-in-quote, .cm-s-hypermd-light pre.HyperMD-hr, .cm-s-hypermd-light span.cm-hmd-frontmatter, .cm-s-hypermd-light span.cm-hmd-orgmode-markup, .cm-s-hypermd-light span.cm-formatting-em, .cm-s-hypermd-light span.cm-formatting-strong, .cm-s-hypermd-light span.cm-formatting-strikethrough, .cm-s-hypermd-light span.cm-formatting-code, .cm-s-hypermd-light span.cm-formatting-link, .cm-s-hypermd-light span.cm-formatting-image, .cm-s-hypermd-light span.cm-url, .cm-s-hypermd-light span.cm-math, .cm-s-hypermd-light span.hmd-fold-math-placeholder, .cm-s-hypermd-light .CodeMirror-linewidget kbd,\n.cm-s-hypermd-light .hmd-fold-html kbd {\n  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;\n}\n.cm-s-hypermd-light .CodeMirror-linewidget table,\n.cm-s-hypermd-light .hmd-fold-html table {\n  border-collapse: collapse;\n}\n.cm-s-hypermd-light .CodeMirror-linewidget table td, .cm-s-hypermd-light .CodeMirror-linewidget table th,\n.cm-s-hypermd-light .hmd-fold-html table td,\n.cm-s-hypermd-light .hmd-fold-html table th {\n  padding: 10px;\n  border: 1px solid #ccc;\n}\n.cm-s-hypermd-light .CodeMirror-linewidget kbd,\n.cm-s-hypermd-light .hmd-fold-html kbd {\n  display: inline-block;\n  padding: 3px 5px;\n  font-size: 90%;\n  line-height: 1em;\n  background-color: #fafbfc;\n  border: solid 1px #c6cbd1;\n  border-bottom-color: #c6cbd1;\n  border-bottom-color: #959da5;\n  border-radius: 3px;\n  box-shadow: inset 0 -1px 0 #959da5;\n  vertical-align: baseline;\n}\n.cm-s-hypermd-light .CodeMirror-linewidget a > img,\n.cm-s-hypermd-light .hmd-fold-html a > img {\n  border: 0;\n}\n.cm-s-hypermd-light .cm-header, .cm-s-hypermd-light .cm-strong {\n  font-weight: 600;\n}\n.cm-s-hypermd-light span.cm-quote {\n  color: #666;\n}\n.cm-s-hypermd-light span.cm-meta {\n  color: #FF1717;\n}\n.cm-s-hypermd-light span.cm-keyword {\n  line-height: 1em;\n  font-weight: bold;\n  color: #7F0055;\n}\n.cm-s-hypermd-light span.cm-atom {\n  color: #219;\n}\n.cm-s-hypermd-light span.cm-number {\n  color: #164;\n}\n.cm-s-hypermd-light span.cm-def {\n  color: #00f;\n}\n.cm-s-hypermd-light span.cm-variable {\n  color: black;\n}\n.cm-s-hypermd-light span.cm-variable-2 {\n  color: #0000C0;\n}\n.cm-s-hypermd-light span.cm-variable-3 {\n  color: #0000C0;\n}\n.cm-s-hypermd-light span.cm-property {\n  color: black;\n}\n.cm-s-hypermd-light span.cm-operator {\n  color: black;\n}\n.cm-s-hypermd-light span.cm-comment {\n  color: #4F9F5F;\n}\n.cm-s-hypermd-light span.cm-string {\n  color: #2A00FF;\n}\n.cm-s-hypermd-light span.cm-string-2 {\n  color: #f50;\n}\n.cm-s-hypermd-light span.cm-qualifier {\n  color: #555;\n}\n.cm-s-hypermd-light span.cm-builtin {\n  color: #30a;\n}\n.cm-s-hypermd-light span.cm-bracket {\n  color: #cc7;\n}\n.cm-s-hypermd-light span.cm-tag {\n  color: #170;\n}\n.cm-s-hypermd-light span.cm-attribute {\n  color: #00c;\n}\n.cm-s-hypermd-light span.cm-url {\n  color: #4af;\n}\n.cm-s-hypermd-light span.cm-link {\n  color: #4078c0;\n  text-decoration: none;\n}\n.cm-s-hypermd-light span.cm-link:hover {\n  text-decoration: underline;\n}\n.cm-s-hypermd-light span.cm-error {\n  color: #f00;\n}\n.cm-s-hypermd-light span.cm-math, .cm-s-hypermd-light span.hmd-fold-math-placeholder {\n  font-style: italic;\n  background: rgba(255, 255, 238, 0.4);\n}\n.cm-s-hypermd-light span.cm-formatting-math {\n  color: #CAA;\n  font-weight: inherit;\n}\n.cm-s-hypermd-light .CodeMirror-activeline-background {\n  background: #e8f2ff;\n}\n.cm-s-hypermd-light .CodeMirror-matchingbracket {\n  outline: 1px solid grey;\n  color: black !important;\n}\n.cm-s-hypermd-light .CodeMirror-linenumber {\n  color: #ccc;\n}\n.cm-s-hypermd-light .CodeMirror-gutters {\n  border-right: 10px solid #FFF;\n  padding-right: 5px;\n}\n.cm-s-hypermd-light .CodeMirror-line {\n  padding: 0 5px;\n}\n.cm-s-hypermd-light .CodeMirror-code {\n  padding-right: 10px;\n}\n.cm-s-hypermd-light .CodeMirror-foldmarker {\n  display: inline-block;\n  vertical-align: middle;\n}\n.cm-s-hypermd-light span.cm-hmd-toc {\n  font-size: 24pt;\n  color: #999;\n}\n.cm-s-hypermd-light pre.HyperMD-header-line:after, .cm-s-hypermd-light pre.HyperMD-header.HyperMD-header-1:after, .cm-s-hypermd-light pre.HyperMD-header.HyperMD-header-2:after {\n  display: block;\n  content: " ";\n  margin-top: 2px;\n  height: 1px;\n  background: #eee;\n}\n.cm-s-hypermd-light pre.HyperMD-header {\n  line-height: 1.5 !important;\n  font-family: inherit !important;\n  padding-left: 5px !important;\n  margin-left: 0 !important;\n  border-left: 0 !important;\n  padding-bottom: 0.25em;\n}\n.cm-s-hypermd-light pre.HyperMD-header > span > span:first-child {\n  margin-left: 0 !important;\n}\n.cm-s-hypermd-light pre.HyperMD-header.HyperMD-header-1 {\n  font-weight: 600;\n  font-size: 24pt;\n}\n.cm-s-hypermd-light pre.HyperMD-header.HyperMD-header-2 {\n  font-weight: 600;\n  font-size: 18pt;\n}\n.cm-s-hypermd-light pre.HyperMD-header.HyperMD-header-3 {\n  font-size: 14.4pt;\n}\n.cm-s-hypermd-light pre.HyperMD-header-line {\n  color: rgba(0, 0, 0, 0.3);\n  line-height: 8px;\n}\n.cm-s-hypermd-light pre.HyperMD-hr {\n  background-color: #FFF;\n  background-color: rgba(255, 255, 255, 0.7);\n}\n.cm-s-hypermd-light div.HyperMD-hr-bg {\n  left: 0px;\n  right: 0px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAQAAAAziH6sAAAADklEQVR42mOc+Z9x5n8ACTkDM4ikM1IAAAAASUVORK5CYII=) repeat-x 0px center;\n}\n.cm-s-hypermd-light pre.HyperMD-quote:before {\n  content: " ";\n  position: absolute;\n  left: 2px;\n  top: 0;\n  height: 100%;\n  background: url("data:image/gif;base64,R0lGODlhIAABAIABAOjo6P///yH5BAEAAAEALAAAAAAgAAEAAAIHhI8Yy+1cAAA7") 0 0;\n  background-size: 20px 1px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-1 {\n  padding-left: 27px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-1:before {\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-1.HyperMD-footnote {\n  padding-left: 67px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-1 span.cm-formatting-quote {\n  transform: translateZ(0);\n  display: inline-block;\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-1 span.cm-formatting-quote:first-child {\n  margin-left: -20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-2 {\n  padding-left: 47px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-2:before {\n  width: 40px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-2.HyperMD-footnote {\n  padding-left: 87px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-2 span.cm-formatting-quote {\n  transform: translateZ(0);\n  display: inline-block;\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-2 span.cm-formatting-quote:first-child {\n  margin-left: -40px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-3 {\n  padding-left: 67px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-3:before {\n  width: 60px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-3.HyperMD-footnote {\n  padding-left: 107px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-3 span.cm-formatting-quote {\n  transform: translateZ(0);\n  display: inline-block;\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-3 span.cm-formatting-quote:first-child {\n  margin-left: -60px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-4 {\n  padding-left: 87px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-4:before {\n  width: 80px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-4.HyperMD-footnote {\n  padding-left: 127px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-4 span.cm-formatting-quote {\n  transform: translateZ(0);\n  display: inline-block;\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-4 span.cm-formatting-quote:first-child {\n  margin-left: -80px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-5 {\n  padding-left: 107px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-5:before {\n  width: 100px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-5.HyperMD-footnote {\n  padding-left: 147px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-5 span.cm-formatting-quote {\n  transform: translateZ(0);\n  display: inline-block;\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-5 span.cm-formatting-quote:first-child {\n  margin-left: -100px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-6 {\n  padding-left: 127px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-6:before {\n  width: 120px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-6.HyperMD-footnote {\n  padding-left: 167px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-6 span.cm-formatting-quote {\n  transform: translateZ(0);\n  display: inline-block;\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-6 span.cm-formatting-quote:first-child {\n  margin-left: -120px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-7 {\n  padding-left: 147px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-7:before {\n  width: 140px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-7.HyperMD-footnote {\n  padding-left: 187px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-7 span.cm-formatting-quote {\n  transform: translateZ(0);\n  display: inline-block;\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-7 span.cm-formatting-quote:first-child {\n  margin-left: -140px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-8 {\n  padding-left: 167px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-8:before {\n  width: 160px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-8.HyperMD-footnote {\n  padding-left: 207px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-8 span.cm-formatting-quote {\n  transform: translateZ(0);\n  display: inline-block;\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-8 span.cm-formatting-quote:first-child {\n  margin-left: -160px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-9 {\n  padding-left: 187px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-9:before {\n  width: 180px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-9.HyperMD-footnote {\n  padding-left: 227px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-9 span.cm-formatting-quote {\n  transform: translateZ(0);\n  display: inline-block;\n  width: 20px;\n}\n.cm-s-hypermd-light pre.HyperMD-quote-9 span.cm-formatting-quote:first-child {\n  margin-left: -180px;\n}\n.cm-s-hypermd-light span.cm-hmd-list-indent {\n  display: inline-block;\n  width: 30px;\n  text-align: right;\n  white-space: pre;\n  box-sizing: border-box;\n  border-right: 1px dashed #CCC;\n  overflow: hidden;\n  font-size: 0.5em;\n  line-height: 200%;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line {\n  padding-top: 0.3em;\n  min-height: 1.5em;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line span.cm-formatting-list,\n.cm-s-hypermd-light pre.HyperMD-list-line span.cm-hmd-list-indent {\n  text-align: right;\n  white-space: pre;\n  width: 30px;\n  float: left;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line span.cm-hmd-list-indent {\n  margin-left: -60px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line.HyperMD-list-line-nobullet {\n  padding-top: initial;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line.HyperMD-list-line-nobullet span.cm-hmd-list-indent {\n  margin-left: -30px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line-1 {\n  padding-left: 45px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line-2 {\n  padding-left: 75px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line-3 {\n  padding-left: 105px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line-4 {\n  padding-left: 135px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line-5 {\n  padding-left: 165px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line-6 {\n  padding-left: 195px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line-7 {\n  padding-left: 225px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line-8 {\n  padding-left: 255px;\n}\n.cm-s-hypermd-light pre.HyperMD-list-line-9 {\n  padding-left: 285px;\n}\n.cm-s-hypermd-light span.cm-formatting-list {\n  margin-left: -30px;\n  font-family: "HyperMD-Bullets";\n  color: #666;\n}\n.cm-s-hypermd-light span.cm-formatting-list.cm-list-2 {\n  text-shadow: 0 1px #666, 0 -1px #666, 1px 0 #666, -1px 0 #666;\n  color: #fff;\n}\n.cm-s-hypermd-light span.cm-formatting-task {\n  white-space: pre;\n  display: inline-block;\n  height: 1em;\n  line-height: 1em;\n  min-width: 1em;\n  text-align: center;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: center 0;\n  cursor: pointer;\n  color: rgba(0, 0, 0, 0.5);\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAwCAMAAAA8VkqRAAAAclBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACa4vOeAAAAJXRSTlMADcjpDswcLZOzsvOYBvWdbtvTX0D69+ORa1dRJCDtuaF7ZDkoQyuUXgAAAMhJREFUOMvt0reywjAUhOFjKxmcrgMZboL//V8Rm6GwkNUx0LClvhkVZ1fEZoqHqMwO7wuUSb0YxcJKxtLpxIt2SzJRykkQp5RgdAjaIKRJCEn6gWdA9OzRoqLVRscQnc9bdtXX/eyurOF7N3erLVDPwCGHxoVwamH1LwGUBfBbhrCvoLlMitL9DY8trLtJg7qoCj18VAN1OYE/YJBuDe1RJtBVo5wbqPb+GL5yWG1GLX0YZYw5iQ93yQ/yAHfZzu5qt/mxr97VFS15JGSVM0C6AAAAAElFTkSuQmCC");\n  background-size: 1em;\n}\n.cm-s-hypermd-light span.cm-formatting-task.cm-property {\n  background-position-y: -1em;\n}\n.cm-s-hypermd-light pre.HyperMD-footnote {\n  font-size: 10.2pt;\n  padding-left: 45px;\n}\n.cm-s-hypermd-light pre.HyperMD-footnote > span > span:first-child {\n  margin-left: -40px;\n}\n.cm-s-hypermd-light pre.HyperMD-footnote span.cm-hmd-footnote {\n  color: #666;\n  cursor: text;\n  text-decoration: none;\n}\n.cm-s-hypermd-light pre.HyperMD-codeblock {\n  line-height: 1.2;\n  color: #922;\n}\n.cm-s-hypermd-light pre.HyperMD-codeblock span.cm-inline-code {\n  display: inherit;\n  background-color: inherit;\n  border: inherit;\n  padding: inherit;\n  font-size: inherit;\n}\n.cm-s-hypermd-light div.HyperMD-codeblock-bg {\n  left: 0px;\n  right: 0px;\n  background-color: #FAFAFA;\n  border-left: 1px solid #CCC;\n  border-right: 1px solid #CCC;\n}\n.cm-s-hypermd-light div.HyperMD-codeblock-begin-bg {\n  border-top: 1px solid #CCC;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n.cm-s-hypermd-light div.HyperMD-codeblock-end-bg {\n  border-bottom: 1px solid #CCC;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.cm-s-hypermd-light div.HyperMD-codeblock-begin-bg,\n.cm-s-hypermd-light div.HyperMD-codeblock-end-bg {\n  background-color: #F3F3F3;\n}\n.cm-s-hypermd-light .cm-formatting-link + .cm-formatting-link-string,\n.cm-s-hypermd-light .cm-formatting-link + .cm-formatting-link-string + .cm-url,\n.cm-s-hypermd-light .cm-formatting-link + .cm-formatting-link-string + .cm-url + .cm-formatting-link-string,\n.cm-s-hypermd-light .cm-formatting-link + .cm-formatting-link-string + .cm-url + .cm-link,\n.cm-s-hypermd-light .cm-formatting-link + .cm-formatting-link-string + .cm-url + .cm-link + .cm-formatting-link-string {\n  display: inline-block;\n  font-size: 0.85em;\n  vertical-align: text-top;\n}\n.cm-s-hypermd-light.HyperMD-with-alt span.cm-url,\n.cm-s-hypermd-light.HyperMD-with-alt span.cm-link,\n.cm-s-hypermd-light.HyperMD-with-alt .cm-link + .CodeMirror-widget,\n.cm-s-hypermd-light.HyperMD-with-alt span.cm-hashtag, .cm-s-hypermd-light.HyperMD-with-ctrl span.cm-url,\n.cm-s-hypermd-light.HyperMD-with-ctrl span.cm-link,\n.cm-s-hypermd-light.HyperMD-with-ctrl .cm-link + .CodeMirror-widget,\n.cm-s-hypermd-light.HyperMD-with-ctrl span.cm-hashtag {\n  cursor: pointer;\n}\n.cm-s-hypermd-light span.hmd-link-icon {\n  background: url(\'hypermd-image-link.f53b1eaae3f9f8a3.png\') no-repeat center center;\n  width: 20px;\n  height: 16px;\n  display: inline-block;\n  vertical-align: middle;\n  opacity: 0.4;\n}\n.cm-s-hypermd-light span.hmd-link-icon:hover {\n  opacity: 1;\n}\n.cm-s-hypermd-light span.hmd-link-icon:after {\n  content: "";\n}\n.cm-s-hypermd-light img.hmd-image {\n  vertical-align: middle;\n  width: auto;\n  max-width: 100%;\n  height: auto;\n}\n.cm-s-hypermd-light img.hmd-image.hmd-image-loading, .cm-s-hypermd-light img.hmd-image.hmd-image-error {\n  min-width: 24px;\n  min-height: 24px;\n  background: #eeeeee url(\'hypermd-image-spin.c471bf552b61596e.gif\') no-repeat center center;\n}\n.cm-s-hypermd-light img.hmd-image.hmd-image-error {\n  background-image: url(\'hypermd-image-error.d381c62424a86a4a.png\');\n}\n.cm-s-hypermd-light span.cm-math-2 {\n  font-size: 13.2pt;\n}\n.cm-s-hypermd-light span.cm-hmd-escape-backslash {\n  color: #CAA;\n}\n.cm-s-hypermd-light span.cm-hmd-escape-char {\n  color: #666;\n}\n.cm-s-hypermd-light span.cm-hmd-footref {\n  display: inline-block;\n  font-size: 0.7em;\n  vertical-align: text-top;\n  background-color: rgba(238, 238, 238, 0.7);\n  color: #999;\n  margin-top: -0.2em;\n}\n.cm-s-hypermd-light span.cm-inline-code {\n  color: #922;\n  font-size: 90%;\n}\n.cm-s-hypermd-light span.cm-inline-code:not(.cm-formatting):not(.cm-hmd-indented-code) {\n  background-color: rgba(238, 238, 238, 0.5);\n  border-radius: 4px;\n  vertical-align: baseline;\n  border: #ccc solid 1px;\n  padding: 1px 0.4em;\n}\n.cm-s-hypermd-light span.cm-inline-code.hmd-hidden-token {\n  font-size: 0;\n}\n.cm-s-hypermd-light span.cm-hashtag {\n  background-color: #999;\n  background-color: rgba(0, 0, 0, 0.3);\n  color: #FFF;\n  font-size: 0.84em;\n  display: inline-block;\n  vertical-align: middle;\n  padding-top: 0.1em;\n  padding-bottom: 0.1em;\n}\n.cm-s-hypermd-light span.cm-hashtag.cm-hashtag-begin {\n  padding-left: 6px;\n  border-radius: 8px 0 0 8px;\n}\n.cm-s-hypermd-light span.cm-hashtag.cm-hashtag-end {\n  padding-right: 6px;\n  border-radius: 0 8px 8px 0;\n}\n.cm-s-hypermd-light span.cm-hashtag.cm-hmd-escape-backslash {\n  color: #FCC;\n}\n.cm-s-hypermd-light span.cm-formatting-hashtag {\n  color: #EEE;\n}\n.cm-s-hypermd-light .hmd-file-uploading {\n  outline: 2px dashed #CCC;\n  outline-offset: -2px;\n  animation: hmd-file-uploading-ani 1.5s linear infinite;\n}\n@keyframes hmd-file-uploading-ani {\n  0%, 100% {\n    opacity: 0.4;\n  }\n  50% {\n    opacity: 0.7;\n  }\n}\n.cm-s-hypermd-light .hmd-file-uploaded {\n  outline: 2px solid #6C3;\n  outline-offset: -2px;\n}\n.cm-s-hypermd-light .HyperMD-goback {\n  width: 1px;\n}\n.cm-s-hypermd-light div.HyperMD-goback-button {\n  padding-right: 15px;\n  border-radius: 0 10px 10px 0;\n  display: inline-block;\n  text-align: center;\n  background-color: #8daed9;\n  color: #f7f7f7;\n  cursor: pointer;\n}\n.cm-s-hypermd-light div.HyperMD-goback-button:hover {\n  color: transparent;\n  text-align: left;\n}\n.cm-s-hypermd-light div.HyperMD-goback-button:hover:before {\n  position: absolute;\n  padding-left: 5px;\n  content: "Back";\n  color: #f7f7f7;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row > span {\n  display: inline-block;\n  border-top: 1px solid #999;\n  margin-right: 50px;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-0 > span, .cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-1 > span, .cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-2 > span {\n  border-top: 0;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row span.cm-hmd-table-sep {\n  width: 15px;\n  text-align: center;\n  box-sizing: content-box;\n  font-weight: normal;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row span.cm-hmd-table-sep.cm-hmd-table-sep-dummy {\n  width: 1em;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row span.cm-hmd-table-sep:before {\n  content: "|";\n  color: transparent;\n  top: 0;\n  height: 100%;\n  position: absolute;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mOc+R8AAjcBmvywMWoAAAAASUVORK5CYII=) repeat-y center 0px;\n  pointer-events: none;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-0 {\n  font-weight: 600;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-0 span.cm-strong {\n  font-weight: 800;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row .hmd-table-column-content {\n  padding: 4px 1px;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-1 {\n  line-height: 8px;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-1 > span {\n  border-bottom: 0;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-1 .hmd-table-column-content {\n  padding: 1px;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-0 > span {\n  border-bottom: 0;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-0 span.hmd-table-column-content {\n  padding-bottom: 1px;\n}\n.cm-s-hypermd-light pre.HyperMD-table-row.HyperMD-table-row-2 span.hmd-table-column-content {\n  padding-top: 1px;\n}\n.cm-s-hypermd-light.CodeMirror div.HyperMD-hover > .HyperMD-hover-content {\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.7);\n  border: 0;\n  color: #fff;\n  border-radius: 5px;\n  padding: 5px 10px;\n  font-size: 95%;\n  min-width: 200px;\n}\n.cm-s-hypermd-light.CodeMirror div.HyperMD-hover > .HyperMD-hover-content a {\n  color: inherit;\n}\n.cm-s-hypermd-light.CodeMirror div.HyperMD-hover > .HyperMD-hover-content p {\n  margin: 0.2em 0;\n}\n.cm-s-hypermd-light.CodeMirror div.HyperMD-hover > .HyperMD-hover-content code {\n  display: inline-block;\n  font-size: 0.87em;\n  border: 1px solid #999;\n  border-radius: 2px;\n  padding: 0px 4px;\n}\n.cm-s-hypermd-light.CodeMirror div.HyperMD-hover > .HyperMD-hover-indicator {\n  content: " ";\n  display: block;\n  width: 0px;\n  margin-bottom: -5px;\n  border: 5px solid transparent;\n  border-top-color: #000;\n  border-top-color: rgba(0, 0, 0, 0.7);\n}\n.cm-s-hypermd-light .hmd-fold-html-stub, .cm-s-hypermd-light .hmd-fold-code-stub {\n  display: inline-block;\n  font-size: 67%;\n  color: #999;\n  vertical-align: middle;\n  border: 1px solid #999;\n  padding: 0 0.2em;\n  border-radius: 5px;\n  margin: 0 0.5em;\n  background: #FAFAFA;\n  cursor: pointer;\n}\n.cm-s-hypermd-light .hmd-fold-html-stub.omittable, .cm-s-hypermd-light .omittable.hmd-fold-code-stub {\n  display: none;\n}\n.cm-s-hypermd-light .hmd-fold-html-stub:hover, .cm-s-hypermd-light .hmd-fold-code-stub:hover, .cm-s-hypermd-light .hmd-fold-html-stub.highlight, .cm-s-hypermd-light .highlight.hmd-fold-code-stub {\n  color: #FFF;\n  border-color: #C30;\n  background: #F40;\n}\n.cm-s-hypermd-light .hmd-fold-html {\n  position: relative;\n  border: 1px solid #FFF;\n}\n.cm-s-hypermd-light .hmd-fold-html:hover {\n  border: 1px dashed #999;\n}\n.cm-s-hypermd-light .hmd-fold-html:hover .hmd-fold-html-stub.omittable, .cm-s-hypermd-light .hmd-fold-html:hover .omittable.hmd-fold-code-stub {\n  display: block;\n  right: 0;\n  bottom: 100%;\n  margin: 0;\n  position: absolute;\n  z-index: 100;\n}\n.cm-s-hypermd-light .hmd-fold-code-image {\n  text-align: center;\n}\n.cm-s-hypermd-light pre.HyperMD-header,\n.cm-s-hypermd-light pre.HyperMD-footnote,\n.cm-s-hypermd-light pre.HyperMD-codeblock,\n.cm-s-hypermd-light pre.HyperMD-hr {\n  clear: left;\n}\n.cm-s-hypermd-light span.hmd-hidden-token.cm-formatting-task {\n  color: transparent !important;\n}\n.cm-s-hypermd-light pre.hmd-inactive-line.HyperMD-table-row-1 {\n  color: transparent;\n  text-shadow: none;\n}\n.cm-s-hypermd-light pre.hmd-inactive-line.HyperMD-hr {\n  color: transparent;\n  background-color: transparent;\n}\n.cm-s-hypermd-light pre.hmd-inactive-line.HyperMD-table-row-1 > span {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAQAAAAziH6sAAAADklEQVR42mOc+Z9x5n8ACTkDM4ikM1IAAAAASUVORK5CYII=) repeat-x 0px center;\n}\n.cm-s-hypermd-light pre.hmd-inactive-line.HyperMD-table-row span.cm-hmd-table-sep {\n  color: transparent;\n}\n.cm-s-hypermd-light pre.hmd-inactive-line.HyperMD-table-row span.cm-hmd-table-sep.cm-hmd-table-sep-dummy:before {\n  display: none;\n}\n.cm-s-hypermd-light pre.hmd-inactive-line span.cm-formatting-quote {\n  color: transparent;\n}\n.cm-s-hypermd-light pre.hmd-inactive-line span.cm-hmd-escape-backslash,\n.cm-s-hypermd-light pre.hmd-inactive-line span.cm-formatting-header {\n  font-size: 0 !important;\n  display: inline;\n}\n.cm-s-hypermd-light pre.hmd-inactive-line span.cm-hmd-list-indent {\n  border-right: 0;\n}'},5e3:(vt,de,Y)=>{"use strict";Y.d(de,{deG:()=>ad,tb:()=>t0,AFp:()=>fE,ip1:()=>Av,CZH:()=>rp,hGG:()=>Hh,z2F:()=>jc,sBO:()=>Gd,Sil:()=>r0,_Vd:()=>nu,EJc:()=>pE,SBq:()=>Rn,qLn:()=>vr,vpe:()=>hs,tBr:()=>vi,XFs:()=>We,OlP:()=>or,zs3:()=>wl,ZZ4:()=>Bv,aQg:()=>up,soG:()=>Iv,YKP:()=>Rh,h0i:()=>Oh,PXZ:()=>gs,R0b:()=>Ua,FiY:()=>oi,Lbi:()=>e0,g9A:()=>X_,Qsj:()=>VD,FYo:()=>kh,JOm:()=>C,tp0:()=>Dr,Rgc:()=>jd,dDg:()=>jo,q4F:()=>Ld,GfV:()=>Zr,s_b:()=>Uc,ifc:()=>Qt,eFA:()=>o0,G48:()=>ms,Gpc:()=>I,f3M:()=>gn,X6Q:()=>bE,_c5:()=>Vh,VLi:()=>Lh,c2e:()=>n0,zSh:()=>Up,wAp:()=>rn,vHH:()=>V,cg1:()=>ev,kL8:()=>g_,dqk:()=>nn,sIi:()=>_f,CqO:()=>Gb,QGY:()=>wh,F4k:()=>zb,dwT:()=>Rd,RDi:()=>rc,AaK:()=>U,qOj:()=>wb,TTD:()=>_o,_Bn:()=>x_,xp6:()=>ry,uIk:()=>Ny,ekj:()=>Rf,Suo:()=>j_,Xpm:()=>zn,lG2:()=>au,Yz7:()=>Oe,cJS:()=>ot,oAB:()=>Ci,Yjl:()=>ma,Y36:()=>kf,_UZ:()=>$p,BQk:()=>Wi,ynx:()=>Fm,qZA:()=>Lm,TgZ:()=>Pm,EpF:()=>jb,n5z:()=>zl,LFG:()=>Et,$8M:()=>Da,$Z:()=>jp,NdJ:()=>Of,CRH:()=>Xf,oxw:()=>Wy,ALo:()=>P_,lcZ:()=>$w,xi3:()=>Ww,Q6J:()=>zp,iGM:()=>Ph,MAs:()=>kb,CHM:()=>Ao,LSH:()=>Cd,kYT:()=>ga,YNc:()=>Oc,_uU:()=>Km,Oqu:()=>Pf,hij:()=>Od,Gf:()=>H_});var m=Y(7579),S=Y(727),T=Y(8306),F=Y(6451),$=Y(3099);function Z(o){for(let a in o)if(o[a]===Z)return a;throw Error("Could not find renamed property on target object.")}function P(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function U(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(U).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function H(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const D=Z({__forward_ref__:Z});function I(o){return o.__forward_ref__=I,o.toString=function(){return U(this())},o}function j(o){return R(o)?o():o}function R(o){return"function"==typeof o&&o.hasOwnProperty(D)&&o.__forward_ref__===I}class V extends Error{constructor(a,u){super(function q(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,u)),this.code=a}}function G(o){return"string"==typeof o?o:null==o?"":String(o)}function re(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():G(o)}function te(o,a){const u=a?` in ${a}`:"";throw new V(-201,`No provider for ${re(o)} found${u}`)}function Ee(o,a){null==o&&function Q(o,a,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function Oe(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function ot(o){return{providers:o.providers||[],imports:o.imports||[]}}function Je(o){return Pt(o,je)||Pt(o,be)}function Pt(o,a){return o.hasOwnProperty(a)?o[a]:null}function Ne(o){return o&&(o.hasOwnProperty(Te)||o.hasOwnProperty(Pe))?o[Te]:null}const je=Z({\u0275prov:Z}),Te=Z({\u0275inj:Z}),be=Z({ngInjectableDef:Z}),Pe=Z({ngInjectorDef:Z});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let tt;function dt(o){const a=tt;return tt=o,a}function Dt(o,a,u){const h=Je(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&We.Optional?null:void 0!==a?a:void te(U(o),"Injector")}function nt(o){return{toString:o}.toString()}var kt=(()=>((kt=kt||{})[kt.OnPush=0]="OnPush",kt[kt.Default=1]="Default",kt))(),Qt=(()=>{return(o=Qt||(Qt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Qt;var o})();const Ot="undefined"!=typeof globalThis&&globalThis,xt="undefined"!=typeof window&&window,cn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,nn=Ot||"undefined"!=typeof global&&global||xt||cn,Dn={},Me=[],Le=Z({\u0275cmp:Z}),Be=Z({\u0275dir:Z}),Xe=Z({\u0275pipe:Z}),Ke=Z({\u0275mod:Z}),Ft=Z({\u0275fac:Z}),Kt=Z({__NG_ELEMENT_ID__:Z});let Nn=0;function zn(o){return nt(()=>{const u={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Me,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Qt.Emulated,id:"c",styles:o.styles||Me,_:null,setInput:null,schemas:o.schemas||null,tView:null},g=o.directives,y=o.features,E=o.pipes;return h.id+=Nn++,h.inputs=Sl(o.inputs,u),h.outputs=Sl(o.outputs),y&&y.forEach(A=>A(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(ui):null,h.pipeDefs=E?()=>("function"==typeof E?E():E).map(pn):null,h})}function ui(o){return Mr(o)||function ei(o){return o[Be]||null}(o)}function pn(o){return function Di(o){return o[Xe]||null}(o)}const pr={};function Ci(o){return nt(()=>{const a={type:o.type,bootstrap:o.bootstrap||Me,declarations:o.declarations||Me,imports:o.imports||Me,exports:o.exports||Me,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(pr[o.id]=o.type),a})}function ga(o,a){return nt(()=>{const u=Or(o,!0);u.declarations=a.declarations||Me,u.imports=a.imports||Me,u.exports=a.exports||Me})}function Sl(o,a){if(null==o)return Dn;const u={};for(const h in o)if(o.hasOwnProperty(h)){let g=o[h],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),u[g]=h,a&&(a[g]=y)}return u}const au=zn;function ma(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Mr(o){return o[Le]||null}function Or(o,a){const u=o[Ke]||null;if(!u&&!0===a)throw new Error(`Type ${U(o)} does not have '\u0275mod' property.`);return u}function Xi(o){return Array.isArray(o)&&"object"==typeof o[1]}function ri(o){return Array.isArray(o)&&!0===o[1]}function lu(o){return 0!=(8&o.flags)}function kl(o){return 2==(2&o.flags)}function Us(o){return 1==(1&o.flags)}function Bi(o){return null!==o.template}function $c(o){return 0!=(512&o[2])}function Ui(o,a){return o.hasOwnProperty(Ft)?o[Ft]:null}class Zo{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function _o(){return Ka}function Ka(o){return o.type.prototype.ngOnChanges&&(o.setInput=js),nc}function nc(){const o=Yc(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===Dn)o.previous=a;else for(let h in a)u[h]=a[h];o.current=null,this.ngOnChanges(a)}}function js(o,a,u,h){const g=Yc(o)||function bs(o,a){return o[_a]=a}(o,{previous:Dn,current:null}),y=g.current||(g.current={}),E=g.previous,A=this.declaredInputs[u],N=E[A];y[A]=new Zo(N&&N.currentValue,a,E===Dn),o[h]=a}_o.ngInherit=!0;const _a="__ngSimpleChanges__";function Yc(o){return o[_a]||null}let fu;function rc(o){fu=o}function Hn(o){return!!o.listen}const Rl={createRenderer:(o,a)=>function Eo(){return void 0!==fu?fu:"undefined"!=typeof document?document:void 0}()};function Bn(o){for(;Array.isArray(o);)o=o[0];return o}function ba(o,a){return Bn(a[o])}function Nr(o,a){return Bn(a[o.index])}function Gn(o,a){return o.data[a]}function Co(o,a){return o[a]}function Hr(o,a){const u=a[o];return Xi(u)?u:u[0]}function Ya(o){return 4==(4&o[2])}function Ii(o){return 128==(128&o[2])}function Hi(o,a){return null==a?null:o[a]}function Do(o){o[18]=0}function es(o,a){o[5]+=a;let u=o,h=o[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const Yt={lFrame:Ws(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ic(){return Yt.bindingsEnabled}function ft(){return Yt.lFrame.lView}function mn(){return Yt.lFrame.tView}function Ao(o){return Yt.lFrame.contextLView=o,o[8]}function Pn(){let o=zs();for(;null!==o&&64===o.type;)o=o.parent;return o}function zs(){return Yt.lFrame.currentTNode}function di(o,a){const u=Yt.lFrame;u.currentTNode=o,u.isParent=a}function ws(){return Yt.lFrame.isParent}function Io(){Yt.lFrame.isParent=!1}function Xa(){return Yt.isInCheckNoChangesMode}function el(o){Yt.isInCheckNoChangesMode=o}function br(){const o=Yt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function wr(){return Yt.lFrame.bindingIndex++}function Ll(o,a){const u=Yt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Jo(a)}function Jo(o){Yt.lFrame.currentDirectiveIndex=o}function To(){return Yt.lFrame.currentQueryIndex}function _u(o){Yt.lFrame.currentQueryIndex=o}function eh(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function nl(o,a,u){if(u&We.SkipSelf){let g=a,y=o;for(;!(g=g.parent,null!==g||u&We.Host||(g=eh(y),null===g||(y=y[15],10&g.type))););if(null===g)return!1;a=g,o=y}const h=Yt.lFrame=bu();return h.currentTNode=a,h.lView=o,!0}function $s(o){const a=bu(),u=o[1];Yt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function bu(){const o=Yt.lFrame,a=null===o?null:o.child;return null===a?Ws(o):a}function Ws(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function ts(){const o=Yt.lFrame;return Yt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const td=ts;function Xo(){const o=ts();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Pr(){return Yt.lFrame.selectedIndex}function Es(o){Yt.lFrame.selectedIndex=o}function cr(){const o=Yt.lFrame;return Gn(o.tView,o.selectedIndex)}function Cs(o,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const y=o.data[u].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:A,ngAfterViewInit:N,ngAfterViewChecked:ne,ngOnDestroy:le}=y;E&&(o.contentHooks||(o.contentHooks=[])).push(-u,E),A&&((o.contentHooks||(o.contentHooks=[])).push(u,A),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,A)),N&&(o.viewHooks||(o.viewHooks=[])).push(-u,N),ne&&((o.viewHooks||(o.viewHooks=[])).push(u,ne),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,ne)),null!=le&&(o.destroyHooks||(o.destroyHooks=[])).push(u,le)}}function rl(o,a,u){Xn(o,a,3,u)}function Bl(o,a,u,h){(3&o[2])===u&&Xn(o,a,u,h)}function qs(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Xn(o,a,u,h){const y=null!=h?h:-1,E=a.length-1;let A=0;for(let N=void 0!==h?65535&o[18]:0;N<E;N++)if("number"==typeof a[N+1]){if(A=a[N],null!=h&&A>=h)break}else a[N]<0&&(o[18]+=65536),(A<y||-1==y)&&(hi(o,u,a,N),o[18]=(4294901760&o[18])+N+2),N++}function hi(o,a,u,h){const g=u[h]<0,y=u[h+1],A=o[g?-u[h]:u[h]];if(g){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{y.call(A)}finally{}}}else try{y.call(A)}finally{}}class zi{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function zr(o,a,u){const h=Hn(o);let g=0;for(;g<u.length;){const y=u[g];if("number"==typeof y){if(0!==y)break;g++;const E=u[g++],A=u[g++],N=u[g++];h?o.setAttribute(a,A,N,E):a.setAttributeNS(E,A,N)}else{const E=y,A=u[++g];Vl(E)?h&&o.setProperty(a,E,A):h?o.setAttribute(a,E,A):a.setAttribute(E,A),g++}}return g}function Ks(o){return 3===o||4===o||6===o}function Vl(o){return 64===o.charCodeAt(0)}function sl(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const g=a[h];"number"==typeof g?u=g:0===u||Gi(o,u,g,null,-1===u||2===u?a[++h]:null)}}return o}function Gi(o,a,u,h,g){let y=0,E=o.length;if(-1===a)E=-1;else for(;y<o.length;){const A=o[y++];if("number"==typeof A){if(A===a){E=-1;break}if(A>a){E=y-1;break}}}for(;y<o.length;){const A=o[y];if("number"==typeof A)break;if(A===u){if(null===h)return void(null!==g&&(o[y+1]=g));if(h===o[y+1])return void(o[y+2]=g)}y++,null!==h&&y++,null!==g&&y++}-1!==E&&(o.splice(E,0,a),y=E+1),o.splice(y++,0,u),null!==h&&o.splice(y++,0,h),null!==g&&o.splice(y++,0,g)}function Hl(o){return-1!==o}function Ln(o){return 32767&o}function sr(o,a){let u=function Ds(o){return o>>16}(o),h=a;for(;u>0;)h=h[15],u--;return h}let on=!0;function ta(o){const a=on;return on=o,a}let ll=0;function Ti(o,a){const u=xo(o,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,Er(h.data,o),Er(a,null),Er(h.blueprint,null));const g=ko(o,a),y=o.injectorIndex;if(Hl(g)){const E=Ln(g),A=sr(g,a),N=A[1].data;for(let ne=0;ne<8;ne++)a[y+ne]=A[E+ne]|N[E+ne]}return a[y+8]=g,y}function Er(o,a){o.push(0,0,0,0,0,0,0,0,a)}function xo(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ko(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,g=a;for(;null!==g;){const y=g[1],E=y.type;if(h=2===E?y.declTNode:1===E?g[6]:null,null===h)return-1;if(u++,g=g[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function fi(o,a,u){!function So(o,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Kt)&&(h=u[Kt]),null==h&&(h=u[Kt]=ll++);const g=255&h;a.data[o+(g>>5)]|=1<<g}(o,a,u)}function Oo(o,a,u){if(u&We.Optional)return o;te(a,"NodeInjector")}function Si(o,a,u,h){if(u&We.Optional&&void 0===h&&(h=null),0==(u&(We.Self|We.Host))){const g=o[9],y=dt(void 0);try{return g?g.get(a,h,u&We.Optional):Dt(a,h,u&We.Optional)}finally{dt(y)}}return Oo(h,a,u)}function si(o,a,u,h=We.Default,g){if(null!==o){const y=function na(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Kt)?o[Kt]:void 0;return"number"==typeof a?a>=0?255&a:dr:a}(u);if("function"==typeof y){if(!nl(a,o,h))return h&We.Host?Oo(g,u,h):Si(a,u,h,g);try{const E=y(h);if(null!=E||h&We.Optional)return E;te(u)}finally{td()}}else if("number"==typeof y){let E=null,A=xo(o,a),N=-1,ne=h&We.Host?a[16][6]:null;for((-1===A||h&We.SkipSelf)&&(N=-1===A?ko(o,a):a[A+8],-1!==N&&jl(h,!1)?(E=a[1],A=Ln(N),a=sr(N,a)):A=-1);-1!==A;){const le=a[1];if(No(y,A,le.data)){const Ae=As(A,a,u,E,h,ne);if(Ae!==Zs)return Ae}N=a[A+8],-1!==N&&jl(h,a[1].data[A+8]===ne)&&No(y,A,a)?(E=le,A=Ln(N),a=sr(N,a)):A=-1}}}return Si(a,u,h,g)}const Zs={};function dr(){return new Po(Pn(),ft())}function As(o,a,u,h,g,y){const E=a[1],A=E.data[o+8],le=oc(A,E,u,null==h?kl(A)&&on:h!=E&&0!=(3&A.type),g&We.Host&&y===A);return null!==le?Ro(a,E,le,A):Zs}function oc(o,a,u,h,g){const y=o.providerIndexes,E=a.data,A=1048575&y,N=o.directiveStart,le=y>>20,Fe=g?A+le:o.directiveEnd;for(let $e=h?A:A+le;$e<Fe;$e++){const ut=E[$e];if($e<N&&u===ut||$e>=N&&ut.type===u)return $e}if(g){const $e=E[N];if($e&&Bi($e)&&$e.type===u)return N}return null}function Ro(o,a,u,h){let g=o[u];const y=a.data;if(function sc(o){return o instanceof zi}(g)){const E=g;E.resolving&&function pe(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new V(-200,`Circular dependency in DI detected for ${o}${u}`)}(re(y[u]));const A=ta(E.canSeeViewProviders);E.resolving=!0;const N=E.injectImpl?dt(E.injectImpl):null;nl(o,h,We.Default);try{g=o[u]=E.factory(void 0,y,o,h),a.firstCreatePass&&u>=h.directiveStart&&function Fl(o,a,u){const{ngOnChanges:h,ngOnInit:g,ngDoCheck:y}=a.type.prototype;if(h){const E=Ka(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,E),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,E)}g&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,g),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,y))}(u,y[u],a)}finally{null!==N&&dt(N),ta(A),E.resolving=!1,td()}}return g}function No(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function jl(o,a){return!(o&We.Self||o&We.Host&&a)}class Po{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return si(this._tNode,this._lView,a,h,u)}}function zl(o){return nt(()=>{const a=o.prototype.constructor,u=a[Ft]||Gl(a),h=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==h;){const y=g[Ft]||Gl(g);if(y&&y!==u)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function Gl(o){return R(o)?()=>{const a=Gl(j(o));return a&&a()}:Ui(o)}function Da(o){return function Mo(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const h=u.length;let g=0;for(;g<h;){const y=u[g];if(Ks(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<h&&"string"==typeof u[g];)g++;else{if(y===a)return u[g+1];g+=2}}}return null}(Pn(),o)}const Zn="__parameters__";function Is(o,a,u){return nt(()=>{const h=function hr(o){return function(...u){if(o){const h=o(...u);for(const g in h)this[g]=h[g]}}}(a);function g(...y){if(this instanceof g)return h.apply(this,y),this;const E=new g(...y);return A.annotation=E,A;function A(N,ne,le){const Ae=N.hasOwnProperty(Zn)?N[Zn]:Object.defineProperty(N,Zn,{value:[]})[Zn];for(;Ae.length<=le;)Ae.push(null);return(Ae[le]=Ae[le]||[]).push(E),N}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class or{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Oe({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ad=new or("AnalyzeForEntryComponents");function $r(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(a===o&&(a=o.slice(0,u)),$r(h,a)):a!==o&&a.push(h)}return a}function Cr(o,a){o.forEach(u=>Array.isArray(u)?Cr(u,a):a(u))}function Iu(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function cl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ki(o,a,u){let h=Tu(o,a);return h>=0?o[1|h]=u:(h=~h,function gi(o,a,u,h){let g=o.length;if(g==a)o.push(u,h);else if(1===g)o.push(h,o[0]),o[0]=u;else{for(g--,o.push(o[g-1],o[g]);g>a;)o[g]=o[g-2],g--;o[a]=u,o[a+1]=h}}(o,h,a,u)),h}function cd(o,a){const u=Tu(o,a);if(u>=0)return o[1|u]}function Tu(o,a){return function hl(o,a,u){let h=0,g=o.length>>u;for(;g!==h;){const y=h+(g-h>>1),E=o[y<<u];if(a===E)return y<<u;E>a?g=y:h=y+1}return~(g<<u)}(o,a,1)}const Js={},Bo="__NG_DI_FLAG__",ku="ngTempTokenPath",L=/\n/gm,ce="__source",Se=Z({provide:String,useValue:Z});let Ge;function Ze(o){const a=Ge;return Ge=o,a}function mt(o,a=We.Default){if(void 0===Ge)throw new V(203,"");return null===Ge?Dt(o,void 0,a):Ge.get(o,a&We.Optional?null:void 0,a)}function Et(o,a=We.Default){return(function ze(){return tt}()||mt)(j(o),a)}const gn=Et;function Mn(o){const a=[];for(let u=0;u<o.length;u++){const h=j(o[u]);if(Array.isArray(h)){if(0===h.length)throw new V(900,"");let g,y=We.Default;for(let E=0;E<h.length;E++){const A=h[E],N=Fr(A);"number"==typeof N?-1===N?g=A.token:y|=N:g=A}a.push(Et(g,y))}else a.push(Et(h))}return a}function Lr(o,a){return o[Bo]=a,o.prototype[Bo]=a,o}function Fr(o){return o[Bo]}const vi=Lr(Is("Inject",o=>({token:o})),-1),oi=Lr(Is("Optional"),8),Dr=Lr(Is("SkipSelf"),4);class Qh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function eo(o){return o instanceof Qh?o.changingThisBreaksApplicationSecurity:o}const ml=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,oh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var mr=(()=>((mr=mr||{})[mr.NONE=0]="NONE",mr[mr.HTML=1]="HTML",mr[mr.STYLE=2]="STYLE",mr[mr.SCRIPT=3]="SCRIPT",mr[mr.URL=4]="URL",mr[mr.RESOURCE_URL=5]="RESOURCE_URL",mr))();function Cd(o){const a=function wc(){const o=ft();return o&&o[12]}();return a?a.sanitize(mr.URL,o)||"":function Ou(o,a){const u=function yd(o){return o instanceof Qh&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}(o,"URL")?eo(o):function Zl(o){return(o=String(o)).match(ml)||o.match(oh)?o:"unsafe:"+o}(G(o))}const Uo="__ngContext__";function In(o,a){o[Uo]=a}function Fu(o){const a=function no(o){return o[Uo]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Ac(o){return o.ngOriginalError}function bi(o,...a){o.error(...a)}class vr{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),h=function of(o){return o&&o.ngErrorLogger||bi}(a);h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Ac(a);for(;u&&Ac(u);)u=Ac(u);return u||null}}const af=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nn))();function s(o){return o instanceof Function?o():o}var C=(()=>((C=C||{})[C.Important=1]="Important",C[C.DashCase=2]="DashCase",C))();function z(o,a){return undefined(o,a)}function De(o){const a=o[3];return ri(a)?a[3]:a}function Qe(o){return _t(o[13])}function lt(o){return _t(o[4])}function _t(o){for(;null!==o&&!ri(o);)o=o[4];return o}function At(o,a,u,h,g){if(null!=h){let y,E=!1;ri(h)?y=h:Xi(h)&&(E=!0,h=h[0]);const A=Bn(h);0===o&&null!==u?null==g?Ni(a,u,A):ks(a,u,A,g||null,!0):1===o&&null!==u?ks(a,u,A,g||null,!0):2===o?function N0(o,a,u){const h=Tc(o,a);h&&function wi(o,a,u,h){Hn(o)?o.removeChild(a,u,h):a.removeChild(u)}(o,h,a,u)}(a,A,E):3===o&&a.destroyNode(A),null!=y&&function lC(o,a,u,h,g){const y=u[7];y!==Bn(u)&&At(a,o,h,y,g);for(let A=10;A<u.length;A++){const N=u[A];Sc(N[1],N,o,a,h,y)}}(a,o,y,u,g)}}function jt(o,a,u){if(Hn(o))return o.createElement(a,u);{const h=null!==u?function hu(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?o.createElement(a):o.createElementNS(h,a)}}function Ir(o,a){const u=o[9],h=u.indexOf(a),g=a[3];1024&a[2]&&(a[2]&=-1025,es(g,-1)),u.splice(h,1)}function Oi(o,a){if(o.length<=10)return;const u=10+a,h=o[u];if(h){const g=h[17];null!==g&&g!==o&&Ir(g,h),a>0&&(o[u-1][4]=h[4]);const y=cl(o,10+a);!function ln(o,a){Sc(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const E=y[19];null!==E&&E.detachView(y[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function Ri(o,a){if(!(256&a[2])){const u=a[11];Hn(u)&&u.destroyNode&&Sc(o,a,u,3,null,null),function yr(o){let a=o[13];if(!a)return En(o[1],o);for(;a;){let u=null;if(Xi(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==o;)Xi(a)&&En(a[1],a),a=a[3];null===a&&(a=o),Xi(a)&&En(a[1],a),u=a&&a[4]}a=u}}(a)}}function En(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Tr(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const g=a[u[h]];if(!(g instanceof zi)){const y=u[h+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const A=g[y[E]],N=y[E+1];try{N.call(A)}finally{}}else try{y.call(g)}finally{}}}}(o,a),function $n(o,a){const u=o.cleanup,h=a[7];let g=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const E=u[y+1],A="function"==typeof E?E(a):Bn(a[E]),N=h[g=u[y+2]],ne=u[y+3];"boolean"==typeof ne?A.removeEventListener(u[y],N,ne):ne>=0?h[g=ne]():h[g=-ne].unsubscribe(),y+=2}else{const E=h[g=u[y+1]];u[y].call(E)}if(null!==h){for(let y=g+1;y<h.length;y++)h[y]();a[7]=null}}(o,a),1===a[1].type&&Hn(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&ri(a[3])){u!==a[3]&&Ir(u,a);const h=a[19];null!==h&&h.detachView(o)}}}function as(o,a,u){return function Uu(o,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];if(2&h.flags){const g=o.data[h.directiveStart].encapsulation;if(g===Qt.None||g===Qt.Emulated)return null}return Nr(h,u)}(o,a.parent,u)}function ks(o,a,u,h,g){Hn(o)?o.insertBefore(a,u,h,g):a.insertBefore(u,h,g)}function Ni(o,a,u){Hn(o)?o.appendChild(a,u):a.appendChild(u)}function ua(o,a,u,h,g){null!==h?ks(o,a,u,h,g):Ni(o,a,u)}function Tc(o,a){return Hn(o)?o.parentNode(a):a.parentNode}let tn=function io(o,a,u){return 40&o.type?Nr(o,u):null};function Vu(o,a,u,h){const g=as(o,h,a),y=a[11],A=function Na(o,a,u){return tn(o,a,u)}(h.parent||a[6],h,a);if(null!=g)if(Array.isArray(u))for(let N=0;N<u.length;N++)ua(y,g,u[N],A,!1);else ua(y,g,u,A,!1)}function Xg(o,a){if(null!==a){const u=a.type;if(3&u)return Nr(a,o);if(4&u)return em(-1,o[a.index]);if(8&u){const h=a.child;if(null!==h)return Xg(o,h);{const g=o[a.index];return ri(g)?em(-1,g):Bn(g)}}if(32&u)return z(a,o)()||Bn(o[a.index]);{const h=Jv(o,a);return null!==h?Array.isArray(h)?h[0]:Xg(De(o[16]),h):Xg(o,a.next)}}return null}function Jv(o,a){return null!==a?o[16][6].projection[a.projection]:null}function em(o,a){const u=10+o+1;if(u<a.length){const h=a[u],g=h[1].firstChild;if(null!==g)return Xg(h,g)}return a[7]}function cf(o,a,u,h,g,y,E){for(;null!=u;){const A=h[u.index],N=u.type;if(E&&0===a&&(A&&In(Bn(A),h),u.flags|=4),64!=(64&u.flags))if(8&N)cf(o,a,u.child,h,g,y,!1),At(a,o,g,A,y);else if(32&N){const ne=z(u,h);let le;for(;le=ne();)At(a,o,g,le,y);At(a,o,g,A,y)}else 16&N?Ap(o,a,h,u,g,y):At(a,o,g,A,y);u=E?u.projectionNext:u.next}}function Sc(o,a,u,h,g,y){cf(u,h,o.firstChild,a,g,y,!1)}function Ap(o,a,u,h,g,y){const E=u[16],N=E[6].projection[h.projection];if(Array.isArray(N))for(let ne=0;ne<N.length;ne++)At(a,o,g,N[ne],y);else cf(o,a,N,E[3],g,y,!0)}function Ip(o,a,u){Hn(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function tm(o,a,u){Hn(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function ey(o,a,u){let h=o.length;for(;;){const g=o.indexOf(a,u);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const y=a.length;if(g+y===h||o.charCodeAt(g+y)<=32)return g}u=g+1}}const L0="ng-template";function uC(o,a,u){let h=0;for(;h<o.length;){let g=o[h++];if(u&&"class"===g){if(g=o[h],-1!==ey(g.toLowerCase(),a,0))return!0}else if(1===g){for(;h<o.length&&"string"==typeof(g=o[h++]);)if(g.toLowerCase()===a)return!0;return!1}}return!1}function Tp(o){return 4===o.type&&o.value!==L0}function cC(o,a,u){return a===(4!==o.type||u?o.value:L0)}function dC(o,a,u){let h=4;const g=o.attrs||[],y=function ty(o){for(let a=0;a<o.length;a++)if(Ks(o[a]))return a;return o.length}(g);let E=!1;for(let A=0;A<a.length;A++){const N=a[A];if("number"!=typeof N){if(!E)if(4&h){if(h=2|1&h,""!==N&&!cC(o,N,u)||""===N&&1===a.length){if(Xl(h))return!1;E=!0}}else{const ne=8&h?N:a[++A];if(8&h&&null!==o.attrs){if(!uC(o.attrs,ne,u)){if(Xl(h))return!1;E=!0}continue}const Ae=hC(8&h?"class":N,g,Tp(o),u);if(-1===Ae){if(Xl(h))return!1;E=!0;continue}if(""!==ne){let Fe;Fe=Ae>y?"":g[Ae+1].toLowerCase();const $e=8&h?Fe:null;if($e&&-1!==ey($e,ne,0)||2&h&&ne!==Fe){if(Xl(h))return!1;E=!0}}}}else{if(!E&&!Xl(h)&&!Xl(N))return!1;if(E&&Xl(N))continue;E=!1,h=N|1&h}}return Xl(h)||E}function Xl(o){return 0==(1&o)}function hC(o,a,u,h){if(null===a)return-1;let g=0;if(h||!u){let y=!1;for(;g<a.length;){const E=a[g];if(E===o)return g;if(3===E||6===E)y=!0;else{if(1===E||2===E){let A=a[++g];for(;"string"==typeof A;)A=a[++g];continue}if(4===E)break;if(0===E){g+=4;continue}}g+=y?1:2}return-1}return function ny(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,o)}function F0(o,a,u=!1){for(let h=0;h<a.length;h++)if(dC(o,a[h],u))return!0;return!1}function fh(o,a){return o?":not("+a.trim()+")":a}function U0(o){let a=o[0],u=1,h=2,g="",y=!1;for(;u<o.length;){let E=o[u];if("string"==typeof E)if(2&h){const A=o[++u];g+="["+E+(A.length>0?'="'+A+'"':"")+"]"}else 8&h?g+="."+E:4&h&&(g+=" "+E);else""!==g&&!Xl(E)&&(a+=fh(y,g),g=""),h=E,y=y||!Xl(h);u++}return""!==g&&(a+=fh(y,g)),a}const an={};function ry(o){H0(mn(),ft(),Pr()+o,Xa())}function H0(o,a,u,h){if(!h)if(3==(3&a[2])){const y=o.preOrderCheckHooks;null!==y&&rl(a,y,u)}else{const y=o.preOrderHooks;null!==y&&Bl(a,y,0,u)}Es(u)}function xp(o,a){return o<<17|a<<2}function Pa(o){return o>>17&32767}function kp(o){return 2|o}function kc(o){return(131068&o)>>2}function ph(o,a){return-131069&o|a<<2}function oy(o){return 1|o}function Np(o,a){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const g=u[h],y=u[h+1];if(-1!==y){const E=o.data[y];_u(g),E.contentQueries(2,a[y],y)}}}function Pp(o,a,u,h,g,y,E,A,N,ne){const le=a.blueprint.slice();return le[0]=g,le[2]=140|h,Do(le),le[3]=le[15]=o,le[8]=u,le[10]=E||o&&o[10],le[11]=A||o&&o[11],le[12]=N||o&&o[12]||null,le[9]=ne||o&&o[9]||null,le[6]=y,le[16]=2==a.type?o[16]:le,le}function ff(o,a,u,h,g){let y=o.data[a];if(null===y)y=function pf(o,a,u,h,g){const y=zs(),E=ws(),N=o.data[a]=function CC(o,a,u,h,g,y){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,u,a,h,g);return null===o.firstChild&&(o.firstChild=N),null!==y&&(E?null==y.child&&null!==N.parent&&(y.child=N):null===y.next&&(y.next=N)),N}(o,a,u,h,g),function tl(){return Yt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=h,y.attrs=g;const E=function Ea(){const o=Yt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();y.injectorIndex=null===E?-1:E.injectorIndex}return di(y,!0),y}function vh(o,a,u,h){if(0===u)return-1;const g=a.length;for(let y=0;y<u;y++)a.push(h),o.blueprint.push(h),o.data.push(null);return g}function gf(o,a,u){$s(a);try{const h=o.viewQuery;null!==h&&vm(1,h,u);const g=o.template;null!==g&&Lp(o,a,g,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Np(o,a),o.staticViewQueries&&vm(2,o.viewQuery,u);const y=o.components;null!==y&&function wC(o,a){for(let u=0;u<a.length;u++)by(o,a[u])}(a,y)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Xo()}}function ju(o,a,u,h){const g=a[2];if(256==(256&g))return;$s(a);const y=Xa();try{Do(a),function Qo(o){return Yt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Lp(o,a,u,2,h);const E=3==(3&g);if(!y)if(E){const ne=o.preOrderCheckHooks;null!==ne&&rl(a,ne,null)}else{const ne=o.preOrderHooks;null!==ne&&Bl(a,ne,0,null),qs(a,0)}if(function PC(o){for(let a=Qe(o);null!==a;a=lt(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const g=u[h],y=g[3];0==(1024&g[2])&&es(y,1),g[2]|=1024}}}(a),function NC(o){for(let a=Qe(o);null!==a;a=lt(a))for(let u=10;u<a.length;u++){const h=a[u],g=h[1];Ii(h)&&ju(g,h,g.template,h[8])}}(a),null!==o.contentQueries&&Np(o,a),!y)if(E){const ne=o.contentCheckHooks;null!==ne&&rl(a,ne)}else{const ne=o.contentHooks;null!==ne&&Bl(a,ne,1),qs(a,1)}!function um(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const g=u[h];if(g<0)Es(~g);else{const y=g,E=u[++h],A=u[++h];Ll(E,y),A(2,a[y])}}}finally{Es(-1)}}(o,a);const A=o.components;null!==A&&function bC(o,a){for(let u=0;u<a.length;u++)ab(o,a[u])}(a,A);const N=o.viewQuery;if(null!==N&&vm(2,N,h),!y)if(E){const ne=o.viewCheckHooks;null!==ne&&rl(a,ne)}else{const ne=o.viewHooks;null!==ne&&Bl(a,ne,2),qs(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),y||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,es(a[3],-1))}finally{Xo()}}function Q0(o,a,u,h){const g=a[10],y=!Xa(),E=Ya(a);try{y&&!E&&g.begin&&g.begin(),E&&gf(o,a,h),ju(o,a,u,h)}finally{y&&!E&&g.end&&g.end()}}function Lp(o,a,u,h,g){const y=Pr(),E=2&h;try{Es(-1),E&&a.length>20&&H0(o,a,20,Xa()),u(h,g)}finally{Es(y)}}function hy(o,a,u){if(lu(a)){const g=a.directiveEnd;for(let y=a.directiveStart;y<g;y++){const E=o.data[y];E.contentQueries&&E.contentQueries(1,u[y],y)}}}function fy(o,a,u){!ic()||(function xC(o,a,u,h){const g=u.directiveStart,y=u.directiveEnd;o.firstCreatePass||Ti(u,a),In(h,a);const E=u.initialInputs;for(let A=g;A<y;A++){const N=o.data[A],ne=Bi(N);ne&&ET(a,u,N);const le=Ro(a,o,A,u);In(le,a),null!==E&&ib(0,A-g,le,N,0,E),ne&&(Hr(u.index,a)[8]=le)}}(o,a,u,Nr(u,a)),128==(128&u.flags)&&function kC(o,a,u){const h=u.directiveStart,g=u.directiveEnd,E=u.index,A=function ed(){return Yt.lFrame.currentDirectiveIndex}();try{Es(E);for(let N=h;N<g;N++){const ne=o.data[N],le=a[N];Jo(N),(null!==ne.hostBindings||0!==ne.hostVars||null!==ne.hostAttrs)&&vy(ne,le)}}finally{Es(-1),Jo(A)}}(o,a,u))}function py(o,a,u=Nr){const h=a.localNames;if(null!==h){let g=a.index+1;for(let y=0;y<h.length;y+=2){const E=h[y+1],A=-1===E?u(a,o):o[E];o[g++]=A}}}function J0(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=cm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function cm(o,a,u,h,g,y,E,A,N,ne){const le=20+h,Ae=le+g,Fe=function EC(o,a){const u=[];for(let h=0;h<a;h++)u.push(h<o?null:an);return u}(le,Ae),$e="function"==typeof ne?ne():ne;return Fe[1]={type:o,blueprint:Fe,template:u,queries:null,viewQuery:A,declTNode:a,data:Fe.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:N,consts:$e,incompleteFirstPass:!1}}function Fp(o,a,u,h){const g=da(a);null===u?g.push(h):(g.push(u),o.firstCreatePass&&ub(o).push(h,g.length-1))}function X0(o,a,u){for(let h in o)if(o.hasOwnProperty(h)){const g=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(a,g):u[h]=[a,g]}return u}function my(o,a,u,h){let g=!1;if(ic()){const y=function MC(o,a,u){const h=o.directiveRegistry;let g=null;if(h)for(let y=0;y<h.length;y++){const E=h[y];F0(u,E.selectors,!1)&&(g||(g=[]),fi(Ti(u,a),o,E.type),Bi(E)?(nb(o,u),g.unshift(E)):g.push(E))}return g}(o,a,u),E=null===h?null:{"":-1};if(null!==y){g=!0,rb(u,o.data.length,y.length);for(let le=0;le<y.length;le++){const Ae=y[le];Ae.providersResolver&&Ae.providersResolver(Ae)}let A=!1,N=!1,ne=vh(o,a,y.length,null);for(let le=0;le<y.length;le++){const Ae=y[le];u.mergedAttrs=sl(u.mergedAttrs,Ae.hostAttrs),yy(o,u,a,ne,Ae),RC(ne,Ae,E),null!==Ae.contentQueries&&(u.flags|=8),(null!==Ae.hostBindings||null!==Ae.hostAttrs||0!==Ae.hostVars)&&(u.flags|=128);const Fe=Ae.type.prototype;!A&&(Fe.ngOnChanges||Fe.ngOnInit||Fe.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),A=!0),!N&&(Fe.ngOnChanges||Fe.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),N=!0),ne++}!function hm(o,a){const h=a.directiveEnd,g=o.data,y=a.attrs,E=[];let A=null,N=null;for(let ne=a.directiveStart;ne<h;ne++){const le=g[ne],Ae=le.inputs,Fe=null===y||Tp(a)?null:sb(Ae,y);E.push(Fe),A=X0(Ae,ne,A),N=X0(le.outputs,ne,N)}null!==A&&(A.hasOwnProperty("class")&&(a.flags|=16),A.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=E,a.inputs=A,a.outputs=N}(o,u)}E&&function OC(o,a,u){if(a){const h=o.localNames=[];for(let g=0;g<a.length;g+=2){const y=u[a[g+1]];if(null==y)throw new V(-301,!1);h.push(a[g],y)}}}(u,h,E)}return u.mergedAttrs=sl(u.mergedAttrs,u.attrs),g}function tb(o,a,u,h,g,y){const E=y.hostBindings;if(E){let A=o.hostBindingOpCodes;null===A&&(A=o.hostBindingOpCodes=[]);const N=~a.index;(function SC(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(A)!=N&&A.push(N),A.push(h,g,E)}}function vy(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function nb(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function RC(o,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=o;Bi(a)&&(u[""]=o)}}function rb(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function yy(o,a,u,h,g){o.data[h]=g;const y=g.factory||(g.factory=Ui(g.type)),E=new zi(y,Bi(g),null);o.blueprint[h]=E,u[h]=E,tb(o,a,0,h,vh(o,u,g.hostVars,an),g)}function ET(o,a,u){const h=Nr(a,o),g=J0(u),y=o[10],E=gm(o,Pp(o,g,null,u.onPush?64:16,h,a,y,y.createRenderer(h,u),null,null));o[a.index]=E}function eu(o,a,u,h,g,y){const E=Nr(o,a);!function pm(o,a,u,h,g,y,E){if(null==y)Hn(o)?o.removeAttribute(a,g,u):a.removeAttribute(g);else{const A=null==E?G(y):E(y,h||"",g);Hn(o)?o.setAttribute(a,g,A,u):u?a.setAttributeNS(u,g,A):a.setAttribute(g,A)}}(a[11],E,y,o.value,u,h,g)}function ib(o,a,u,h,g,y){const E=y[a];if(null!==E){const A=h.setInput;for(let N=0;N<E.length;){const ne=E[N++],le=E[N++],Ae=E[N++];null!==A?h.setInput(u,Ae,ne,le):u[le]=Ae}}}function sb(o,a){let u=null,h=0;for(;h<a.length;){const g=a[h];if(0!==g)if(5!==g){if("number"==typeof g)break;o.hasOwnProperty(g)&&(null===u&&(u=[]),u.push(g,o[g],a[h+1])),h+=2}else h+=2;else h+=4}return u}function ob(o,a,u,h){return new Array(o,!0,!1,a,null,0,h,u,null,null)}function ab(o,a){const u=Hr(a,o);if(Ii(u)){const h=u[1];80&u[2]?ju(h,u,h.template,u[8]):u[5]>0&&_y(u)}}function _y(o){for(let h=Qe(o);null!==h;h=lt(h))for(let g=10;g<h.length;g++){const y=h[g];if(1024&y[2]){const E=y[1];ju(E,y,E.template,y[8])}else y[5]>0&&_y(y)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const g=Hr(u[h],o);Ii(g)&&g[5]>0&&_y(g)}}function by(o,a){const u=Hr(a,o),h=u[1];(function LC(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(h,u),gf(h,u,u[8])}function gm(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function wy(o){for(;o;){o[2]|=64;const a=De(o);if($c(o)&&!a)return o;o=a}return null}function Cy(o,a,u){const h=a[10];h.begin&&h.begin();try{ju(o,a,o.template,u)}catch(g){throw ym(a,g),g}finally{h.end&&h.end()}}function lb(o){!function mm(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],h=Fu(u),g=h[1];Q0(g,h,g.template,u)}}(o[8])}function vm(o,a,u){_u(0),a(o,u)}const UC=(()=>Promise.resolve(null))();function da(o){return o[7]||(o[7]=[])}function ub(o){return o.cleanup||(o.cleanup=[])}function ym(o,a){const u=o[9],h=u?u.get(vr,null):null;h&&h.handleError(a)}function _m(o,a,u,h,g){for(let y=0;y<u.length;){const E=u[y++],A=u[y++],N=a[E],ne=o.data[E];null!==ne.setInput?ne.setInput(N,g,h,A):N[A]=g}}function ha(o,a,u){const h=ba(a,o);!function Lt(o,a,u){Hn(o)?o.setValue(a,u):a.textContent=u}(o[11],h,u)}function bm(o,a,u){let h=u?o.styles:null,g=u?o.classes:null,y=0;if(null!==a)for(let E=0;E<a.length;E++){const A=a[E];"number"==typeof A?y=A:1==y?g=H(g,A):2==y&&(h=H(h,A+": "+a[++E]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=g:o.classesWithoutHost=g}const wm=new or("INJECTOR",-1);class Dy{get(a,u=Js){if(u===Js){const h=new Error(`NullInjectorError: No provider for ${U(a)}!`);throw h.name="NullInjectorError",h}return u}}const Up=new or("Set Injector scope."),Em={},yh={};let Cm;function db(){return void 0===Cm&&(Cm=new Dy),Cm}function hb(o,a=null,u=null,h){const g=Ay(o,a,u,h);return g._resolveInjectorDefTypes(),g}function Ay(o,a=null,u=null,h){return new HC(o,u,a||db(),h)}class HC{constructor(a,u,h,g=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];u&&Cr(u,A=>this.processProvider(A,a,u)),Cr([a],A=>this.processInjectorType(A,[],y)),this.records.set(wm,mf(void 0,this));const E=this.records.get(Up);this.scope=null!=E?E.value:null,this.source=g||("object"==typeof a?null:U(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=Js,h=We.Default){this.assertNotDestroyed();const g=Ze(this),y=dt(void 0);try{if(!(h&We.SkipSelf)){let A=this.records.get(a);if(void 0===A){const N=function $C(o){return"function"==typeof o||"object"==typeof o&&o instanceof or}(a)&&Je(a);A=N&&this.injectableDefInScope(N)?mf(Iy(a),Em):null,this.records.set(a,A)}if(null!=A)return this.hydrate(a,A)}return(h&We.Self?db():this.parent).get(a,u=h&We.Optional&&u===Js?null:u)}catch(E){if("NullInjectorError"===E.name){if((E[ku]=E[ku]||[]).unshift(U(a)),g)throw E;return function fn(o,a,u,h){const g=o[ku];throw a[ce]&&g.unshift(a[ce]),o.message=function Ss(o,a,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let g=U(a);if(Array.isArray(a))g=a.map(U).join(" -> ");else if("object"==typeof a){let y=[];for(let E in a)if(a.hasOwnProperty(E)){let A=a[E];y.push(E+":"+("string"==typeof A?JSON.stringify(A):U(A)))}g=`{${y.join(", ")}}`}return`${u}${h?"("+h+")":""}[${g}]: ${o.replace(L,"\n  ")}`}("\n"+o.message,g,u,h),o.ngTokenPath=g,o[ku]=null,o}(E,a,"R3InjectorError",this.source)}throw E}finally{dt(y),Ze(g)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,g)=>a.push(U(g))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processInjectorType(a,u,h){if(!(a=j(a)))return!1;let g=Ne(a);const y=null==g&&a.ngModule||void 0,E=void 0===y?a:y,A=-1!==h.indexOf(E);if(void 0!==y&&(g=Ne(y)),null==g)return!1;if(null!=g.imports&&!A){let le;h.push(E);try{Cr(g.imports,Ae=>{this.processInjectorType(Ae,u,h)&&(void 0===le&&(le=[]),le.push(Ae))})}finally{}if(void 0!==le)for(let Ae=0;Ae<le.length;Ae++){const{ngModule:Fe,providers:$e}=le[Ae];Cr($e,ut=>this.processProvider(ut,Fe,$e||Me))}}this.injectorDefTypes.add(E);const N=Ui(E)||(()=>new E);this.records.set(E,mf(N,Em));const ne=g.providers;if(null!=ne&&!A){const le=a;Cr(ne,Ae=>this.processProvider(Ae,le,ne))}return void 0!==y&&void 0!==a.providers}processProvider(a,u,h){let g=vf(a=j(a))?a:j(a&&a.provide);const y=function fb(o,a,u){return gb(o)?mf(void 0,o.useValue):mf(pb(o),Em)}(a);if(vf(a)||!0!==a.multi)this.records.get(g);else{let E=this.records.get(g);E||(E=mf(void 0,Em,!0),E.factory=()=>Mn(E.multi),this.records.set(g,E)),g=a,E.multi.push(a)}this.records.set(g,y)}hydrate(a,u){return u.value===Em&&(u.value=yh,u.value=u.factory()),"object"==typeof u.value&&u.value&&function IT(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=j(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Iy(o){const a=Je(o),u=null!==a?a.factory:Ui(o);if(null!==u)return u;if(o instanceof or)throw new V(204,!1);if(o instanceof Function)return function jC(o){const a=o.length;if(a>0)throw function xi(o,a){const u=[];for(let h=0;h<o;h++)u.push(a);return u}(a,"?"),new V(204,!1);const u=function Ct(o){const a=o&&(o[je]||o[be]);if(a){const u=function J(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new V(204,!1)}function pb(o,a,u){let h;if(vf(o)){const g=j(o);return Ui(g)||Iy(g)}if(gb(o))h=()=>j(o.useValue);else if(function zC(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Mn(o.deps||[]));else if(function Ty(o){return!(!o||!o.useExisting)}(o))h=()=>Et(j(o.useExisting));else{const g=j(o&&(o.useClass||o.provide));if(!function GC(o){return!!o.deps}(o))return Ui(g)||Iy(g);h=()=>new g(...Mn(o.deps))}return h}function mf(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function gb(o){return null!==o&&"object"==typeof o&&Se in o}function vf(o){return"function"==typeof o}let wl=(()=>{class o{static create(u,h){var g;if(Array.isArray(u))return hb({name:""},h,u,"");{const y=null!==(g=u.name)&&void 0!==g?g:"";return hb({name:y},u.parent,u.providers,y)}}}return o.THROW_IF_NOT_FOUND=Js,o.NULL=new Dy,o.\u0275prov=Oe({token:o,providedIn:"any",factory:()=>Et(wm)}),o.__NG_ELEMENT_ID__=-1,o})();function ST(o,a){Cs(Fu(o)[1],Pn())}function wb(o){let a=function nD(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;a;){let g;if(Bi(o))g=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new V(903,"");g=a.\u0275dir}if(g){if(u){h.push(g);const E=o;E.inputs=Eb(o.inputs),E.declaredInputs=Eb(o.declaredInputs),E.outputs=Eb(o.outputs);const A=g.hostBindings;A&&Db(o,A);const N=g.viewQuery,ne=g.contentQueries;if(N&&kT(o,N),ne&&Cb(o,ne),P(o.inputs,g.inputs),P(o.declaredInputs,g.declaredInputs),P(o.outputs,g.outputs),Bi(g)&&g.data.animation){const le=o.data;le.animation=(le.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let E=0;E<y.length;E++){const A=y[E];A&&A.ngInherit&&A(o),A===wb&&(u=!1)}}a=Object.getPrototypeOf(a)}!function xT(o){let a=0,u=null;for(let h=o.length-1;h>=0;h--){const g=o[h];g.hostVars=a+=g.hostVars,g.hostAttrs=sl(g.hostAttrs,u=sl(u,g.hostAttrs))}}(h)}function Eb(o){return o===Dn?{}:o===Me?[]:o}function kT(o,a){const u=o.viewQuery;o.viewQuery=u?(h,g)=>{a(h,g),u(h,g)}:a}function Cb(o,a){const u=o.contentQueries;o.contentQueries=u?(h,g,y)=>{a(h,g,y),u(h,g,y)}:a}function Db(o,a){const u=o.hostBindings;o.hostBindings=u?(h,g)=>{a(h,g),u(h,g)}:a}let Oy=null;function yf(){if(!Oy){const o=nn.Symbol;if(o&&o.iterator)Oy=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Oy=h)}}}return Oy}function _f(o){return!!Ry(o)&&(Array.isArray(o)||!(o instanceof Map)&&yf()in o)}function Ry(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Mc(o,a,u){return o[a]=u}function so(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Ny(o,a,u,h){const g=ft();return so(g,wr(),a)&&(mn(),eu(cr(),g,o,a,u,h)),Ny}function Oc(o,a,u,h,g,y,E,A){const N=ft(),ne=mn(),le=o+20,Ae=ne.firstCreatePass?function km(o,a,u,h,g,y,E,A,N){const ne=a.consts,le=ff(a,o,4,E||null,Hi(ne,A));my(a,u,le,Hi(ne,N)),Cs(a,le);const Ae=le.tViews=cm(2,le,h,g,y,a.directiveRegistry,a.pipeRegistry,null,a.schemas,ne);return null!==a.queries&&(a.queries.template(a,le),Ae.queries=a.queries.embeddedTView(le)),le}(le,ne,N,a,u,h,g,y,E):ne.data[le];di(Ae,!1);const Fe=N[11].createComment("");Vu(ne,N,Fe,Ae),In(Fe,N),gm(N,N[le]=ob(Fe,N,Fe,Ae)),Us(Ae)&&fy(ne,N,Ae),null!=E&&py(N,Ae,A)}function kb(o){return Co(function Jc(){return Yt.lFrame.contextLView}(),20+o)}function kf(o,a=We.Default){const u=ft();return null===u?Et(o,a):si(Pn(),u,j(o),a)}function jp(){throw new Error("invalid")}function zp(o,a,u){const h=ft();return so(h,wr(),a)&&function Ms(o,a,u,h,g,y,E,A){const N=Nr(a,u);let le,ne=a.inputs;!A&&null!=ne&&(le=ne[h])?(_m(o,u,le,h,g),kl(a)&&function AC(o,a){const u=Hr(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(h=function DC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),g=null!=E?E(g,a.value||"",h):g,Hn(y)?y.setProperty(N,h,g):Vl(h)||(N.setProperty?N.setProperty(h,g):N[h]=g))}(mn(),cr(),h,o,a,h[11],u,!1),zp}function Gp(o,a,u,h,g){const E=g?"class":"style";_m(o,u,a.inputs[E],E,h)}function Pm(o,a,u,h){const g=ft(),y=mn(),E=20+o,A=g[11],N=g[E]=jt(A,a,function Ca(){return Yt.lFrame.currentNamespace}()),ne=y.firstCreatePass?function Gy(o,a,u,h,g,y,E){const A=a.consts,ne=ff(a,o,2,g,Hi(A,y));return my(a,u,ne,Hi(A,E)),null!==ne.attrs&&bm(ne,ne.attrs,!1),null!==ne.mergedAttrs&&bm(ne,ne.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,ne),ne}(E,y,g,0,a,u,h):y.data[E];di(ne,!0);const le=ne.mergedAttrs;null!==le&&zr(A,N,le);const Ae=ne.classes;null!==Ae&&tm(A,N,Ae);const Fe=ne.styles;return null!==Fe&&Ip(A,N,Fe),64!=(64&ne.flags)&&Vu(y,g,N,ne),0===function Nl(){return Yt.lFrame.elementDepthCount}()&&In(N,g),function mu(){Yt.lFrame.elementDepthCount++}(),Us(ne)&&(fy(y,g,ne),hy(y,ne,g)),null!==h&&py(g,ne),Pm}function Lm(){let o=Pn();ws()?Io():(o=o.parent,di(o,!1));const a=o;!function Ja(){Yt.lFrame.elementDepthCount--}();const u=mn();return u.firstCreatePass&&(Cs(u,o),lu(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function rd(o){return 0!=(16&o.flags)}(a)&&Gp(u,a,ft(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function id(o){return 0!=(32&o.flags)}(a)&&Gp(u,a,ft(),a.stylesWithoutHost,!1),Lm}function $p(o,a,u,h){return Pm(o,a,u,h),Lm(),$p}function Fm(o,a,u){const h=ft(),g=mn(),y=o+20,E=g.firstCreatePass?function hD(o,a,u,h,g){const y=a.consts,E=Hi(y,h),A=ff(a,o,8,"ng-container",E);return null!==E&&bm(A,E,!0),my(a,u,A,Hi(y,g)),null!==a.queries&&a.queries.elementStart(a,A),A}(y,g,h,a,u):g.data[y];di(E,!0);const A=h[y]=h[11].createComment("");return Vu(g,h,A,E),In(A,h),Us(E)&&(fy(g,h,E),hy(g,E,h)),null!=u&&py(h,E),Fm}function Wi(){let o=Pn();const a=mn();return ws()?Io():(o=o.parent,di(o,!1)),a.firstCreatePass&&(Cs(a,o),lu(o)&&a.queries.elementEnd(o)),Wi}function jb(){return ft()}function wh(o){return!!o&&"function"==typeof o.then}function zb(o){return!!o&&"function"==typeof o.subscribe}const Gb=zb;function Of(o,a,u,h){const g=ft(),y=mn(),E=Pn();return function Bm(o,a,u,h,g,y,E,A){const N=Us(h),le=o.firstCreatePass&&ub(o),Ae=a[8],Fe=da(a);let $e=!0;if(3&h.type||A){const Nt=Nr(h,a),$t=A?A(Nt):Nt,gt=Fe.length,Xt=A?xn=>A(Bn(xn[h.index])):h.index;if(Hn(u)){let xn=null;if(!A&&N&&(xn=function $y(o,a,u,h){const g=o.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const E=g[y];if(E===u&&g[y+1]===h){const A=a[7],N=g[y+2];return A.length>N?A[N]:null}"string"==typeof E&&(y+=2)}return null}(o,a,g,h.index)),null!==xn)(xn.__ngLastListenerFn__||xn).__ngNextListenerFn__=y,xn.__ngLastListenerFn__=y,$e=!1;else{y=qp(h,a,Ae,y,!1);const Qn=u.listen($t,g,y);Fe.push(y,Qn),le&&le.push(g,Xt,gt,gt+1)}}else y=qp(h,a,Ae,y,!0),$t.addEventListener(g,y,E),Fe.push(y),le&&le.push(g,Xt,gt,E)}else y=qp(h,a,Ae,y,!1);const ut=h.outputs;let Tt;if($e&&null!==ut&&(Tt=ut[g])){const Nt=Tt.length;if(Nt)for(let $t=0;$t<Nt;$t+=2){const fa=a[Tt[$t]][Tt[$t+1]].subscribe(y),jh=Fe.length;Fe.push(y,fa),le&&le.push(g,h.index,jh,-(jh+1))}}}(y,g,g[11],E,o,a,!!u,h),Of}function Um(o,a,u,h){try{return!1!==u(h)}catch(g){return ym(o,g),!1}}function qp(o,a,u,h,g){return function y(E){if(E===Function)return h;const A=2&o.flags?Hr(o.index,a):a;0==(32&a[2])&&wy(A);let N=Um(a,0,h,E),ne=y.__ngNextListenerFn__;for(;ne;)N=Um(a,0,ne,E)&&N,ne=ne.__ngNextListenerFn__;return g&&!1===N&&(E.preventDefault(),E.returnValue=!1),N}}function Wy(o=1){return function ns(o){return(Yt.lFrame.contextLView=function nd(o,a){for(;o>0;)a=a[15],o--;return a}(o,Yt.lFrame.contextLView))[8]}(o)}function Zy(o,a,u,h,g){const y=o[u+1],E=null===a;let A=h?Pa(y):kc(y),N=!1;for(;0!==A&&(!1===N||E);){const le=o[A+1];mD(o[A],a)&&(N=!0,o[A+1]=h?oy(le):kp(le)),A=h?Pa(le):kc(le)}N&&(o[u+1]=h?kp(y):oy(y))}function mD(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Tu(o,a)>=0}function Rf(o,a){return function tu(o,a,u,h){const g=ft(),y=mn(),E=function Gs(o){const a=Yt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}(2);y.firstUpdatePass&&function Jp(o,a,u,h){const g=o.data;if(null===g[u+1]){const y=g[Pr()],E=function e_(o,a){return a>=o.expandoStartIndex}(o,u);(function qm(o,a){return 0!=(o.flags&(a?16:32))})(y,h)&&null===a&&!E&&(a=!1),a=function Xb(o,a,u,h){const g=function yu(o){const a=Yt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let y=h?a.residualClasses:a.residualStyles;if(null===g)0===(h?a.classBindings:a.styleBindings)&&(u=Rc(u=$m(null,o,a,u,h),a.attrs,h),y=null);else{const E=a.directiveStylingLast;if(-1===E||o[E]!==g)if(u=$m(g,o,a,u,h),null===y){let N=function Xp(o,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==kc(h))return o[Pa(h)]}(o,a,h);void 0!==N&&Array.isArray(N)&&(N=$m(null,o,a,N[1],h),N=Rc(N,a.attrs,h),function ew(o,a,u,h){o[Pa(u?a.classBindings:a.styleBindings)]=h}(o,a,h,N))}else y=function Vo(o,a,u){let h;const g=a.directiveEnd;for(let y=1+a.directiveStylingLast;y<g;y++)h=Rc(h,o[y].hostAttrs,u);return Rc(h,a.attrs,u)}(o,a,h)}return void 0!==y&&(h?a.residualClasses=y:a.residualStyles=y),u}(g,y,a,h),function pD(o,a,u,h,g,y){let E=y?a.classBindings:a.styleBindings,A=Pa(E),N=kc(E);o[h]=u;let le,ne=!1;if(Array.isArray(u)){const Ae=u;le=Ae[1],(null===le||Tu(Ae,le)>0)&&(ne=!0)}else le=u;if(g)if(0!==N){const Fe=Pa(o[A+1]);o[h+1]=xp(Fe,A),0!==Fe&&(o[Fe+1]=ph(o[Fe+1],h)),o[A+1]=function sy(o,a){return 131071&o|a<<17}(o[A+1],h)}else o[h+1]=xp(A,0),0!==A&&(o[A+1]=ph(o[A+1],h)),A=h;else o[h+1]=xp(N,0),0===A?A=h:o[N+1]=ph(o[N+1],h),N=h;ne&&(o[h+1]=kp(o[h+1])),Zy(o,le,h,!0),Zy(o,le,h,!1),function gD(o,a,u,h,g){const y=g?o.residualClasses:o.residualStyles;null!=y&&"string"==typeof a&&Tu(y,a)>=0&&(u[h+1]=oy(u[h+1]))}(a,le,o,h,y),E=xp(A,N),y?a.classBindings=E:a.styleBindings=E}(g,y,a,u,E,h)}}(y,o,E,h),a!==an&&so(g,E,a)&&function r_(o,a,u,h,g,y,E,A){if(!(3&a.type))return;const N=o.data,ne=N[A+1];Md(function j0(o){return 1==(1&o)}(ne)?i_(N,a,u,g,kc(ne),E):void 0)||(Md(y)||function iy(o){return 2==(2&o)}(ne)&&(y=i_(N,null,u,g,A,E)),function Xv(o,a,u,h,g){const y=Hn(o);if(a)g?y?o.addClass(u,h):u.classList.add(h):y?o.removeClass(u,h):u.classList.remove(h);else{let E=-1===h.indexOf("-")?void 0:C.DashCase;if(null==g)y?o.removeStyle(u,h,E):u.style.removeProperty(h);else{const A="string"==typeof g&&g.endsWith("!important");A&&(g=g.slice(0,-10),E|=C.Important),y?o.setStyle(u,h,g,E):u.style.setProperty(h,g,A?"important":"")}}}(h,E,ba(Pr(),u),g,y))}(y,y.data[Pr()],g,g[11],o,g[E+1]=function s_(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=U(eo(o)))),o}(a,u),h,E)}(o,a,null,!0),Rf}function $m(o,a,u,h,g){let y=null;const E=u.directiveEnd;let A=u.directiveStylingLast;for(-1===A?A=u.directiveStart:A++;A<E&&(y=a[A],h=Rc(h,y.hostAttrs,g),y!==o);)A++;return null!==o&&(u.directiveStylingLast=A),h}function Rc(o,a,u){const h=u?1:2;let g=-1;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?g=E:g===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ki(o,E,!!u||a[++y]))}return void 0===o?null:o}function i_(o,a,u,h,g,y){const E=null===a;let A;for(;g>0;){const N=o[g],ne=Array.isArray(N),le=ne?N[1]:N,Ae=null===le;let Fe=u[g+1];Fe===an&&(Fe=Ae?Me:void 0);let $e=Ae?cd(Fe,h):le===h?Fe:void 0;if(ne&&!Md($e)&&($e=cd(N,h)),Md($e)&&(A=$e,E))return A;const ut=o[g+1];g=E?Pa(ut):kc(ut)}if(null!==a){let N=y?a.residualClasses:a.residualStyles;null!=N&&(A=cd(N,h))}return A}function Md(o){return void 0!==o}function Km(o,a=""){const u=ft(),h=mn(),g=o+20,y=h.firstCreatePass?ff(h,g,1,a,null):h.data[g],E=u[g]=function st(o,a){return Hn(o)?o.createText(a):o.createTextNode(a)}(u[11],a);Vu(h,u,E,y),di(y,!1)}function Pf(o){return Od("",o,""),Pf}function Od(o,a,u){const h=ft(),g=function wf(o,a,u,h){return so(o,wr(),u)?a+G(u)+h:an}(h,o,a,u);return g!==an&&ha(h,Pr(),g),Od}const Ah=void 0;var DD=["en",[["a","p"],["AM","PM"],Ah],[["AM","PM"],Ah,Ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ah,"{1} 'at' {0}",Ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CD(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let qu={};function Rd(o,a,u){"string"!=typeof a&&(u=a,a=o[rn.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),qu[a]=o,u&&(qu[a][rn.ExtraData]=u)}function ev(o){const a=function lw(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Ih(a);if(u)return u;const h=a.split("-")[0];if(u=Ih(h),u)return u;if("en"===h)return DD;throw new Error(`Missing locale data for the locale "${o}".`)}function g_(o){return ev(o)[rn.PluralCase]}function Ih(o){return o in qu||(qu[o]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[o]),qu[o]}var rn=(()=>((rn=rn||{})[rn.LocaleId=0]="LocaleId",rn[rn.DayPeriodsFormat=1]="DayPeriodsFormat",rn[rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",rn[rn.DaysFormat=3]="DaysFormat",rn[rn.DaysStandalone=4]="DaysStandalone",rn[rn.MonthsFormat=5]="MonthsFormat",rn[rn.MonthsStandalone=6]="MonthsStandalone",rn[rn.Eras=7]="Eras",rn[rn.FirstDayOfWeek=8]="FirstDayOfWeek",rn[rn.WeekendRange=9]="WeekendRange",rn[rn.DateFormat=10]="DateFormat",rn[rn.TimeFormat=11]="TimeFormat",rn[rn.DateTimeFormat=12]="DateTimeFormat",rn[rn.NumberSymbols=13]="NumberSymbols",rn[rn.NumberFormats=14]="NumberFormats",rn[rn.CurrencyCode=15]="CurrencyCode",rn[rn.CurrencySymbol=16]="CurrencySymbol",rn[rn.CurrencyName=17]="CurrencyName",rn[rn.Currencies=18]="Currencies",rn[rn.Directionality=19]="Directionality",rn[rn.PluralCase=20]="PluralCase",rn[rn.ExtraData=21]="ExtraData",rn))();const sg="en-US";let dw=sg;function T_(o,a,u,h,g){if(o=j(o),Array.isArray(o))for(let y=0;y<o.length;y++)T_(o[y],a,u,h,g);else{const y=mn(),E=ft();let A=vf(o)?o:j(o.provide),N=pb(o);const ne=Pn(),le=1048575&ne.providerIndexes,Ae=ne.directiveStart,Fe=ne.providerIndexes>>20;if(vf(o)||!o.multi){const $e=new zi(N,g,kf),ut=uv(A,a,g?le:le+Fe,Ae);-1===ut?(fi(Ti(ne,E),y,A),S_(y,o,a.length),a.push(A),ne.directiveStart++,ne.directiveEnd++,g&&(ne.providerIndexes+=1048576),u.push($e),E.push($e)):(u[ut]=$e,E[ut]=$e)}else{const $e=uv(A,a,le+Fe,Ae),ut=uv(A,a,le,le+Fe),Tt=$e>=0&&u[$e],Nt=ut>=0&&u[ut];if(g&&!Nt||!g&&!Tt){fi(Ti(ne,E),y,A);const $t=function BD(o,a,u,h,g){const y=new zi(o,u,kf);return y.multi=[],y.index=a,y.componentProviders=0,Pw(y,g,h&&!u),y}(g?LT:FD,u.length,g,h,N);!g&&Nt&&(u[ut].providerFactory=$t),S_(y,o,a.length,0),a.push(A),ne.directiveStart++,ne.directiveEnd++,g&&(ne.providerIndexes+=1048576),u.push($t),E.push($t)}else S_(y,o,$e>-1?$e:ut,Pw(u[g?ut:$e],N,!g&&h));!g&&h&&Nt&&u[ut].componentProviders++}}}function S_(o,a,u,h){const g=vf(a),y=function mb(o){return!!o.useClass}(a);if(g||y){const N=(y?j(a.useClass):a).prototype.ngOnDestroy;if(N){const ne=o.destroyHooks||(o.destroyHooks=[]);if(!g&&a.multi){const le=ne.indexOf(u);-1===le?ne.push(u,[h,N]):ne[le+1].push(h,N)}else ne.push(u,N)}}}function Pw(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function uv(o,a,u,h){for(let g=u;g<h;g++)if(a[g]===o)return g;return-1}function FD(o,a,u,h){return Ho(this.multi,[])}function LT(o,a,u,h){const g=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,A=Ro(u,u[1],this.providerFactory.index,h);y=A.slice(0,E),Ho(g,y);for(let N=E;N<A.length;N++)y.push(A[N])}else y=[],Ho(g,y);return y}function Ho(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function x_(o,a=[]){return u=>{u.providersResolver=(h,g)=>function LD(o,a,u){const h=mn();if(h.firstCreatePass){const g=Bi(o);T_(u,h.data,h.blueprint,g,!0),T_(a,h.data,h.blueprint,g,!1)}}(h,g?g(o):o,a)}}class xh{}class Fw{resolveComponentFactory(a){throw function Lw(o){const a=Error(`No component factory found for ${U(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let nu=(()=>{class o{}return o.NULL=new Fw,o})();function Bw(){return Ku(Pn(),ft())}function Ku(o,a){return new Rn(Nr(o,a))}let Rn=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=Bw,o})();function UD(o){return o instanceof Rn?o.nativeElement:o}class kh{}let VD=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function HD(){const o=ft(),u=Hr(Pn().index,o);return function Ji(o){return o[11]}(Xi(u)?u:o)}(),o})(),Pd=(()=>{class o{}return o.\u0275prov=Oe({token:o,providedIn:"root",factory:()=>null}),o})();class Zr{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Ld=new Zr("13.2.4"),pg={};function gg(o,a,u,h,g=!1){for(;null!==u;){const y=a[u.index];if(null!==y&&h.push(Bn(y)),ri(y))for(let A=10;A<y.length;A++){const N=y[A],ne=N[1].firstChild;null!==ne&&gg(N[1],N,ne,h)}const E=u.type;if(8&E)gg(o,a,u.child,h);else if(32&E){const A=z(u,a);let N;for(;N=A();)h.push(N)}else if(16&E){const A=Jv(a,u);if(Array.isArray(A))h.push(...A);else{const N=De(a[16]);gg(N[1],N,A,h,!0)}}u=g?u.projectionNext:u.next}return h}class Bc{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return gg(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ri(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(Oi(a,h),cl(u,h))}this._attachedToViewContainer=!1}Ri(this._lView[1],this._lView)}onDestroy(a){Fp(this._lView[1],this._lView,null,a)}markForCheck(){wy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function FC(o,a,u){el(!0);try{Cy(o,a,u)}finally{el(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new V(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qr(o,a){Sc(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new V(902,"");this._appRef=a}}class jD extends Bc{constructor(a){super(a),this._view=a}detectChanges(){lb(this._view)}checkNoChanges(){!function BC(o){el(!0);try{lb(o)}finally{el(!1)}}(this._view)}get context(){return null}}class Fd extends nu{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Mr(a);return new k_(u,this.ngModule)}}function Bd(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}const Uw=new or("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>af});class k_ extends xh{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function V0(o){return o.map(U0).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Bd(this.componentDef.inputs)}get outputs(){return Bd(this.componentDef.outputs)}create(a,u,h,g){const y=(g=g||this.ngModule)?function zt(o,a){return{get:(u,h,g)=>{const y=o.get(u,pg,g);return y!==pg||h===pg?y:a.get(u,h,g)}}}(a,g.injector):a,E=y.get(kh,Rl),A=y.get(Pd,null),N=E.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",le=h?function gy(o,a,u){if(Hn(o))return o.selectRootElement(a,u===Qt.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(N,h,this.componentDef.encapsulation):jt(E.createRenderer(null,this.componentDef),ne,function mg(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(ne)),Ae=this.componentDef.onPush?576:528,Fe=function tD(o,a){return{components:[],scheduler:o||af,clean:UC,playerHandler:a||null,flags:0}}(),$e=cm(0,null,null,1,0,null,null,null,null,null),ut=Pp(null,$e,Fe,Ae,null,null,E,N,A,y);let Tt,Nt;$s(ut);try{const $t=function eD(o,a,u,h,g,y){const E=u[1];u[20]=o;const N=ff(E,20,2,"#host",null),ne=N.mergedAttrs=a.hostAttrs;null!==ne&&(bm(N,ne,!0),null!==o&&(zr(g,o,ne),null!==N.classes&&tm(g,o,N.classes),null!==N.styles&&Ip(g,o,N.styles)));const le=h.createRenderer(o,a),Ae=Pp(u,J0(a),null,a.onPush?64:16,u[20],N,h,le,y||null,null);return E.firstCreatePass&&(fi(Ti(N,u),E,a.type),nb(E,N),rb(N,u.length,1)),gm(u,Ae),u[20]=Ae}(le,this.componentDef,ut,E,N);if(le)if(h)zr(N,le,["ng-version",Ld.full]);else{const{attrs:gt,classes:Xt}=function fC(o){const a=[],u=[];let h=1,g=2;for(;h<o.length;){let y=o[h];if("string"==typeof y)2===g?""!==y&&a.push(y,o[++h]):8===g&&u.push(y);else{if(!Xl(g))break;g=y}h++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);gt&&zr(N,le,gt),Xt&&Xt.length>0&&tm(N,le,Xt.join(" "))}if(Nt=Gn($e,20),void 0!==u){const gt=Nt.projection=[];for(let Xt=0;Xt<this.ngContentSelectors.length;Xt++){const xn=u[Xt];gt.push(null!=xn?Array.from(xn):null)}}Tt=function Im(o,a,u,h,g){const y=u[1],E=function TC(o,a,u){const h=Pn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),yy(o,h,a,vh(o,a,1,null),u));const g=Ro(a,o,h.directiveStart,h);In(g,a);const y=Nr(h,a);return y&&In(y,a),g}(y,u,a);if(h.components.push(E),o[8]=E,g&&g.forEach(N=>N(E,a)),a.contentQueries){const N=Pn();a.contentQueries(1,E,N.directiveStart)}const A=Pn();return!y.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Es(A.index),tb(u[1],A,0,A.directiveStart,A.directiveEnd,a),vy(a,E)),E}($t,this.componentDef,ut,Fe,[ST]),gf($e,ut,null)}finally{Xo()}return new vg(this.componentType,Tt,Ku(Nt,ut),ut,Nt)}}class vg extends class On{}{constructor(a,u,h,g,y){super(),this.location=h,this._rootLView=g,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new jD(g),this.componentType=a}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Oh{}class Rh{}const Ud=new Map;class qf extends Oh{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fd(this);const h=Or(a);this._bootstrapComponents=s(h.bootstrap),this._r3Injector=Ay(a,u,[{provide:Oh,useValue:this},{provide:nu,useValue:this.componentFactoryResolver}],U(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=wl.THROW_IF_NOT_FOUND,h=We.Default){return a===wl||a===Oh||a===wm?this:this._r3Injector.get(a,u,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class ds extends Rh{constructor(a){super(),this.moduleType=a,null!==Or(a)&&function dv(o){const a=new Set;!function u(h){const g=Or(h,!0),y=g.id;null!==y&&(function cv(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${U(a)} vs ${U(a.name)}`)}(y,Ud.get(y),h),Ud.set(y,h));const E=s(g.imports);for(const A of E)a.has(A)||(a.add(A),u(A))}(o)}(a)}create(a){return new qf(this.moduleType,a)}}function Vd(o,a){const u=o[a];return u===an?void 0:u}function lo(o,a,u,h,g,y,E){const A=a+u;return function _h(o,a,u,h){const g=so(o,a,u);return so(o,a+1,h)||g}(o,A,g,y)?Mc(o,A+2,E?h.call(E,g,y):h(g,y)):Vd(o,A+2)}function P_(o,a){const u=mn();let h;const g=o+20;u.firstCreatePass?(h=function WD(o,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(o===h.name)return h}}(a,u.pipeRegistry),u.data[g]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(g,h.onDestroy)):h=u.data[g];const y=h.factory||(h.factory=Ui(h.type)),E=dt(kf);try{const A=ta(!1),N=y();return ta(A),function Sn(o,a,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=h}(u,ft(),g,N),N}finally{dt(E)}}function $w(o,a,u){const h=o+20,g=ft(),y=Co(g,h);return wg(g,h)?function bg(o,a,u,h,g,y){const E=a+u;return so(o,E,g)?Mc(o,E+1,y?h.call(y,g):h(g)):Vd(o,E+1)}(g,br(),a,y.transform,u,y):y.transform(u)}function Ww(o,a,u,h){const g=o+20,y=ft(),E=Co(y,g);return wg(y,g)?lo(y,br(),a,E.transform,u,h,E):E.transform(u,h)}function wg(o,a){return o[1].data[a].pure}function pv(o){return a=>{setTimeout(o,void 0,a)}}const hs=class qw extends m.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){var g,y,E;let A=a,N=u||(()=>null),ne=h;if(a&&"object"==typeof a){const Ae=a;A=null===(g=Ae.next)||void 0===g?void 0:g.bind(Ae),N=null===(y=Ae.error)||void 0===y?void 0:y.bind(Ae),ne=null===(E=Ae.complete)||void 0===E?void 0:E.bind(Ae)}this.__isAsync&&(N=pv(N),A&&(A=pv(A)),ne&&(ne=pv(ne)));const le=super.subscribe({next:A,error:N,complete:ne});return a instanceof S.w0&&a.add(le),le}};function Kw(){return this._results[yf()]()}class Hd{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=yf(),h=Hd.prototype;h[u]||(h[u]=Kw)}get changes(){return this._changes||(this._changes=new hs)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const g=$r(a);(this._changesDetected=!function Au(o,a,u){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let g=o[h],y=a[h];if(u&&(g=u(g),y=u(y)),y!==g)return!1}return!0}(h._results,g,u))&&(h._results=g,h.length=g.length,h.last=g[this.length-1],h.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let jd=(()=>{class o{}return o.__NG_ELEMENT_ID__=F_,o})();const gv=jd,L_=class extends gv{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a){const u=this._declarationTContainer.tViews,h=Pp(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(u)),gf(u,h,a),new Bc(h)}};function F_(){return Yf(Pn(),ft())}function Yf(o,a){return 4&o.type?new L_(a,o,Ku(o,a)):null}let Uc=(()=>{class o{}return o.__NG_ELEMENT_ID__=Dl,o})();function Dl(){return mv(Pn(),ft())}const Zw=Uc,Qf=class extends Zw{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const a=ko(this._hostTNode,this._hostLView);if(Hl(a)){const u=sr(a,this._hostLView),h=Ln(a);return new Po(u[1].data[h+8],u)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=B_(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){const g=a.createEmbeddedView(u||{});return this.insert(g,h),g}createComponent(a,u,h,g,y){const E=a&&!function pi(o){return"function"==typeof o}(a);let A;if(E)A=u;else{const Ae=u||{};A=Ae.index,h=Ae.injector,g=Ae.projectableNodes,y=Ae.ngModuleRef}const N=E?a:new k_(Mr(a)),ne=h||this.parentInjector;if(!y&&null==N.ngModule){const Fe=(E?ne:this.parentInjector).get(Oh,null);Fe&&(y=Fe)}const le=N.create(ne,g,void 0,y);return this.insert(le.hostView,A),le}insert(a,u){const h=a._lView,g=h[1];if(function ur(o){return ri(o[3])}(h)){const le=this.indexOf(a);if(-1!==le)this.detach(le);else{const Ae=h[3],Fe=new Qf(Ae,Ae[6],Ae[3]);Fe.detach(Fe.indexOf(a))}}const y=this._adjustIndex(u),E=this._lContainer;!function Ar(o,a,u,h){const g=10+h,y=u.length;h>0&&(u[g-1][4]=a),h<y-10?(a[4]=u[g],Iu(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const E=a[17];null!==E&&u!==E&&function os(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(E,a);const A=a[19];null!==A&&A.insertView(o),a[2]|=128}(g,h,E,y);const A=em(y,E),N=h[11],ne=Tc(N,E[7]);return null!==ne&&function Vn(o,a,u,h,g,y){h[0]=g,h[6]=a,Sc(o,h,u,1,g,y)}(g,E[6],N,h,ne,A),a.attachToViewContainerRef(),Iu(Eg(E),y,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=B_(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=Oi(this._lContainer,u);h&&(cl(Eg(this._lContainer),u),Ri(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=Oi(this._lContainer,u);return h&&null!=cl(Eg(this._lContainer),u)?new Bc(h):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function B_(o){return o[8]}function Eg(o){return o[8]||(o[8]=[])}function mv(o,a){let u;const h=a[o.index];if(ri(h))u=h;else{let g;if(8&o.type)g=Bn(h);else{const y=a[11];g=y.createComment("");const E=Nr(o,a);ks(y,Tc(y,E),g,function bl(o,a){return Hn(o)?o.nextSibling(a):a.nextSibling}(y,E),!1)}a[o.index]=u=ob(h,a,g,o),gm(a,u)}return new Qf(u,o,a)}class vv{constructor(a){this.queryList=a,this.matches=null}clone(){return new vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class yv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,g=[];for(let y=0;y<h;y++){const E=u.getByIndex(y);g.push(this.queries[E.indexInDeclarationView].clone())}return new yv(g)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Dg(a,u).matches&&this.queries[u].setDirty()}}class Cg{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class U_{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const g=null!==u?u.length:0,y=this.getByIndex(h).embeddedTView(a,g);y&&(y.indexInDeclarationView=h,null!==u?u.push(y):u=[y])}return null!==u?new U_(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class V_{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new V_(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let g=0;g<h.length;g++){const y=h[g];this.matchTNodeWithReadOption(a,u,Qw(u,y)),this.matchTNodeWithReadOption(a,u,oc(u,a,y,!1,!1))}else h===jd?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,oc(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const g=this.metadata.read;if(null!==g)if(g===Rn||g===Uc||g===jd&&4&u.type)this.addMatch(u.index,-2);else{const y=oc(u,a,g,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Qw(o,a){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function Nh(o,a,u,h){return-1===u?function Jf(o,a){return 11&o.type?Ku(o,a):4&o.type?Yf(o,a):null}(a,o):-2===u?function Jw(o,a,u){return u===Rn?Ku(a,o):u===jd?Yf(a,o):u===Uc?mv(a,o):void 0}(o,a,h):Ro(o,o[1],u,a)}function zd(o,a,u,h){const g=a[19].queries[h];if(null===g.matches){const y=o.data,E=u.matches,A=[];for(let N=0;N<E.length;N+=2){const ne=E[N];A.push(ne<0?null:Nh(a,y[ne],E[N+1],u.metadata.read))}g.matches=A}return g.matches}function _v(o,a,u,h){const g=o.queries.getByIndex(u),y=g.matches;if(null!==y){const E=zd(o,a,g,u);for(let A=0;A<y.length;A+=2){const N=y[A];if(N>0)h.push(E[A/2]);else{const ne=y[A+1],le=a[-N];for(let Ae=10;Ae<le.length;Ae++){const Fe=le[Ae];Fe[17]===Fe[3]&&_v(Fe[1],Fe,ne,h)}if(null!==le[9]){const Ae=le[9];for(let Fe=0;Fe<Ae.length;Fe++){const $e=Ae[Fe];_v($e[1],$e,ne,h)}}}}}return h}function Ph(o){const a=ft(),u=mn(),h=To();_u(h+1);const g=Dg(u,h);if(o.dirty&&Ya(a)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const y=g.crossesNgTemplate?_v(u,a,h,[]):zd(u,a,g,h);o.reset(y,UD),o.notifyOnChanges()}return!0}return!1}function H_(o,a,u){const h=mn();h.firstCreatePass&&(Ei(h,new Cg(o,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),Xw(h,ft(),a)}function j_(o,a,u,h){const g=mn();if(g.firstCreatePass){const y=Pn();Ei(g,new Cg(a,u,h),y.index),function bv(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(g,o),2==(2&u)&&(g.staticContentQueries=!0)}Xw(g,ft(),u)}function Xf(){return function YD(o,a){return o[19].queries[a].queryList}(ft(),To())}function Xw(o,a,u){const h=new Hd(4==(4&u));Fp(o,a,h,h.destroy),null===a[19]&&(a[19]=new yv),a[19].queries.push(new vv(h))}function Ei(o,a,u){null===o.queries&&(o.queries=new U_),o.queries.track(new V_(a,u))}function Dg(o,a){return o.queries.getByIndex(a)}function Mg(...o){}const Av=new or("Application Initializer");let rp=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Mg,this.reject=Mg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,g)=>{this.resolve=h,this.reject=g})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const y=this.appInits[g]();if(wh(y))u.push(y);else if(Gb(y)){const E=new Promise((A,N)=>{y.subscribe({complete:A,error:N})});u.push(E)}}Promise.all(u).then(()=>{h()}).catch(g=>{this.reject(g)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Et(Av,8))},o.\u0275prov=Oe({token:o,factory:o.\u0275fac}),o})();const fE=new or("AppId"),Q_={provide:fE,useFactory:function Og(){return`${J_()}${J_()}${J_()}`},deps:[]};function J_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const X_=new or("Platform Initializer"),e0=new or("Platform ID"),t0=new or("appBootstrapListener");let n0=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Oe({token:o,factory:o.\u0275fac}),o})();const Iv=new or("LocaleId"),pE=new or("DefaultCurrencyCode");class oA{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let r0=(()=>{class o{compileModuleSync(u){return new ds(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),y=s(Or(u).declarations).reduce((E,A)=>{const N=Mr(A);return N&&E.push(new k_(N)),E},[]);return new oA(h,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Oe({token:o,factory:o.\u0275fac}),o})();const aA=(()=>Promise.resolve(0))();function Tv(o){"undefined"==typeof Zone?aA.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ua{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hs(!1),this.onMicrotaskEmpty=new hs(!1),this.onStable=new hs(!1),this.onError=new hs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!h&&u,g.shouldCoalesceRunChangeDetection=h,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Yu(){let o=nn.requestAnimationFrame,a=nn.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function uo(o){const a=()=>{!function xr(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(nn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,s0(o),o.isCheckStableRunning=!0,Qu(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),s0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,g,y,E,A)=>{try{return mE(o),u.invokeTask(g,y,E,A)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||o.shouldCoalesceRunChangeDetection)&&a(),Jr(o)}},onInvoke:(u,h,g,y,E,A,N)=>{try{return mE(o),u.invoke(g,y,E,A,N)}finally{o.shouldCoalesceRunChangeDetection&&a(),Jr(o)}},onHasTask:(u,h,g,y)=>{u.hasTask(g,y),h===g&&("microTask"==y.change?(o._hasPendingMicrotasks=y.microTask,s0(o),Qu(o)):"macroTask"==y.change&&(o.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,h,g,y)=>(u.handleError(g,y),o.runOutsideAngular(()=>o.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ua.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ua.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,g){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+g,a,Va,Mg,Mg);try{return y.runTask(E,u,h)}finally{y.cancelTask(E)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const Va={};function Qu(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function s0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function mE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Jr(o){o._nesting--,Qu(o)}class Ju{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hs,this.onMicrotaskEmpty=new hs,this.onStable=new hs,this.onError=new hs}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,g){return a.apply(u,h)}}let jo=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ua.assertNotInAngularZone(),Tv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,g){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:g})}whenStable(u,h,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,g){return[]}}return o.\u0275fac=function(u){return new(u||o)(Et(Ua))},o.\u0275prov=Oe({token:o,factory:o.\u0275fac}),o})(),ps=(()=>{class o{constructor(){this._applications=new Map,iu.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return iu.findTestabilityInTree(this,u,h)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Oe({token:o,factory:o.\u0275fac}),o})();class Ha{addToWindow(a){}findTestabilityInTree(a,u,h){return null}}function Lh(o){iu=o}let co,iu=new Ha;const ja=new or("AllowMultipleToken");class gs{constructor(a,u){this.name=a,this.token=u}}function o0(o,a,u=[]){const h=`Platform: ${a}`,g=new or(h);return(y=[])=>{let E=a0();if(!E||E.injector.get(ja,!1))if(o)o(u.concat(y).concat({provide:g,useValue:!0}));else{const A=u.concat(y).concat({provide:g,useValue:!0},{provide:Up,useValue:"platform"});!function vE(o){if(co&&!co.destroyed&&!co.injector.get(ja,!1))throw new V(400,"");co=o.get(it);const a=o.get(X_,null);a&&a.forEach(u=>u())}(wl.create({providers:A,name:h}))}return function lA(o){const a=a0();if(!a)throw new V(401,"");return a}()}}function a0(){return co&&!co.destroyed?co:null}let it=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const A=function Sv(o,a){let u;return u="noop"===o?new Ju:("zone.js"===o?void 0:o)||new Ua({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),N=[{provide:Ua,useValue:A}];return A.run(()=>{const ne=wl.create({providers:N,parent:this.injector,name:u.moduleType.name}),le=u.create(ne),Ae=le.injector.get(vr,null);if(!Ae)throw new V(402,"");return A.runOutsideAngular(()=>{const Fe=A.onError.subscribe({next:$e=>{Ae.handleError($e)}});le.onDestroy(()=>{zc(this._modules,le),Fe.unsubscribe()})}),function su(o,a,u){try{const h=u();return wh(h)?h.catch(g=>{throw a.runOutsideAngular(()=>o.handleError(g)),g}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(Ae,A,()=>{const Fe=le.injector.get(rp);return Fe.runInitializers(),Fe.donePromise.then(()=>(function TD(o){Ee(o,"Expected localeId to be defined"),"string"==typeof o&&(dw=o.toLowerCase().replace(/_/g,"-"))}(le.injector.get(Iv,sg)||sg),this._moduleDoBootstrap(le),le))})})}bootstrapModule(u,h=[]){const g=yE({},h);return function ip(o,a,u){const h=new ds(u);return Promise.resolve(h)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(u){const h=u.injector.get(jc);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(g=>h.bootstrap(g));else{if(!u.instance.ngDoBootstrap)throw new V(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Et(wl))},o.\u0275prov=Oe({token:o,factory:o.\u0275fac}),o})();function yE(o,a){return Array.isArray(a)?a.reduce(yE,o):Object.assign(Object.assign({},o),a)}let jc=(()=>{class o{constructor(u,h,g,y,E){this._zone=u,this._injector=h,this._exceptionHandler=g,this._componentFactoryResolver=y,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new T.y(ne=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ne.next(this._stable),ne.complete()})}),N=new T.y(ne=>{let le;this._zone.runOutsideAngular(()=>{le=this._zone.onStable.subscribe(()=>{Ua.assertNotInAngularZone(),Tv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ne.next(!0))})})});const Ae=this._zone.onUnstable.subscribe(()=>{Ua.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ne.next(!1)}))});return()=>{le.unsubscribe(),Ae.unsubscribe()}});this.isStable=(0,F.T)(A,N.pipe((0,$.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new V(405,"");let g;g=u instanceof xh?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(g.componentType);const y=function Tl(o){return o.isBoundToModule}(g)?void 0:this._injector.get(Oh),A=g.create(wl.NULL,[],h||g.selector,y),N=A.location.nativeElement,ne=A.injector.get(jo,null),le=ne&&A.injector.get(ps);return ne&&le&&le.registerApplication(N,ne),A.onDestroy(()=>{this.detachView(A.hostView),zc(this.components,A),le&&le.unregisterApplication(N)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new V(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;zc(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(t0,[]).concat(this._bootstrapListeners).forEach(g=>g(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Et(Ua),Et(wl),Et(vr),Et(nu),Et(rp))},o.\u0275prov=Oe({token:o,factory:o.\u0275fac}),o})();function zc(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let l0=!0,xv=!1;function bE(){return xv=!0,l0}function ms(){if(xv)throw new Error("Cannot enable prod mode after platform setup.");l0=!1}let Gd=(()=>{class o{}return o.__NG_ELEMENT_ID__=CE,o})();function CE(o){return function DE(o,a,u){if(kl(o)&&!u){const h=Hr(o.index,a);return new Bc(h,h)}return 47&o.type?new Bc(a[16],a):null}(Pn(),ft(),16==(16&o))}class d0{constructor(){}supports(a){return _f(a)}create(a){return new f0(a)}}const h0=(o,a)=>a;class f0{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||h0}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,g=0,y=null;for(;u||h;){const E=!h||u&&u.currentIndex<kE(h,g,y)?u:h,A=kE(E,g,y),N=E.currentIndex;if(E===h)g--,h=h._nextRemoved;else if(u=u._next,null==E.previousIndex)g++;else{y||(y=[]);const ne=A-g,le=N-g;if(ne!=le){for(let Fe=0;Fe<ne;Fe++){const $e=Fe<y.length?y[Fe]:y[Fe]=0,ut=$e+Fe;le<=ut&&ut<ne&&(y[Fe]=$e+1)}y[E.previousIndex]=le-ne}}A!==N&&a(E,A,N)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!_f(a))throw new V(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let g,y,E,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let A=0;A<this.length;A++)y=a[A],E=this._trackByFn(A,y),null!==u&&Object.is(u.trackById,E)?(h&&(u=this._verifyReinsertion(u,y,E,A)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,E,A),h=!0),u=u._next}else g=0,function OT(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[yf()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,A=>{E=this._trackByFn(g,A),null!==u&&Object.is(u.trackById,E)?(h&&(u=this._verifyReinsertion(u,A,E,g)),Object.is(u.item,A)||this._addIdentityChange(u,A)):(u=this._mismatch(u,A,E,g),h=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,g){let y;return null===a?y=this._itTail:(y=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,y,g)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,g))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,y,g)):a=this._addAfter(new xE(u,h),y,g),a}_verifyReinsertion(a,u,h,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?a=this._reinsertAfter(y,a._prev,g):a.currentIndex!=g&&(a.currentIndex=g,this._addToMoves(a,g)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const g=a._prevRemoved,y=a._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const g=null===u?this._itHead:u._next;return a._next=g,a._prev=u,null===g?this._itTail=a:g._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Pv),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pv),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class xE{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Pv{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new hA,this.map.set(u,h)),h.add(a)}get(a,u){const g=this.map.get(a);return g?g.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kE(o,a,u){const h=o.previousIndex;if(null===h)return h;let g=0;return u&&h<u.length&&(g=u[h]),h+a+g}class p0{constructor(){}supports(a){return a instanceof Map||Ry(a)}create(){return new Lv}}class Lv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Ry(a)))throw new V(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(g,h);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const g=this._records.get(a);this._maybeAddToChanges(g,u);const y=g._prev,E=g._next;return y&&(y._next=E),E&&(E._prev=y),g._next=null,g._prev=null,g}const h=new Fv(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class Fv{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pg(){return new Bv([new d0])}let Bv=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const g=h.factories.slice();u=u.concat(g)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||Pg()),deps:[[o,new Dr,new oi]]}}find(u){const h=this.factories.find(g=>g.supports(u));if(null!=h)return h;throw new V(901,"")}}return o.\u0275prov=Oe({token:o,providedIn:"root",factory:Pg}),o})();function g0(){return new up([new p0])}let up=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const g=h.factories.slice();u=u.concat(g)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||g0()),deps:[[o,new Dr,new oi]]}}find(u){const h=this.factories.find(y=>y.supports(u));if(h)return h;throw new V(901,"")}}return o.\u0275prov=Oe({token:o,providedIn:"root",factory:g0}),o})();const Vh=o0(null,"core",[{provide:e0,useValue:"unknown"},{provide:it,deps:[wl]},{provide:ps,deps:[]},{provide:n0,deps:[]}]),OE=[{provide:jc,useClass:jc,deps:[Ua,wl,vr,nu,rp]},{provide:Uw,deps:[Ua],useFactory:function qd(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(u){a.push(u)}}},{provide:rp,useClass:rp,deps:[[new oi,Av]]},{provide:r0,useClass:r0,deps:[]},Q_,{provide:Iv,useFactory:function pA(o){return o||function cp(){return"undefined"!=typeof $localize&&$localize.locale||sg}()},deps:[[new vi(Iv),new oi,new Dr]]},{provide:pE,useValue:"USD"}];let Hh=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Et(jc))},o.\u0275mod=Ci({type:o}),o.\u0275inj=ot({providers:OE}),o})()},3942:(vt,de,Y)=>{"use strict";Y.d(de,{Z:()=>V});var m=Y(2090),S=Y(4859),T=Y(9681),F=Y(1877);class ${constructor(G,re){this._delegate=G,this.firebase=re,(0,T._addComponent)(G,new S.wA("app-compat",()=>this,"PUBLIC")),this.container=G.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this._delegate.automaticDataCollectionEnabled=G}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(G=>{this._delegate.checkDestroyed(),G()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(G,re=T._DEFAULT_ENTRY_NAME){var pe;this._delegate.checkDestroyed();const fe=this._delegate.container.getProvider(G);return!fe.isInitialized()&&"EXPLICIT"===(null===(pe=fe.getComponent())||void 0===pe?void 0:pe.instantiationMode)&&fe.initialize(),fe.getImmediate({identifier:re})}_removeServiceInstance(G,re=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(G).clearInstance(re)}_addComponent(G){(0,T._addComponent)(this._delegate,G)}_addOrOverwriteComponent(G){(0,T._addOrOverwriteComponent)(this._delegate,G)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const P=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),D=function H(){const q=function U(q){const G={},re={__esModule:!0,initializeApp:function me(ae,oe={}){const k=T.initializeApp(ae,oe);if((0,m.r3)(G,k.name))return G[k.name];const he=new q(k,re);return G[k.name]=he,he},app:fe,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function ye(ae){const oe=ae.name,k=oe.replace("-compat","");if(T._registerComponent(ae)&&"PUBLIC"===ae.type){const he=(Ce=fe())=>{if("function"!=typeof Ce[k])throw P.create("invalid-app-argument",{appName:oe});return Ce[k]()};void 0!==ae.serviceProps&&(0,m.ZB)(he,ae.serviceProps),re[k]=he,q.prototype[k]=function(...Ce){return this._getService.bind(this,oe).apply(this,ae.multipleInstances?Ce:[])}}return"PUBLIC"===ae.type?re[k]:null},removeApp:function pe(ae){delete G[ae]},useAsService:function xe(ae,oe){return"serverAuth"===oe?null:oe},modularAPIs:T}};function fe(ae){if(!(0,m.r3)(G,ae=ae||T._DEFAULT_ENTRY_NAME))throw P.create("no-app",{appName:ae});return G[ae]}return re.default=re,Object.defineProperty(re,"apps",{get:function te(){return Object.keys(G).map(ae=>G[ae])}}),fe.App=q,re}($);return q.INTERNAL=Object.assign(Object.assign({},q.INTERNAL),{createFirebaseNamespace:H,extendNamespace:function G(re){(0,m.ZB)(q,re)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),q}(),I=new F.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){I.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const q=self.firebase.SDK_VERSION;q&&q.indexOf("LITE")>=0&&I.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const V=D;!function x(q){(0,T.registerVersion)("@firebase/app-compat","0.1.18",q)}()},9681:(vt,de,Y)=>{"use strict";Y.r(de),Y.d(de,{FirebaseError:()=>F.ZR,SDK_VERSION:()=>Ne,_DEFAULT_ENTRY_NAME:()=>se,_addComponent:()=>we,_addOrOverwriteComponent:()=>ke,_apps:()=>Q,_clearComponents:()=>Je,_components:()=>B,_getProvider:()=>rt,_registerComponent:()=>Oe,_removeServiceInstance:()=>ot,deleteApp:()=>Pe,getApp:()=>Te,getApps:()=>be,initializeApp:()=>je,onLog:()=>ze,registerVersion:()=>tt,setLogLevel:()=>dt});var m=Y(5861),S=Y(4859),T=Y(1877),F=Y(2090);class ${constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function Z(Ye){const nt=Ye.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(kt)){const Rt=kt.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(kt=>kt).join(" ")}}const P="@firebase/app",U="0.7.17",H=new T.Yd("@firebase/app"),se="[DEFAULT]",Ee={[P]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Q=new Map,B=new Map;function we(Ye,nt){try{Ye.container.addComponent(nt)}catch(kt){H.debug(`Component ${nt.name} failed to register with FirebaseApp ${Ye.name}`,kt)}}function ke(Ye,nt){Ye.container.addOrOverwriteComponent(nt)}function Oe(Ye){const nt=Ye.name;if(B.has(nt))return H.debug(`There were multiple attempts to register component ${nt}.`),!1;B.set(nt,Ye);for(const kt of Q.values())we(kt,Ye);return!0}function rt(Ye,nt){return Ye.container.getProvider(nt)}function ot(Ye,nt,kt=se){rt(Ye,nt).clearInstance(kt)}function Je(){B.clear()}const Ct=new F.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class J{constructor(nt,kt,Rt){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new S.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Ct.create("app-deleted",{appName:this._name})}}const Ne="9.6.7";function je(Ye,nt={}){"object"!=typeof nt&&(nt={name:nt});const kt=Object.assign({name:se,automaticDataCollectionEnabled:!1},nt),Rt=kt.name;if("string"!=typeof Rt||!Rt)throw Ct.create("bad-app-name",{appName:String(Rt)});const sn=Q.get(Rt);if(sn){if((0,F.vZ)(Ye,sn.options)&&(0,F.vZ)(kt,sn.config))return sn;throw Ct.create("duplicate-app",{appName:Rt})}const Qt=new S.H0(Rt);for(const xt of B.values())Qt.addComponent(xt);const Ot=new J(Ye,kt,Qt);return Q.set(Rt,Ot),Ot}function Te(Ye=se){const nt=Q.get(Ye);if(!nt)throw Ct.create("no-app",{appName:Ye});return nt}function be(){return Array.from(Q.values())}function Pe(Ye){return We.apply(this,arguments)}function We(){return(We=(0,m.Z)(function*(Ye){const nt=Ye.name;Q.has(nt)&&(Q.delete(nt),yield Promise.all(Ye.container.getProviders().map(kt=>kt.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function tt(Ye,nt,kt){var Rt;let sn=null!==(Rt=Ee[Ye])&&void 0!==Rt?Rt:Ye;kt&&(sn+=`-${kt}`);const Qt=sn.match(/\s|\//),Ot=nt.match(/\s|\//);if(Qt||Ot){const xt=[`Unable to register library "${sn}" with version "${nt}":`];return Qt&&xt.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),Qt&&Ot&&xt.push("and"),Ot&&xt.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void H.warn(xt.join(" "))}Oe(new S.wA(`${sn}-version`,()=>({library:sn,version:nt}),"VERSION"))}function ze(Ye,nt){if(null!==Ye&&"function"!=typeof Ye)throw Ct.create("invalid-log-argument");(0,T.Am)(Ye,nt)}function dt(Ye){(0,T.Ub)(Ye)}!function Dt(Ye){Oe(new S.wA("platform-logger",nt=>new $(nt),"PRIVATE")),tt(P,U,Ye),tt(P,U,"esm2017"),tt("fire-js","")}("")},4859:(vt,de,Y)=>{"use strict";Y.d(de,{wA:()=>T,H0:()=>U});var m=Y(5861),S=Y(2090);class T{constructor(D,I,j){this.name=D,this.instanceFactory=I,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(D){return this.instantiationMode=D,this}setMultipleInstances(D){return this.multipleInstances=D,this}setServiceProps(D){return this.serviceProps=D,this}setInstanceCreatedCallback(D){return this.onInstanceCreated=D,this}}const F="[DEFAULT]";class ${constructor(D,I){this.name=D,this.container=I,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(D){const I=this.normalizeInstanceIdentifier(D);if(!this.instancesDeferred.has(I)){const j=new S.BH;if(this.instancesDeferred.set(I,j),this.isInitialized(I)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:I});R&&j.resolve(R)}catch(R){}}return this.instancesDeferred.get(I).promise}getImmediate(D){var I;const j=this.normalizeInstanceIdentifier(null==D?void 0:D.identifier),R=null!==(I=null==D?void 0:D.optional)&&void 0!==I&&I;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(R)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(x){if(R)return null;throw x}}getComponent(){return this.component}setComponent(D){if(D.name!==this.name)throw Error(`Mismatching Component ${D.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=D,this.shouldAutoInitialize()){if(function P(H){return"EAGER"===H.instantiationMode}(D))try{this.getOrInitializeService({instanceIdentifier:F})}catch(I){}for(const[I,j]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(I);try{const x=this.getOrInitializeService({instanceIdentifier:R});j.resolve(x)}catch(x){}}}}clearInstance(D=F){this.instancesDeferred.delete(D),this.instancesOptions.delete(D),this.instances.delete(D)}delete(){var D=this;return(0,m.Z)(function*(){const I=Array.from(D.instances.values());yield Promise.all([...I.filter(j=>"INTERNAL"in j).map(j=>j.INTERNAL.delete()),...I.filter(j=>"_delete"in j).map(j=>j._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(D=F){return this.instances.has(D)}getOptions(D=F){return this.instancesOptions.get(D)||{}}initialize(D={}){const{options:I={}}=D,j=this.normalizeInstanceIdentifier(D.instanceIdentifier);if(this.isInitialized(j))throw Error(`${this.name}(${j}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:j,options:I});for(const[x,V]of this.instancesDeferred.entries())j===this.normalizeInstanceIdentifier(x)&&V.resolve(R);return R}onInit(D,I){var j;const R=this.normalizeInstanceIdentifier(I),x=null!==(j=this.onInitCallbacks.get(R))&&void 0!==j?j:new Set;x.add(D),this.onInitCallbacks.set(R,x);const V=this.instances.get(R);return V&&D(V,R),()=>{x.delete(D)}}invokeOnInitCallbacks(D,I){const j=this.onInitCallbacks.get(I);if(j)for(const R of j)try{R(D,I)}catch(x){}}getOrInitializeService({instanceIdentifier:D,options:I={}}){let j=this.instances.get(D);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(H=D,H===F?void 0:H),options:I}),this.instances.set(D,j),this.instancesOptions.set(D,I),this.invokeOnInitCallbacks(j,D),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,D,j)}catch(R){}var H;return j||null}normalizeInstanceIdentifier(D=F){return this.component?this.component.multipleInstances?D:F:D}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class U{constructor(D){this.name=D,this.providers=new Map}addComponent(D){const I=this.getProvider(D.name);if(I.isComponentSet())throw new Error(`Component ${D.name} has already been registered with ${this.name}`);I.setComponent(D)}addOrOverwriteComponent(D){this.getProvider(D.name).isComponentSet()&&this.providers.delete(D.name),this.addComponent(D)}getProvider(D){if(this.providers.has(D))return this.providers.get(D);const I=new $(D,this);return this.providers.set(D,I),I}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,de,Y)=>{"use strict";Y.d(de,{in:()=>S,Yd:()=>P,Ub:()=>U,Am:()=>H});const m=[];var S=(()=>{return(D=S||(S={}))[D.DEBUG=0]="DEBUG",D[D.VERBOSE=1]="VERBOSE",D[D.INFO=2]="INFO",D[D.WARN=3]="WARN",D[D.ERROR=4]="ERROR",D[D.SILENT=5]="SILENT",S;var D})();const T={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},F=S.INFO,$={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},Z=(D,I,...j)=>{if(I<D.logLevel)return;const R=(new Date).toISOString(),x=$[I];if(!x)throw new Error(`Attempted to log a message with an invalid logType (value: ${I})`);console[x](`[${R}]  ${D.name}:`,...j)};class P{constructor(I){this.name=I,this._logLevel=F,this._logHandler=Z,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(I){if(!(I in S))throw new TypeError(`Invalid value "${I}" assigned to \`logLevel\``);this._logLevel=I}setLogLevel(I){this._logLevel="string"==typeof I?T[I]:I}get logHandler(){return this._logHandler}set logHandler(I){if("function"!=typeof I)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=I}get userLogHandler(){return this._userLogHandler}set userLogHandler(I){this._userLogHandler=I}debug(...I){this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...I),this._logHandler(this,S.DEBUG,...I)}log(...I){this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...I),this._logHandler(this,S.VERBOSE,...I)}info(...I){this._userLogHandler&&this._userLogHandler(this,S.INFO,...I),this._logHandler(this,S.INFO,...I)}warn(...I){this._userLogHandler&&this._userLogHandler(this,S.WARN,...I),this._logHandler(this,S.WARN,...I)}error(...I){this._userLogHandler&&this._userLogHandler(this,S.ERROR,...I),this._logHandler(this,S.ERROR,...I)}}function U(D){m.forEach(I=>{I.setLogLevel(D)})}function H(D,I){for(const j of m){let R=null;I&&I.level&&(R=T[I.level]),j.userLogHandler=null===D?null:(x,V,...q)=>{const G=q.map(re=>{if(null==re)return null;if("string"==typeof re)return re;if("number"==typeof re||"boolean"==typeof re)return re.toString();if(re instanceof Error)return re.message;try{return JSON.stringify(re)}catch(pe){return null}}).filter(re=>re).join(" ");V>=(null!=R?R:x.logLevel)&&D({level:S[V].toLowerCase(),message:G,args:q,type:x.name})}}}},5861:(vt,de,Y)=>{"use strict";function m(T,F,$,Z,P,U,H){try{var D=T[U](H),I=D.value}catch(j){return void $(j)}D.done?F(I):Promise.resolve(I).then(Z,P)}function S(T){return function(){var F=this,$=arguments;return new Promise(function(Z,P){var U=T.apply(F,$);function H(I){m(U,Z,P,H,D,"next",I)}function D(I){m(U,Z,P,H,D,"throw",I)}H(void 0)})}}Y.d(de,{Z:()=>S})}},vt=>{vt(vt.s=2911)}]);