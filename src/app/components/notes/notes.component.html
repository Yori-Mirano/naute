<div #scrollPositionAnchor style="position: absolute"></div>

<section waIntersectionObserver waIntersectionRootMargin="50%" style="max-width: 35rem; width: 100vw;">
  <div style="display: flex; align-items: center; flex-direction: column" (waIntersectionObservee)="onScrollTop($event)">
    <img style="height: 14rem; margin-bottom: 2rem" src="assets/logo-naute.png" alt="Naute - Explore your mind">
    <div *ngIf="isLoadingPrevious" style="margin: 2rem 0" class="loader loader--to-bottom" [class.loader--off]="!isLoadingPrevious"></div>
    <!--<div style="margin: 2rem 0" class="loader loader--to-bottom"></div>-->
  </div>

  <ul #list class="card-list" [class.card-list--is-top]="isBegin$ | async" [class.card-list--is-bottom]="isEnd$ | async">
    <li *ngFor="let note of notes$|async; trackBy:trackNoteById" style="position: relative">
      <app-note #note [note]="note"></app-note>
    </li>
  </ul>

  <div style="display: flex; justify-content: center;" (waIntersectionObservee)="onScrollBottom($event)">
    <div *ngIf="isLoadingNext" style="margin: 2rem 0" class="loader loader--to-top" [class.loader--off]="!isLoadingNext"></div>
  </div>
</section>
